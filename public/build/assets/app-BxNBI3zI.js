var lp=e=>{throw TypeError(e)};var Zu=(e,t,n)=>t.has(e)||lp("Cannot "+n);var P=(e,t,n)=>(Zu(e,t,"read from private field"),n?n.call(e):t.get(e)),te=(e,t,n)=>t.has(e)?lp("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),K=(e,t,n,r)=>(Zu(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),ae=(e,t,n)=>(Zu(e,t,"access private method"),n);var ka=(e,t,n,r)=>({set _(s){K(e,t,s,n)},get _(){return P(e,t,r)}});function Cf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Wg(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var qg={exports:{}},ou={},Vg={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yo=Symbol.for("react.element"),Mb=Symbol.for("react.portal"),zb=Symbol.for("react.fragment"),Ub=Symbol.for("react.strict_mode"),$b=Symbol.for("react.profiler"),Bb=Symbol.for("react.provider"),Hb=Symbol.for("react.context"),Wb=Symbol.for("react.forward_ref"),qb=Symbol.for("react.suspense"),Vb=Symbol.for("react.memo"),Qb=Symbol.for("react.lazy"),up=Symbol.iterator;function Kb(e){return e===null||typeof e!="object"?null:(e=up&&e[up]||e["@@iterator"],typeof e=="function"?e:null)}var Qg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Kg=Object.assign,Gg={};function Si(e,t,n){this.props=e,this.context=t,this.refs=Gg,this.updater=n||Qg}Si.prototype.isReactComponent={};Si.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Si.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Xg(){}Xg.prototype=Si.prototype;function kf(e,t,n){this.props=e,this.context=t,this.refs=Gg,this.updater=n||Qg}var Ef=kf.prototype=new Xg;Ef.constructor=kf;Kg(Ef,Si.prototype);Ef.isPureReactComponent=!0;var cp=Array.isArray,Yg=Object.prototype.hasOwnProperty,_f={current:null},Jg={key:!0,ref:!0,__self:!0,__source:!0};function Zg(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Yg.call(t,r)&&!Jg.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Yo,type:e,key:i,ref:o,props:s,_owner:_f.current}}function Gb(e,t){return{$$typeof:Yo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function jf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Yo}function Xb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var dp=/\/+/g;function ec(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Xb(""+e.key):t.toString(36)}function Ya(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Yo:case Mb:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+ec(o,0):r,cp(s)?(n="",e!=null&&(n=e.replace(dp,"$&/")+"/"),Ya(s,t,n,"",function(c){return c})):s!=null&&(jf(s)&&(s=Gb(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(dp,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",cp(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+ec(i,a);o+=Ya(i,t,n,l,s)}else if(l=Kb(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+ec(i,a++),o+=Ya(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ea(e,t,n){if(e==null)return e;var r=[],s=0;return Ya(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Yb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var yt={current:null},Ja={transition:null},Jb={ReactCurrentDispatcher:yt,ReactCurrentBatchConfig:Ja,ReactCurrentOwner:_f};function ev(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:Ea,forEach:function(e,t,n){Ea(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ea(e,function(){t++}),t},toArray:function(e){return Ea(e,function(t){return t})||[]},only:function(e){if(!jf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ue.Component=Si;ue.Fragment=zb;ue.Profiler=$b;ue.PureComponent=kf;ue.StrictMode=Ub;ue.Suspense=qb;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jb;ue.act=ev;ue.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Kg({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=_f.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Yg.call(t,l)&&!Jg.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Yo,type:e.type,key:s,ref:i,props:r,_owner:o}};ue.createContext=function(e){return e={$$typeof:Hb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Bb,_context:e},e.Consumer=e};ue.createElement=Zg;ue.createFactory=function(e){var t=Zg.bind(null,e);return t.type=e,t};ue.createRef=function(){return{current:null}};ue.forwardRef=function(e){return{$$typeof:Wb,render:e}};ue.isValidElement=jf;ue.lazy=function(e){return{$$typeof:Qb,_payload:{_status:-1,_result:e},_init:Yb}};ue.memo=function(e,t){return{$$typeof:Vb,type:e,compare:t===void 0?null:t}};ue.startTransition=function(e){var t=Ja.transition;Ja.transition={};try{e()}finally{Ja.transition=t}};ue.unstable_act=ev;ue.useCallback=function(e,t){return yt.current.useCallback(e,t)};ue.useContext=function(e){return yt.current.useContext(e)};ue.useDebugValue=function(){};ue.useDeferredValue=function(e){return yt.current.useDeferredValue(e)};ue.useEffect=function(e,t){return yt.current.useEffect(e,t)};ue.useId=function(){return yt.current.useId()};ue.useImperativeHandle=function(e,t,n){return yt.current.useImperativeHandle(e,t,n)};ue.useInsertionEffect=function(e,t){return yt.current.useInsertionEffect(e,t)};ue.useLayoutEffect=function(e,t){return yt.current.useLayoutEffect(e,t)};ue.useMemo=function(e,t){return yt.current.useMemo(e,t)};ue.useReducer=function(e,t,n){return yt.current.useReducer(e,t,n)};ue.useRef=function(e){return yt.current.useRef(e)};ue.useState=function(e){return yt.current.useState(e)};ue.useSyncExternalStore=function(e,t,n){return yt.current.useSyncExternalStore(e,t,n)};ue.useTransition=function(){return yt.current.useTransition()};ue.version="18.3.1";Vg.exports=ue;var x=Vg.exports;const we=Cf(x);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zb=x,eS=Symbol.for("react.element"),tS=Symbol.for("react.fragment"),nS=Object.prototype.hasOwnProperty,rS=Zb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sS={key:!0,ref:!0,__self:!0,__source:!0};function tv(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)nS.call(t,r)&&!sS.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:eS,type:e,key:i,ref:o,props:s,_owner:rS.current}}ou.Fragment=tS;ou.jsx=tv;ou.jsxs=tv;qg.exports=ou;var d=qg.exports,nv={exports:{}},It={},rv={exports:{}},sv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,$){var Q=M.length;M.push($);e:for(;0<Q;){var Z=Q-1>>>1,X=M[Z];if(0<s(X,$))M[Z]=$,M[Q]=X,Q=Z;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var $=M[0],Q=M.pop();if(Q!==$){M[0]=Q;e:for(var Z=0,X=M.length,me=X>>>1;Z<me;){var ce=2*(Z+1)-1,le=M[ce],oe=ce+1,Ve=M[oe];if(0>s(le,Q))oe<X&&0>s(Ve,le)?(M[Z]=Ve,M[oe]=Q,Z=oe):(M[Z]=le,M[ce]=Q,Z=ce);else if(oe<X&&0>s(Ve,Q))M[Z]=Ve,M[oe]=Q,Z=oe;else break e}}return $}function s(M,$){var Q=M.sortIndex-$.sortIndex;return Q!==0?Q:M.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],f=1,h=null,g=3,w=!1,b=!1,C=!1,k=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(M){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=M)r(c),$.sortIndex=$.expirationTime,t(l,$);else break;$=n(c)}}function _(M){if(C=!1,S(M),!b)if(n(l)!==null)b=!0,Y(j);else{var $=n(c);$!==null&&q(_,$.startTime-M)}}function j(M,$){b=!1,C&&(C=!1,v(D),D=-1),w=!0;var Q=g;try{for(S($),h=n(l);h!==null&&(!(h.expirationTime>$)||M&&!L());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,g=h.priorityLevel;var X=Z(h.expirationTime<=$);$=e.unstable_now(),typeof X=="function"?h.callback=X:h===n(l)&&r(l),S($)}else r(l);h=n(l)}if(h!==null)var me=!0;else{var ce=n(c);ce!==null&&q(_,ce.startTime-$),me=!1}return me}finally{h=null,g=Q,w=!1}}var R=!1,T=null,D=-1,U=5,I=-1;function L(){return!(e.unstable_now()-I<U)}function z(){if(T!==null){var M=e.unstable_now();I=M;var $=!0;try{$=T(!0,M)}finally{$?O():(R=!1,T=null)}}else R=!1}var O;if(typeof y=="function")O=function(){y(z)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,W=A.port2;A.port1.onmessage=z,O=function(){W.postMessage(null)}}else O=function(){k(z,0)};function Y(M){T=M,R||(R=!0,O())}function q(M,$){D=k(function(){M(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){b||w||(b=!0,Y(j))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(M){switch(g){case 1:case 2:case 3:var $=3;break;default:$=g}var Q=g;g=$;try{return M()}finally{g=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,$){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var Q=g;g=M;try{return $()}finally{g=Q}},e.unstable_scheduleCallback=function(M,$,Q){var Z=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?Z+Q:Z):Q=Z,M){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=Q+X,M={id:f++,callback:$,priorityLevel:M,startTime:Q,expirationTime:X,sortIndex:-1},Q>Z?(M.sortIndex=Q,t(c,M),n(l)===null&&M===n(c)&&(C?(v(D),D=-1):C=!0,q(_,Q-Z))):(M.sortIndex=X,t(l,M),b||w||(b=!0,Y(j))),M},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(M){var $=g;return function(){var Q=g;g=$;try{return M.apply(this,arguments)}finally{g=Q}}}})(sv);rv.exports=sv;var iS=rv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oS=x,Lt=iS;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var iv=new Set,bo={};function js(e,t){di(e,t),di(e+"Capture",t)}function di(e,t){for(bo[e]=t,e=0;e<t.length;e++)iv.add(t[e])}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wc=Object.prototype.hasOwnProperty,aS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fp={},hp={};function lS(e){return Wc.call(hp,e)?!0:Wc.call(fp,e)?!1:aS.test(e)?hp[e]=!0:(fp[e]=!0,!1)}function uS(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function cS(e,t,n,r){if(t===null||typeof t>"u"||uS(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function xt(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){tt[e]=new xt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];tt[t]=new xt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){tt[e]=new xt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){tt[e]=new xt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){tt[e]=new xt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){tt[e]=new xt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){tt[e]=new xt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){tt[e]=new xt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){tt[e]=new xt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Nf=/[\-:]([a-z])/g;function Rf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Nf,Rf);tt[t]=new xt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Nf,Rf);tt[t]=new xt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Nf,Rf);tt[t]=new xt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){tt[e]=new xt(e,1,!1,e.toLowerCase(),null,!1,!1)});tt.xlinkHref=new xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){tt[e]=new xt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Pf(e,t,n,r){var s=tt.hasOwnProperty(t)?tt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(cS(t,n,s,r)&&(n=null),r||s===null?lS(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var er=oS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_a=Symbol.for("react.element"),Ls=Symbol.for("react.portal"),As=Symbol.for("react.fragment"),Tf=Symbol.for("react.strict_mode"),qc=Symbol.for("react.profiler"),ov=Symbol.for("react.provider"),av=Symbol.for("react.context"),Of=Symbol.for("react.forward_ref"),Vc=Symbol.for("react.suspense"),Qc=Symbol.for("react.suspense_list"),Df=Symbol.for("react.memo"),ar=Symbol.for("react.lazy"),lv=Symbol.for("react.offscreen"),pp=Symbol.iterator;function Hi(e){return e===null||typeof e!="object"?null:(e=pp&&e[pp]||e["@@iterator"],typeof e=="function"?e:null)}var Oe=Object.assign,tc;function eo(e){if(tc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);tc=t&&t[1]||""}return`
`+tc+e}var nc=!1;function rc(e,t){if(!e||nc)return"";nc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{nc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?eo(e):""}function dS(e){switch(e.tag){case 5:return eo(e.type);case 16:return eo("Lazy");case 13:return eo("Suspense");case 19:return eo("SuspenseList");case 0:case 2:case 15:return e=rc(e.type,!1),e;case 11:return e=rc(e.type.render,!1),e;case 1:return e=rc(e.type,!0),e;default:return""}}function Kc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case As:return"Fragment";case Ls:return"Portal";case qc:return"Profiler";case Tf:return"StrictMode";case Vc:return"Suspense";case Qc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case av:return(e.displayName||"Context")+".Consumer";case ov:return(e._context.displayName||"Context")+".Provider";case Of:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Df:return t=e.displayName||null,t!==null?t:Kc(e.type)||"Memo";case ar:t=e._payload,e=e._init;try{return Kc(e(t))}catch{}}return null}function fS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kc(t);case 8:return t===Tf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Dr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function uv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function hS(e){var t=uv(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ja(e){e._valueTracker||(e._valueTracker=hS(e))}function cv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=uv(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function vl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Gc(e,t){var n=t.checked;return Oe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function mp(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Dr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function dv(e,t){t=t.checked,t!=null&&Pf(e,"checked",t,!1)}function Xc(e,t){dv(e,t);var n=Dr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Yc(e,t.type,n):t.hasOwnProperty("defaultValue")&&Yc(e,t.type,Dr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function gp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Yc(e,t,n){(t!=="number"||vl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var to=Array.isArray;function Vs(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Dr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Jc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return Oe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function vp(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(H(92));if(to(n)){if(1<n.length)throw Error(H(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Dr(n)}}function fv(e,t){var n=Dr(t.value),r=Dr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function yp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function hv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?hv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Na,pv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Na=Na||document.createElement("div"),Na.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Na.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function So(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var oo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pS=["Webkit","ms","Moz","O"];Object.keys(oo).forEach(function(e){pS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),oo[t]=oo[e]})});function mv(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||oo.hasOwnProperty(e)&&oo[e]?(""+t).trim():t+"px"}function gv(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=mv(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var mS=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ed(e,t){if(t){if(mS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function td(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nd=null;function Lf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var rd=null,Qs=null,Ks=null;function xp(e){if(e=ea(e)){if(typeof rd!="function")throw Error(H(280));var t=e.stateNode;t&&(t=du(t),rd(e.stateNode,e.type,t))}}function vv(e){Qs?Ks?Ks.push(e):Ks=[e]:Qs=e}function yv(){if(Qs){var e=Qs,t=Ks;if(Ks=Qs=null,xp(e),t)for(e=0;e<t.length;e++)xp(t[e])}}function xv(e,t){return e(t)}function wv(){}var sc=!1;function bv(e,t,n){if(sc)return e(t,n);sc=!0;try{return xv(e,t,n)}finally{sc=!1,(Qs!==null||Ks!==null)&&(wv(),yv())}}function Co(e,t){var n=e.stateNode;if(n===null)return null;var r=du(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(H(231,t,typeof n));return n}var sd=!1;if(Gn)try{var Wi={};Object.defineProperty(Wi,"passive",{get:function(){sd=!0}}),window.addEventListener("test",Wi,Wi),window.removeEventListener("test",Wi,Wi)}catch{sd=!1}function gS(e,t,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(f){this.onError(f)}}var ao=!1,yl=null,xl=!1,id=null,vS={onError:function(e){ao=!0,yl=e}};function yS(e,t,n,r,s,i,o,a,l){ao=!1,yl=null,gS.apply(vS,arguments)}function xS(e,t,n,r,s,i,o,a,l){if(yS.apply(this,arguments),ao){if(ao){var c=yl;ao=!1,yl=null}else throw Error(H(198));xl||(xl=!0,id=c)}}function Ns(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Sv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function wp(e){if(Ns(e)!==e)throw Error(H(188))}function wS(e){var t=e.alternate;if(!t){if(t=Ns(e),t===null)throw Error(H(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return wp(s),e;if(i===r)return wp(s),t;i=i.sibling}throw Error(H(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?e:t}function Cv(e){return e=wS(e),e!==null?kv(e):null}function kv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=kv(e);if(t!==null)return t;e=e.sibling}return null}var Ev=Lt.unstable_scheduleCallback,bp=Lt.unstable_cancelCallback,bS=Lt.unstable_shouldYield,SS=Lt.unstable_requestPaint,Ie=Lt.unstable_now,CS=Lt.unstable_getCurrentPriorityLevel,Af=Lt.unstable_ImmediatePriority,_v=Lt.unstable_UserBlockingPriority,wl=Lt.unstable_NormalPriority,kS=Lt.unstable_LowPriority,jv=Lt.unstable_IdlePriority,au=null,En=null;function ES(e){if(En&&typeof En.onCommitFiberRoot=="function")try{En.onCommitFiberRoot(au,e,void 0,(e.current.flags&128)===128)}catch{}}var un=Math.clz32?Math.clz32:NS,_S=Math.log,jS=Math.LN2;function NS(e){return e>>>=0,e===0?32:31-(_S(e)/jS|0)|0}var Ra=64,Pa=4194304;function no(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function bl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=no(a):(i&=o,i!==0&&(r=no(i)))}else o=n&~s,o!==0?r=no(o):i!==0&&(r=no(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-un(t),s=1<<n,r|=e[n],t&=~s;return r}function RS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function PS(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-un(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=RS(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function od(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Nv(){var e=Ra;return Ra<<=1,!(Ra&4194240)&&(Ra=64),e}function ic(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Jo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-un(t),e[t]=n}function TS(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-un(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function If(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-un(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ye=0;function Rv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Pv,Ff,Tv,Ov,Dv,ad=!1,Ta=[],kr=null,Er=null,_r=null,ko=new Map,Eo=new Map,cr=[],OS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sp(e,t){switch(e){case"focusin":case"focusout":kr=null;break;case"dragenter":case"dragleave":Er=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":ko.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eo.delete(t.pointerId)}}function qi(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ea(t),t!==null&&Ff(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function DS(e,t,n,r,s){switch(t){case"focusin":return kr=qi(kr,e,t,n,r,s),!0;case"dragenter":return Er=qi(Er,e,t,n,r,s),!0;case"mouseover":return _r=qi(_r,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return ko.set(i,qi(ko.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Eo.set(i,qi(Eo.get(i)||null,e,t,n,r,s)),!0}return!1}function Lv(e){var t=Yr(e.target);if(t!==null){var n=Ns(t);if(n!==null){if(t=n.tag,t===13){if(t=Sv(n),t!==null){e.blockedOn=t,Dv(e.priority,function(){Tv(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Za(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ld(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);nd=r,n.target.dispatchEvent(r),nd=null}else return t=ea(n),t!==null&&Ff(t),e.blockedOn=n,!1;t.shift()}return!0}function Cp(e,t,n){Za(e)&&n.delete(t)}function LS(){ad=!1,kr!==null&&Za(kr)&&(kr=null),Er!==null&&Za(Er)&&(Er=null),_r!==null&&Za(_r)&&(_r=null),ko.forEach(Cp),Eo.forEach(Cp)}function Vi(e,t){e.blockedOn===t&&(e.blockedOn=null,ad||(ad=!0,Lt.unstable_scheduleCallback(Lt.unstable_NormalPriority,LS)))}function _o(e){function t(s){return Vi(s,e)}if(0<Ta.length){Vi(Ta[0],e);for(var n=1;n<Ta.length;n++){var r=Ta[n];r.blockedOn===e&&(r.blockedOn=null)}}for(kr!==null&&Vi(kr,e),Er!==null&&Vi(Er,e),_r!==null&&Vi(_r,e),ko.forEach(t),Eo.forEach(t),n=0;n<cr.length;n++)r=cr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<cr.length&&(n=cr[0],n.blockedOn===null);)Lv(n),n.blockedOn===null&&cr.shift()}var Gs=er.ReactCurrentBatchConfig,Sl=!0;function AS(e,t,n,r){var s=ye,i=Gs.transition;Gs.transition=null;try{ye=1,Mf(e,t,n,r)}finally{ye=s,Gs.transition=i}}function IS(e,t,n,r){var s=ye,i=Gs.transition;Gs.transition=null;try{ye=4,Mf(e,t,n,r)}finally{ye=s,Gs.transition=i}}function Mf(e,t,n,r){if(Sl){var s=ld(e,t,n,r);if(s===null)mc(e,t,r,Cl,n),Sp(e,r);else if(DS(s,e,t,n,r))r.stopPropagation();else if(Sp(e,r),t&4&&-1<OS.indexOf(e)){for(;s!==null;){var i=ea(s);if(i!==null&&Pv(i),i=ld(e,t,n,r),i===null&&mc(e,t,r,Cl,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else mc(e,t,r,null,n)}}var Cl=null;function ld(e,t,n,r){if(Cl=null,e=Lf(r),e=Yr(e),e!==null)if(t=Ns(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Sv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Cl=e,null}function Av(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(CS()){case Af:return 1;case _v:return 4;case wl:case kS:return 16;case jv:return 536870912;default:return 16}default:return 16}}var Sr=null,zf=null,el=null;function Iv(){if(el)return el;var e,t=zf,n=t.length,r,s="value"in Sr?Sr.value:Sr.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return el=s.slice(e,1<r?1-r:void 0)}function tl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Oa(){return!0}function kp(){return!1}function Ft(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Oa:kp,this.isPropagationStopped=kp,this}return Oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Oa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Oa)},persist:function(){},isPersistent:Oa}),t}var Ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uf=Ft(Ci),Zo=Oe({},Ci,{view:0,detail:0}),FS=Ft(Zo),oc,ac,Qi,lu=Oe({},Zo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$f,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qi&&(Qi&&e.type==="mousemove"?(oc=e.screenX-Qi.screenX,ac=e.screenY-Qi.screenY):ac=oc=0,Qi=e),oc)},movementY:function(e){return"movementY"in e?e.movementY:ac}}),Ep=Ft(lu),MS=Oe({},lu,{dataTransfer:0}),zS=Ft(MS),US=Oe({},Zo,{relatedTarget:0}),lc=Ft(US),$S=Oe({},Ci,{animationName:0,elapsedTime:0,pseudoElement:0}),BS=Ft($S),HS=Oe({},Ci,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),WS=Ft(HS),qS=Oe({},Ci,{data:0}),_p=Ft(qS),VS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=KS[e])?!!t[e]:!1}function $f(){return GS}var XS=Oe({},Zo,{key:function(e){if(e.key){var t=VS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=tl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?QS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$f,charCode:function(e){return e.type==="keypress"?tl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?tl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),YS=Ft(XS),JS=Oe({},lu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jp=Ft(JS),ZS=Oe({},Zo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$f}),e1=Ft(ZS),t1=Oe({},Ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),n1=Ft(t1),r1=Oe({},lu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),s1=Ft(r1),i1=[9,13,27,32],Bf=Gn&&"CompositionEvent"in window,lo=null;Gn&&"documentMode"in document&&(lo=document.documentMode);var o1=Gn&&"TextEvent"in window&&!lo,Fv=Gn&&(!Bf||lo&&8<lo&&11>=lo),Np=" ",Rp=!1;function Mv(e,t){switch(e){case"keyup":return i1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Is=!1;function a1(e,t){switch(e){case"compositionend":return zv(t);case"keypress":return t.which!==32?null:(Rp=!0,Np);case"textInput":return e=t.data,e===Np&&Rp?null:e;default:return null}}function l1(e,t){if(Is)return e==="compositionend"||!Bf&&Mv(e,t)?(e=Iv(),el=zf=Sr=null,Is=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fv&&t.locale!=="ko"?null:t.data;default:return null}}var u1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!u1[e.type]:t==="textarea"}function Uv(e,t,n,r){vv(r),t=kl(t,"onChange"),0<t.length&&(n=new Uf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var uo=null,jo=null;function c1(e){Yv(e,0)}function uu(e){var t=zs(e);if(cv(t))return e}function d1(e,t){if(e==="change")return t}var $v=!1;if(Gn){var uc;if(Gn){var cc="oninput"in document;if(!cc){var Tp=document.createElement("div");Tp.setAttribute("oninput","return;"),cc=typeof Tp.oninput=="function"}uc=cc}else uc=!1;$v=uc&&(!document.documentMode||9<document.documentMode)}function Op(){uo&&(uo.detachEvent("onpropertychange",Bv),jo=uo=null)}function Bv(e){if(e.propertyName==="value"&&uu(jo)){var t=[];Uv(t,jo,e,Lf(e)),bv(c1,t)}}function f1(e,t,n){e==="focusin"?(Op(),uo=t,jo=n,uo.attachEvent("onpropertychange",Bv)):e==="focusout"&&Op()}function h1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return uu(jo)}function p1(e,t){if(e==="click")return uu(t)}function m1(e,t){if(e==="input"||e==="change")return uu(t)}function g1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dn=typeof Object.is=="function"?Object.is:g1;function No(e,t){if(dn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Wc.call(t,s)||!dn(e[s],t[s]))return!1}return!0}function Dp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lp(e,t){var n=Dp(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Dp(n)}}function Hv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Hv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Wv(){for(var e=window,t=vl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=vl(e.document)}return t}function Hf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function v1(e){var t=Wv(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Hv(n.ownerDocument.documentElement,n)){if(r!==null&&Hf(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Lp(n,i);var o=Lp(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var y1=Gn&&"documentMode"in document&&11>=document.documentMode,Fs=null,ud=null,co=null,cd=!1;function Ap(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cd||Fs==null||Fs!==vl(r)||(r=Fs,"selectionStart"in r&&Hf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),co&&No(co,r)||(co=r,r=kl(ud,"onSelect"),0<r.length&&(t=new Uf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Fs)))}function Da(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ms={animationend:Da("Animation","AnimationEnd"),animationiteration:Da("Animation","AnimationIteration"),animationstart:Da("Animation","AnimationStart"),transitionend:Da("Transition","TransitionEnd")},dc={},qv={};Gn&&(qv=document.createElement("div").style,"AnimationEvent"in window||(delete Ms.animationend.animation,delete Ms.animationiteration.animation,delete Ms.animationstart.animation),"TransitionEvent"in window||delete Ms.transitionend.transition);function cu(e){if(dc[e])return dc[e];if(!Ms[e])return e;var t=Ms[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in qv)return dc[e]=t[n];return e}var Vv=cu("animationend"),Qv=cu("animationiteration"),Kv=cu("animationstart"),Gv=cu("transitionend"),Xv=new Map,Ip="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){Xv.set(e,t),js(t,[e])}for(var fc=0;fc<Ip.length;fc++){var hc=Ip[fc],x1=hc.toLowerCase(),w1=hc[0].toUpperCase()+hc.slice(1);Ir(x1,"on"+w1)}Ir(Vv,"onAnimationEnd");Ir(Qv,"onAnimationIteration");Ir(Kv,"onAnimationStart");Ir("dblclick","onDoubleClick");Ir("focusin","onFocus");Ir("focusout","onBlur");Ir(Gv,"onTransitionEnd");di("onMouseEnter",["mouseout","mouseover"]);di("onMouseLeave",["mouseout","mouseover"]);di("onPointerEnter",["pointerout","pointerover"]);di("onPointerLeave",["pointerout","pointerover"]);js("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));js("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));js("onBeforeInput",["compositionend","keypress","textInput","paste"]);js("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));js("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));js("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b1=new Set("cancel close invalid load scroll toggle".split(" ").concat(ro));function Fp(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,xS(r,t,void 0,e),e.currentTarget=null}function Yv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Fp(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Fp(s,a,c),i=l}}}if(xl)throw e=id,xl=!1,id=null,e}function ke(e,t){var n=t[md];n===void 0&&(n=t[md]=new Set);var r=e+"__bubble";n.has(r)||(Jv(t,e,2,!1),n.add(r))}function pc(e,t,n){var r=0;t&&(r|=4),Jv(n,e,r,t)}var La="_reactListening"+Math.random().toString(36).slice(2);function Ro(e){if(!e[La]){e[La]=!0,iv.forEach(function(n){n!=="selectionchange"&&(b1.has(n)||pc(n,!1,e),pc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[La]||(t[La]=!0,pc("selectionchange",!1,t))}}function Jv(e,t,n,r){switch(Av(t)){case 1:var s=AS;break;case 4:s=IS;break;default:s=Mf}n=s.bind(null,t,n,e),s=void 0,!sd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function mc(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Yr(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}bv(function(){var c=i,f=Lf(n),h=[];e:{var g=Xv.get(e);if(g!==void 0){var w=Uf,b=e;switch(e){case"keypress":if(tl(n)===0)break e;case"keydown":case"keyup":w=YS;break;case"focusin":b="focus",w=lc;break;case"focusout":b="blur",w=lc;break;case"beforeblur":case"afterblur":w=lc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Ep;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=zS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=e1;break;case Vv:case Qv:case Kv:w=BS;break;case Gv:w=n1;break;case"scroll":w=FS;break;case"wheel":w=s1;break;case"copy":case"cut":case"paste":w=WS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=jp}var C=(t&4)!==0,k=!C&&e==="scroll",v=C?g!==null?g+"Capture":null:g;C=[];for(var y=c,S;y!==null;){S=y;var _=S.stateNode;if(S.tag===5&&_!==null&&(S=_,v!==null&&(_=Co(y,v),_!=null&&C.push(Po(y,_,S)))),k)break;y=y.return}0<C.length&&(g=new w(g,b,null,n,f),h.push({event:g,listeners:C}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",g&&n!==nd&&(b=n.relatedTarget||n.fromElement)&&(Yr(b)||b[Xn]))break e;if((w||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,w?(b=n.relatedTarget||n.toElement,w=c,b=b?Yr(b):null,b!==null&&(k=Ns(b),b!==k||b.tag!==5&&b.tag!==6)&&(b=null)):(w=null,b=c),w!==b)){if(C=Ep,_="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(C=jp,_="onPointerLeave",v="onPointerEnter",y="pointer"),k=w==null?g:zs(w),S=b==null?g:zs(b),g=new C(_,y+"leave",w,n,f),g.target=k,g.relatedTarget=S,_=null,Yr(f)===c&&(C=new C(v,y+"enter",b,n,f),C.target=S,C.relatedTarget=k,_=C),k=_,w&&b)t:{for(C=w,v=b,y=0,S=C;S;S=Os(S))y++;for(S=0,_=v;_;_=Os(_))S++;for(;0<y-S;)C=Os(C),y--;for(;0<S-y;)v=Os(v),S--;for(;y--;){if(C===v||v!==null&&C===v.alternate)break t;C=Os(C),v=Os(v)}C=null}else C=null;w!==null&&Mp(h,g,w,C,!1),b!==null&&k!==null&&Mp(h,k,b,C,!0)}}e:{if(g=c?zs(c):window,w=g.nodeName&&g.nodeName.toLowerCase(),w==="select"||w==="input"&&g.type==="file")var j=d1;else if(Pp(g))if($v)j=m1;else{j=h1;var R=f1}else(w=g.nodeName)&&w.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(j=p1);if(j&&(j=j(e,c))){Uv(h,j,n,f);break e}R&&R(e,g,c),e==="focusout"&&(R=g._wrapperState)&&R.controlled&&g.type==="number"&&Yc(g,"number",g.value)}switch(R=c?zs(c):window,e){case"focusin":(Pp(R)||R.contentEditable==="true")&&(Fs=R,ud=c,co=null);break;case"focusout":co=ud=Fs=null;break;case"mousedown":cd=!0;break;case"contextmenu":case"mouseup":case"dragend":cd=!1,Ap(h,n,f);break;case"selectionchange":if(y1)break;case"keydown":case"keyup":Ap(h,n,f)}var T;if(Bf)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Is?Mv(e,n)&&(D="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(Fv&&n.locale!=="ko"&&(Is||D!=="onCompositionStart"?D==="onCompositionEnd"&&Is&&(T=Iv()):(Sr=f,zf="value"in Sr?Sr.value:Sr.textContent,Is=!0)),R=kl(c,D),0<R.length&&(D=new _p(D,e,null,n,f),h.push({event:D,listeners:R}),T?D.data=T:(T=zv(n),T!==null&&(D.data=T)))),(T=o1?a1(e,n):l1(e,n))&&(c=kl(c,"onBeforeInput"),0<c.length&&(f=new _p("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:c}),f.data=T))}Yv(h,t)})}function Po(e,t,n){return{instance:e,listener:t,currentTarget:n}}function kl(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Co(e,n),i!=null&&r.unshift(Po(e,i,s)),i=Co(e,t),i!=null&&r.push(Po(e,i,s))),e=e.return}return r}function Os(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Mp(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Co(n,i),l!=null&&o.unshift(Po(n,l,a))):s||(l=Co(n,i),l!=null&&o.push(Po(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var S1=/\r\n?/g,C1=/\u0000|\uFFFD/g;function zp(e){return(typeof e=="string"?e:""+e).replace(S1,`
`).replace(C1,"")}function Aa(e,t,n){if(t=zp(t),zp(e)!==t&&n)throw Error(H(425))}function El(){}var dd=null,fd=null;function hd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pd=typeof setTimeout=="function"?setTimeout:void 0,k1=typeof clearTimeout=="function"?clearTimeout:void 0,Up=typeof Promise=="function"?Promise:void 0,E1=typeof queueMicrotask=="function"?queueMicrotask:typeof Up<"u"?function(e){return Up.resolve(null).then(e).catch(_1)}:pd;function _1(e){setTimeout(function(){throw e})}function gc(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),_o(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);_o(t)}function jr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function $p(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ki=Math.random().toString(36).slice(2),kn="__reactFiber$"+ki,To="__reactProps$"+ki,Xn="__reactContainer$"+ki,md="__reactEvents$"+ki,j1="__reactListeners$"+ki,N1="__reactHandles$"+ki;function Yr(e){var t=e[kn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xn]||n[kn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=$p(e);e!==null;){if(n=e[kn])return n;e=$p(e)}return t}e=n,n=e.parentNode}return null}function ea(e){return e=e[kn]||e[Xn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function du(e){return e[To]||null}var gd=[],Us=-1;function Fr(e){return{current:e}}function Ee(e){0>Us||(e.current=gd[Us],gd[Us]=null,Us--)}function be(e,t){Us++,gd[Us]=e.current,e.current=t}var Lr={},ut=Fr(Lr),Et=Fr(!1),gs=Lr;function fi(e,t){var n=e.type.contextTypes;if(!n)return Lr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function _t(e){return e=e.childContextTypes,e!=null}function _l(){Ee(Et),Ee(ut)}function Bp(e,t,n){if(ut.current!==Lr)throw Error(H(168));be(ut,t),be(Et,n)}function Zv(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(H(108,fS(e)||"Unknown",s));return Oe({},n,r)}function jl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Lr,gs=ut.current,be(ut,e),be(Et,Et.current),!0}function Hp(e,t,n){var r=e.stateNode;if(!r)throw Error(H(169));n?(e=Zv(e,t,gs),r.__reactInternalMemoizedMergedChildContext=e,Ee(Et),Ee(ut),be(ut,e)):Ee(Et),be(Et,n)}var Mn=null,fu=!1,vc=!1;function ey(e){Mn===null?Mn=[e]:Mn.push(e)}function R1(e){fu=!0,ey(e)}function Mr(){if(!vc&&Mn!==null){vc=!0;var e=0,t=ye;try{var n=Mn;for(ye=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Mn=null,fu=!1}catch(s){throw Mn!==null&&(Mn=Mn.slice(e+1)),Ev(Af,Mr),s}finally{ye=t,vc=!1}}return null}var $s=[],Bs=0,Nl=null,Rl=0,qt=[],Vt=0,vs=null,Wn=1,qn="";function Qr(e,t){$s[Bs++]=Rl,$s[Bs++]=Nl,Nl=e,Rl=t}function ty(e,t,n){qt[Vt++]=Wn,qt[Vt++]=qn,qt[Vt++]=vs,vs=e;var r=Wn;e=qn;var s=32-un(r)-1;r&=~(1<<s),n+=1;var i=32-un(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Wn=1<<32-un(t)+s|n<<s|r,qn=i+e}else Wn=1<<i|n<<s|r,qn=e}function Wf(e){e.return!==null&&(Qr(e,1),ty(e,1,0))}function qf(e){for(;e===Nl;)Nl=$s[--Bs],$s[Bs]=null,Rl=$s[--Bs],$s[Bs]=null;for(;e===vs;)vs=qt[--Vt],qt[Vt]=null,qn=qt[--Vt],qt[Vt]=null,Wn=qt[--Vt],qt[Vt]=null}var Dt=null,Ot=null,je=!1,an=null;function ny(e,t){var n=Qt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Wp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Dt=e,Ot=jr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Dt=e,Ot=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=vs!==null?{id:Wn,overflow:qn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Qt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Dt=e,Ot=null,!0):!1;default:return!1}}function vd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function yd(e){if(je){var t=Ot;if(t){var n=t;if(!Wp(e,t)){if(vd(e))throw Error(H(418));t=jr(n.nextSibling);var r=Dt;t&&Wp(e,t)?ny(r,n):(e.flags=e.flags&-4097|2,je=!1,Dt=e)}}else{if(vd(e))throw Error(H(418));e.flags=e.flags&-4097|2,je=!1,Dt=e}}}function qp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Dt=e}function Ia(e){if(e!==Dt)return!1;if(!je)return qp(e),je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!hd(e.type,e.memoizedProps)),t&&(t=Ot)){if(vd(e))throw ry(),Error(H(418));for(;t;)ny(e,t),t=jr(t.nextSibling)}if(qp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ot=jr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ot=null}}else Ot=Dt?jr(e.stateNode.nextSibling):null;return!0}function ry(){for(var e=Ot;e;)e=jr(e.nextSibling)}function hi(){Ot=Dt=null,je=!1}function Vf(e){an===null?an=[e]:an.push(e)}var P1=er.ReactCurrentBatchConfig;function Ki(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,e))}return e}function Fa(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Vp(e){var t=e._init;return t(e._payload)}function sy(e){function t(v,y){if(e){var S=v.deletions;S===null?(v.deletions=[y],v.flags|=16):S.push(y)}}function n(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function s(v,y){return v=Tr(v,y),v.index=0,v.sibling=null,v}function i(v,y,S){return v.index=S,e?(S=v.alternate,S!==null?(S=S.index,S<y?(v.flags|=2,y):S):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,y,S,_){return y===null||y.tag!==6?(y=kc(S,v.mode,_),y.return=v,y):(y=s(y,S),y.return=v,y)}function l(v,y,S,_){var j=S.type;return j===As?f(v,y,S.props.children,_,S.key):y!==null&&(y.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ar&&Vp(j)===y.type)?(_=s(y,S.props),_.ref=Ki(v,y,S),_.return=v,_):(_=ll(S.type,S.key,S.props,null,v.mode,_),_.ref=Ki(v,y,S),_.return=v,_)}function c(v,y,S,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==S.containerInfo||y.stateNode.implementation!==S.implementation?(y=Ec(S,v.mode,_),y.return=v,y):(y=s(y,S.children||[]),y.return=v,y)}function f(v,y,S,_,j){return y===null||y.tag!==7?(y=ps(S,v.mode,_,j),y.return=v,y):(y=s(y,S),y.return=v,y)}function h(v,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return y=kc(""+y,v.mode,S),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case _a:return S=ll(y.type,y.key,y.props,null,v.mode,S),S.ref=Ki(v,null,y),S.return=v,S;case Ls:return y=Ec(y,v.mode,S),y.return=v,y;case ar:var _=y._init;return h(v,_(y._payload),S)}if(to(y)||Hi(y))return y=ps(y,v.mode,S,null),y.return=v,y;Fa(v,y)}return null}function g(v,y,S,_){var j=y!==null?y.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return j!==null?null:a(v,y,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case _a:return S.key===j?l(v,y,S,_):null;case Ls:return S.key===j?c(v,y,S,_):null;case ar:return j=S._init,g(v,y,j(S._payload),_)}if(to(S)||Hi(S))return j!==null?null:f(v,y,S,_,null);Fa(v,S)}return null}function w(v,y,S,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return v=v.get(S)||null,a(y,v,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case _a:return v=v.get(_.key===null?S:_.key)||null,l(y,v,_,j);case Ls:return v=v.get(_.key===null?S:_.key)||null,c(y,v,_,j);case ar:var R=_._init;return w(v,y,S,R(_._payload),j)}if(to(_)||Hi(_))return v=v.get(S)||null,f(y,v,_,j,null);Fa(y,_)}return null}function b(v,y,S,_){for(var j=null,R=null,T=y,D=y=0,U=null;T!==null&&D<S.length;D++){T.index>D?(U=T,T=null):U=T.sibling;var I=g(v,T,S[D],_);if(I===null){T===null&&(T=U);break}e&&T&&I.alternate===null&&t(v,T),y=i(I,y,D),R===null?j=I:R.sibling=I,R=I,T=U}if(D===S.length)return n(v,T),je&&Qr(v,D),j;if(T===null){for(;D<S.length;D++)T=h(v,S[D],_),T!==null&&(y=i(T,y,D),R===null?j=T:R.sibling=T,R=T);return je&&Qr(v,D),j}for(T=r(v,T);D<S.length;D++)U=w(T,v,D,S[D],_),U!==null&&(e&&U.alternate!==null&&T.delete(U.key===null?D:U.key),y=i(U,y,D),R===null?j=U:R.sibling=U,R=U);return e&&T.forEach(function(L){return t(v,L)}),je&&Qr(v,D),j}function C(v,y,S,_){var j=Hi(S);if(typeof j!="function")throw Error(H(150));if(S=j.call(S),S==null)throw Error(H(151));for(var R=j=null,T=y,D=y=0,U=null,I=S.next();T!==null&&!I.done;D++,I=S.next()){T.index>D?(U=T,T=null):U=T.sibling;var L=g(v,T,I.value,_);if(L===null){T===null&&(T=U);break}e&&T&&L.alternate===null&&t(v,T),y=i(L,y,D),R===null?j=L:R.sibling=L,R=L,T=U}if(I.done)return n(v,T),je&&Qr(v,D),j;if(T===null){for(;!I.done;D++,I=S.next())I=h(v,I.value,_),I!==null&&(y=i(I,y,D),R===null?j=I:R.sibling=I,R=I);return je&&Qr(v,D),j}for(T=r(v,T);!I.done;D++,I=S.next())I=w(T,v,D,I.value,_),I!==null&&(e&&I.alternate!==null&&T.delete(I.key===null?D:I.key),y=i(I,y,D),R===null?j=I:R.sibling=I,R=I);return e&&T.forEach(function(z){return t(v,z)}),je&&Qr(v,D),j}function k(v,y,S,_){if(typeof S=="object"&&S!==null&&S.type===As&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case _a:e:{for(var j=S.key,R=y;R!==null;){if(R.key===j){if(j=S.type,j===As){if(R.tag===7){n(v,R.sibling),y=s(R,S.props.children),y.return=v,v=y;break e}}else if(R.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ar&&Vp(j)===R.type){n(v,R.sibling),y=s(R,S.props),y.ref=Ki(v,R,S),y.return=v,v=y;break e}n(v,R);break}else t(v,R);R=R.sibling}S.type===As?(y=ps(S.props.children,v.mode,_,S.key),y.return=v,v=y):(_=ll(S.type,S.key,S.props,null,v.mode,_),_.ref=Ki(v,y,S),_.return=v,v=_)}return o(v);case Ls:e:{for(R=S.key;y!==null;){if(y.key===R)if(y.tag===4&&y.stateNode.containerInfo===S.containerInfo&&y.stateNode.implementation===S.implementation){n(v,y.sibling),y=s(y,S.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else t(v,y);y=y.sibling}y=Ec(S,v.mode,_),y.return=v,v=y}return o(v);case ar:return R=S._init,k(v,y,R(S._payload),_)}if(to(S))return b(v,y,S,_);if(Hi(S))return C(v,y,S,_);Fa(v,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,y!==null&&y.tag===6?(n(v,y.sibling),y=s(y,S),y.return=v,v=y):(n(v,y),y=kc(S,v.mode,_),y.return=v,v=y),o(v)):n(v,y)}return k}var pi=sy(!0),iy=sy(!1),Pl=Fr(null),Tl=null,Hs=null,Qf=null;function Kf(){Qf=Hs=Tl=null}function Gf(e){var t=Pl.current;Ee(Pl),e._currentValue=t}function xd(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Xs(e,t){Tl=e,Qf=Hs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(kt=!0),e.firstContext=null)}function Xt(e){var t=e._currentValue;if(Qf!==e)if(e={context:e,memoizedValue:t,next:null},Hs===null){if(Tl===null)throw Error(H(308));Hs=e,Tl.dependencies={lanes:0,firstContext:e}}else Hs=Hs.next=e;return t}var Jr=null;function Xf(e){Jr===null?Jr=[e]:Jr.push(e)}function oy(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Xf(t)):(n.next=s.next,s.next=n),t.interleaved=n,Yn(e,r)}function Yn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var lr=!1;function Yf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ay(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Nr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,he&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Yn(e,n)}return s=r.interleaved,s===null?(t.next=t,Xf(r)):(t.next=s.next,s.next=t),r.interleaved=t,Yn(e,n)}function nl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,If(e,n)}}function Qp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ol(e,t,n,r){var s=e.updateQueue;lr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var f=e.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,f=c=l=null,a=i;do{var g=a.lane,w=a.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:w,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=e,C=a;switch(g=t,w=n,C.tag){case 1:if(b=C.payload,typeof b=="function"){h=b.call(w,h,g);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=C.payload,g=typeof b=="function"?b.call(w,h,g):b,g==null)break e;h=Oe({},h,g);break e;case 2:lr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,g=s.effects,g===null?s.effects=[a]:g.push(a))}else w={eventTime:w,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=w,l=h):f=f.next=w,o|=g;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;g=a,a=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(f===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);xs|=o,e.lanes=o,e.memoizedState=h}}function Kp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(H(191,s));s.call(r)}}}var ta={},_n=Fr(ta),Oo=Fr(ta),Do=Fr(ta);function Zr(e){if(e===ta)throw Error(H(174));return e}function Jf(e,t){switch(be(Do,t),be(Oo,e),be(_n,ta),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Zc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Zc(t,e)}Ee(_n),be(_n,t)}function mi(){Ee(_n),Ee(Oo),Ee(Do)}function ly(e){Zr(Do.current);var t=Zr(_n.current),n=Zc(t,e.type);t!==n&&(be(Oo,e),be(_n,n))}function Zf(e){Oo.current===e&&(Ee(_n),Ee(Oo))}var Re=Fr(0);function Dl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yc=[];function eh(){for(var e=0;e<yc.length;e++)yc[e]._workInProgressVersionPrimary=null;yc.length=0}var rl=er.ReactCurrentDispatcher,xc=er.ReactCurrentBatchConfig,ys=0,Pe=null,Be=null,Ge=null,Ll=!1,fo=!1,Lo=0,T1=0;function st(){throw Error(H(321))}function th(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!dn(e[n],t[n]))return!1;return!0}function nh(e,t,n,r,s,i){if(ys=i,Pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rl.current=e===null||e.memoizedState===null?A1:I1,e=n(r,s),fo){i=0;do{if(fo=!1,Lo=0,25<=i)throw Error(H(301));i+=1,Ge=Be=null,t.updateQueue=null,rl.current=F1,e=n(r,s)}while(fo)}if(rl.current=Al,t=Be!==null&&Be.next!==null,ys=0,Ge=Be=Pe=null,Ll=!1,t)throw Error(H(300));return e}function rh(){var e=Lo!==0;return Lo=0,e}function wn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?Pe.memoizedState=Ge=e:Ge=Ge.next=e,Ge}function Yt(){if(Be===null){var e=Pe.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=Ge===null?Pe.memoizedState:Ge.next;if(t!==null)Ge=t,Be=e;else{if(e===null)throw Error(H(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},Ge===null?Pe.memoizedState=Ge=e:Ge=Ge.next=e}return Ge}function Ao(e,t){return typeof t=="function"?t(e):t}function wc(e){var t=Yt(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=Be,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var f=c.lane;if((ys&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Pe.lanes|=f,xs|=f}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,dn(r,t.memoizedState)||(kt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Pe.lanes|=i,xs|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function bc(e){var t=Yt(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);dn(i,t.memoizedState)||(kt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function uy(){}function cy(e,t){var n=Pe,r=Yt(),s=t(),i=!dn(r.memoizedState,s);if(i&&(r.memoizedState=s,kt=!0),r=r.queue,sh(hy.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ge!==null&&Ge.memoizedState.tag&1){if(n.flags|=2048,Io(9,fy.bind(null,n,r,s,t),void 0,null),Ye===null)throw Error(H(349));ys&30||dy(n,t,s)}return s}function dy(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function fy(e,t,n,r){t.value=n,t.getSnapshot=r,py(t)&&my(e)}function hy(e,t,n){return n(function(){py(t)&&my(e)})}function py(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!dn(e,n)}catch{return!0}}function my(e){var t=Yn(e,1);t!==null&&cn(t,e,1,-1)}function Gp(e){var t=wn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:e},t.queue=e,e=e.dispatch=L1.bind(null,Pe,e),[t.memoizedState,e]}function Io(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function gy(){return Yt().memoizedState}function sl(e,t,n,r){var s=wn();Pe.flags|=e,s.memoizedState=Io(1|t,n,void 0,r===void 0?null:r)}function hu(e,t,n,r){var s=Yt();r=r===void 0?null:r;var i=void 0;if(Be!==null){var o=Be.memoizedState;if(i=o.destroy,r!==null&&th(r,o.deps)){s.memoizedState=Io(t,n,i,r);return}}Pe.flags|=e,s.memoizedState=Io(1|t,n,i,r)}function Xp(e,t){return sl(8390656,8,e,t)}function sh(e,t){return hu(2048,8,e,t)}function vy(e,t){return hu(4,2,e,t)}function yy(e,t){return hu(4,4,e,t)}function xy(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wy(e,t,n){return n=n!=null?n.concat([e]):null,hu(4,4,xy.bind(null,t,e),n)}function ih(){}function by(e,t){var n=Yt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&th(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Sy(e,t){var n=Yt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&th(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Cy(e,t,n){return ys&21?(dn(n,t)||(n=Nv(),Pe.lanes|=n,xs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,kt=!0),e.memoizedState=n)}function O1(e,t){var n=ye;ye=n!==0&&4>n?n:4,e(!0);var r=xc.transition;xc.transition={};try{e(!1),t()}finally{ye=n,xc.transition=r}}function ky(){return Yt().memoizedState}function D1(e,t,n){var r=Pr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ey(e))_y(t,n);else if(n=oy(e,t,n,r),n!==null){var s=vt();cn(n,e,r,s),jy(n,t,r)}}function L1(e,t,n){var r=Pr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ey(e))_y(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,dn(a,o)){var l=t.interleaved;l===null?(s.next=s,Xf(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=oy(e,t,s,r),n!==null&&(s=vt(),cn(n,e,r,s),jy(n,t,r))}}function Ey(e){var t=e.alternate;return e===Pe||t!==null&&t===Pe}function _y(e,t){fo=Ll=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function jy(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,If(e,n)}}var Al={readContext:Xt,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},A1={readContext:Xt,useCallback:function(e,t){return wn().memoizedState=[e,t===void 0?null:t],e},useContext:Xt,useEffect:Xp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,sl(4194308,4,xy.bind(null,t,e),n)},useLayoutEffect:function(e,t){return sl(4194308,4,e,t)},useInsertionEffect:function(e,t){return sl(4,2,e,t)},useMemo:function(e,t){var n=wn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=wn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=D1.bind(null,Pe,e),[r.memoizedState,e]},useRef:function(e){var t=wn();return e={current:e},t.memoizedState=e},useState:Gp,useDebugValue:ih,useDeferredValue:function(e){return wn().memoizedState=e},useTransition:function(){var e=Gp(!1),t=e[0];return e=O1.bind(null,e[1]),wn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Pe,s=wn();if(je){if(n===void 0)throw Error(H(407));n=n()}else{if(n=t(),Ye===null)throw Error(H(349));ys&30||dy(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Xp(hy.bind(null,r,i,e),[e]),r.flags|=2048,Io(9,fy.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=wn(),t=Ye.identifierPrefix;if(je){var n=qn,r=Wn;n=(r&~(1<<32-un(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Lo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=T1++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},I1={readContext:Xt,useCallback:by,useContext:Xt,useEffect:sh,useImperativeHandle:wy,useInsertionEffect:vy,useLayoutEffect:yy,useMemo:Sy,useReducer:wc,useRef:gy,useState:function(){return wc(Ao)},useDebugValue:ih,useDeferredValue:function(e){var t=Yt();return Cy(t,Be.memoizedState,e)},useTransition:function(){var e=wc(Ao)[0],t=Yt().memoizedState;return[e,t]},useMutableSource:uy,useSyncExternalStore:cy,useId:ky,unstable_isNewReconciler:!1},F1={readContext:Xt,useCallback:by,useContext:Xt,useEffect:sh,useImperativeHandle:wy,useInsertionEffect:vy,useLayoutEffect:yy,useMemo:Sy,useReducer:bc,useRef:gy,useState:function(){return bc(Ao)},useDebugValue:ih,useDeferredValue:function(e){var t=Yt();return Be===null?t.memoizedState=e:Cy(t,Be.memoizedState,e)},useTransition:function(){var e=bc(Ao)[0],t=Yt().memoizedState;return[e,t]},useMutableSource:uy,useSyncExternalStore:cy,useId:ky,unstable_isNewReconciler:!1};function nn(e,t){if(e&&e.defaultProps){t=Oe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function wd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Oe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var pu={isMounted:function(e){return(e=e._reactInternals)?Ns(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=vt(),s=Pr(e),i=Vn(r,s);i.payload=t,n!=null&&(i.callback=n),t=Nr(e,i,s),t!==null&&(cn(t,e,s,r),nl(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=vt(),s=Pr(e),i=Vn(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Nr(e,i,s),t!==null&&(cn(t,e,s,r),nl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=vt(),r=Pr(e),s=Vn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Nr(e,s,r),t!==null&&(cn(t,e,r,n),nl(t,e,r))}};function Yp(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!No(n,r)||!No(s,i):!0}function Ny(e,t,n){var r=!1,s=Lr,i=t.contextType;return typeof i=="object"&&i!==null?i=Xt(i):(s=_t(t)?gs:ut.current,r=t.contextTypes,i=(r=r!=null)?fi(e,s):Lr),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=pu,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Jp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&pu.enqueueReplaceState(t,t.state,null)}function bd(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Yf(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Xt(i):(i=_t(t)?gs:ut.current,s.context=fi(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(wd(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&pu.enqueueReplaceState(s,s.state,null),Ol(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function gi(e,t){try{var n="",r=t;do n+=dS(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Sc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Sd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var M1=typeof WeakMap=="function"?WeakMap:Map;function Ry(e,t,n){n=Vn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Fl||(Fl=!0,Od=r),Sd(e,t)},n}function Py(e,t,n){n=Vn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Sd(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Sd(e,t),typeof r!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Zp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new M1;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=J1.bind(null,e,t,n),t.then(e,e))}function em(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function tm(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Vn(-1,1),t.tag=2,Nr(n,t,1))),n.lanes|=1),e)}var z1=er.ReactCurrentOwner,kt=!1;function mt(e,t,n,r){t.child=e===null?iy(t,null,n,r):pi(t,e.child,n,r)}function nm(e,t,n,r,s){n=n.render;var i=t.ref;return Xs(t,s),r=nh(e,t,n,r,i,s),n=rh(),e!==null&&!kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Jn(e,t,s)):(je&&n&&Wf(t),t.flags|=1,mt(e,t,r,s),t.child)}function rm(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!hh(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Ty(e,t,i,r,s)):(e=ll(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:No,n(o,r)&&e.ref===t.ref)return Jn(e,t,s)}return t.flags|=1,e=Tr(i,r),e.ref=t.ref,e.return=t,t.child=e}function Ty(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(No(i,r)&&e.ref===t.ref)if(kt=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(kt=!0);else return t.lanes=e.lanes,Jn(e,t,s)}return Cd(e,t,n,r,s)}function Oy(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},be(qs,Tt),Tt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,be(qs,Tt),Tt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,be(qs,Tt),Tt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,be(qs,Tt),Tt|=r;return mt(e,t,s,n),t.child}function Dy(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cd(e,t,n,r,s){var i=_t(n)?gs:ut.current;return i=fi(t,i),Xs(t,s),n=nh(e,t,n,r,i,s),r=rh(),e!==null&&!kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Jn(e,t,s)):(je&&r&&Wf(t),t.flags|=1,mt(e,t,n,s),t.child)}function sm(e,t,n,r,s){if(_t(n)){var i=!0;jl(t)}else i=!1;if(Xs(t,s),t.stateNode===null)il(e,t),Ny(t,n,r),bd(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Xt(c):(c=_t(n)?gs:ut.current,c=fi(t,c));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Jp(t,o,r,c),lr=!1;var g=t.memoizedState;o.state=g,Ol(t,r,o,s),l=t.memoizedState,a!==r||g!==l||Et.current||lr?(typeof f=="function"&&(wd(t,n,f,r),l=t.memoizedState),(a=lr||Yp(t,n,a,r,g,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ay(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:nn(t.type,a),o.props=c,h=t.pendingProps,g=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Xt(l):(l=_t(n)?gs:ut.current,l=fi(t,l));var w=n.getDerivedStateFromProps;(f=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||g!==l)&&Jp(t,o,r,l),lr=!1,g=t.memoizedState,o.state=g,Ol(t,r,o,s);var b=t.memoizedState;a!==h||g!==b||Et.current||lr?(typeof w=="function"&&(wd(t,n,w,r),b=t.memoizedState),(c=lr||Yp(t,n,c,r,g,b,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),o.props=r,o.state=b,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return kd(e,t,n,r,i,s)}function kd(e,t,n,r,s,i){Dy(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Hp(t,n,!1),Jn(e,t,i);r=t.stateNode,z1.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=pi(t,e.child,null,i),t.child=pi(t,null,a,i)):mt(e,t,a,i),t.memoizedState=r.state,s&&Hp(t,n,!0),t.child}function Ly(e){var t=e.stateNode;t.pendingContext?Bp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Bp(e,t.context,!1),Jf(e,t.containerInfo)}function im(e,t,n,r,s){return hi(),Vf(s),t.flags|=256,mt(e,t,n,r),t.child}var Ed={dehydrated:null,treeContext:null,retryLane:0};function _d(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ay(e,t,n){var r=t.pendingProps,s=Re.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),be(Re,s&1),e===null)return yd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=vu(o,r,0,null),e=ps(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=_d(n),t.memoizedState=Ed,e):oh(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return U1(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Tr(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Tr(a,i):(i=ps(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?_d(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Ed,r}return i=e.child,e=i.sibling,r=Tr(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function oh(e,t){return t=vu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ma(e,t,n,r){return r!==null&&Vf(r),pi(t,e.child,null,n),e=oh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function U1(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Sc(Error(H(422))),Ma(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=vu({mode:"visible",children:r.children},s,0,null),i=ps(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&pi(t,e.child,null,o),t.child.memoizedState=_d(o),t.memoizedState=Ed,i);if(!(t.mode&1))return Ma(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(H(419)),r=Sc(i,r,void 0),Ma(e,t,o,r)}if(a=(o&e.childLanes)!==0,kt||a){if(r=Ye,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Yn(e,s),cn(r,e,s,-1))}return fh(),r=Sc(Error(H(421))),Ma(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Z1.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ot=jr(s.nextSibling),Dt=t,je=!0,an=null,e!==null&&(qt[Vt++]=Wn,qt[Vt++]=qn,qt[Vt++]=vs,Wn=e.id,qn=e.overflow,vs=t),t=oh(t,r.children),t.flags|=4096,t)}function om(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),xd(e.return,t,n)}function Cc(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Iy(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(mt(e,t,r.children,n),r=Re.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&om(e,n,t);else if(e.tag===19)om(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(be(Re,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Dl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Cc(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Dl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Cc(t,!0,n,null,i);break;case"together":Cc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function il(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Jn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),xs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,n=Tr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Tr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function $1(e,t,n){switch(t.tag){case 3:Ly(t),hi();break;case 5:ly(t);break;case 1:_t(t.type)&&jl(t);break;case 4:Jf(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;be(Pl,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(be(Re,Re.current&1),t.flags|=128,null):n&t.child.childLanes?Ay(e,t,n):(be(Re,Re.current&1),e=Jn(e,t,n),e!==null?e.sibling:null);be(Re,Re.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Iy(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),be(Re,Re.current),r)break;return null;case 22:case 23:return t.lanes=0,Oy(e,t,n)}return Jn(e,t,n)}var Fy,jd,My,zy;Fy=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};jd=function(){};My=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Zr(_n.current);var i=null;switch(n){case"input":s=Gc(e,s),r=Gc(e,r),i=[];break;case"select":s=Oe({},s,{value:void 0}),r=Oe({},r,{value:void 0}),i=[];break;case"textarea":s=Jc(e,s),r=Jc(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=El)}ed(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(bo.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(bo.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ke("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};zy=function(e,t,n,r){n!==r&&(t.flags|=4)};function Gi(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function it(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function B1(e,t,n){var r=t.pendingProps;switch(qf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(t),null;case 1:return _t(t.type)&&_l(),it(t),null;case 3:return r=t.stateNode,mi(),Ee(Et),Ee(ut),eh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ia(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,an!==null&&(Ad(an),an=null))),jd(e,t),it(t),null;case 5:Zf(t);var s=Zr(Do.current);if(n=t.type,e!==null&&t.stateNode!=null)My(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(H(166));return it(t),null}if(e=Zr(_n.current),Ia(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[kn]=t,r[To]=i,e=(t.mode&1)!==0,n){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(s=0;s<ro.length;s++)ke(ro[s],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":mp(r,i),ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ke("invalid",r);break;case"textarea":vp(r,i),ke("invalid",r)}ed(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Aa(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Aa(r.textContent,a,e),s=["children",""+a]):bo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ke("scroll",r)}switch(n){case"input":ja(r),gp(r,i,!0);break;case"textarea":ja(r),yp(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=El)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=hv(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[kn]=t,e[To]=r,Fy(e,t,!1,!1),t.stateNode=e;e:{switch(o=td(n,r),n){case"dialog":ke("cancel",e),ke("close",e),s=r;break;case"iframe":case"object":case"embed":ke("load",e),s=r;break;case"video":case"audio":for(s=0;s<ro.length;s++)ke(ro[s],e);s=r;break;case"source":ke("error",e),s=r;break;case"img":case"image":case"link":ke("error",e),ke("load",e),s=r;break;case"details":ke("toggle",e),s=r;break;case"input":mp(e,r),s=Gc(e,r),ke("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Oe({},r,{value:void 0}),ke("invalid",e);break;case"textarea":vp(e,r),s=Jc(e,r),ke("invalid",e);break;default:s=r}ed(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?gv(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&pv(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&So(e,l):typeof l=="number"&&So(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(bo.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ke("scroll",e):l!=null&&Pf(e,i,l,o))}switch(n){case"input":ja(e),gp(e,r,!1);break;case"textarea":ja(e),yp(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Dr(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Vs(e,!!r.multiple,i,!1):r.defaultValue!=null&&Vs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=El)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return it(t),null;case 6:if(e&&t.stateNode!=null)zy(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(H(166));if(n=Zr(Do.current),Zr(_n.current),Ia(t)){if(r=t.stateNode,n=t.memoizedProps,r[kn]=t,(i=r.nodeValue!==n)&&(e=Dt,e!==null))switch(e.tag){case 3:Aa(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Aa(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[kn]=t,t.stateNode=r}return it(t),null;case 13:if(Ee(Re),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(je&&Ot!==null&&t.mode&1&&!(t.flags&128))ry(),hi(),t.flags|=98560,i=!1;else if(i=Ia(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(H(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(H(317));i[kn]=t}else hi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;it(t),i=!1}else an!==null&&(Ad(an),an=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Re.current&1?qe===0&&(qe=3):fh())),t.updateQueue!==null&&(t.flags|=4),it(t),null);case 4:return mi(),jd(e,t),e===null&&Ro(t.stateNode.containerInfo),it(t),null;case 10:return Gf(t.type._context),it(t),null;case 17:return _t(t.type)&&_l(),it(t),null;case 19:if(Ee(Re),i=t.memoizedState,i===null)return it(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Gi(i,!1);else{if(qe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Dl(e),o!==null){for(t.flags|=128,Gi(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return be(Re,Re.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ie()>vi&&(t.flags|=128,r=!0,Gi(i,!1),t.lanes=4194304)}else{if(!r)if(e=Dl(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Gi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!je)return it(t),null}else 2*Ie()-i.renderingStartTime>vi&&n!==1073741824&&(t.flags|=128,r=!0,Gi(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ie(),t.sibling=null,n=Re.current,be(Re,r?n&1|2:n&1),t):(it(t),null);case 22:case 23:return dh(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Tt&1073741824&&(it(t),t.subtreeFlags&6&&(t.flags|=8192)):it(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function H1(e,t){switch(qf(t),t.tag){case 1:return _t(t.type)&&_l(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return mi(),Ee(Et),Ee(ut),eh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Zf(t),null;case 13:if(Ee(Re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));hi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ee(Re),null;case 4:return mi(),null;case 10:return Gf(t.type._context),null;case 22:case 23:return dh(),null;case 24:return null;default:return null}}var za=!1,ot=!1,W1=typeof WeakSet=="function"?WeakSet:Set,J=null;function Ws(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Le(e,t,r)}else n.current=null}function Nd(e,t,n){try{n()}catch(r){Le(e,t,r)}}var am=!1;function q1(e,t){if(dd=Sl,e=Wv(),Hf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,f=0,h=e,g=null;t:for(;;){for(var w;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(w=h.firstChild)!==null;)g=h,h=w;for(;;){if(h===e)break t;if(g===n&&++c===s&&(a=o),g===i&&++f===r&&(l=o),(w=h.nextSibling)!==null)break;h=g,g=h.parentNode}h=w}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(fd={focusedElem:e,selectionRange:n},Sl=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var C=b.memoizedProps,k=b.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?C:nn(t.type,C),k);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(_){Le(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return b=am,am=!1,b}function ho(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Nd(t,n,i)}s=s.next}while(s!==r)}}function mu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Rd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Uy(e){var t=e.alternate;t!==null&&(e.alternate=null,Uy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[kn],delete t[To],delete t[md],delete t[j1],delete t[N1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $y(e){return e.tag===5||e.tag===3||e.tag===4}function lm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$y(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=El));else if(r!==4&&(e=e.child,e!==null))for(Pd(e,t,n),e=e.sibling;e!==null;)Pd(e,t,n),e=e.sibling}function Td(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Td(e,t,n),e=e.sibling;e!==null;)Td(e,t,n),e=e.sibling}var Ze=null,on=!1;function ir(e,t,n){for(n=n.child;n!==null;)By(e,t,n),n=n.sibling}function By(e,t,n){if(En&&typeof En.onCommitFiberUnmount=="function")try{En.onCommitFiberUnmount(au,n)}catch{}switch(n.tag){case 5:ot||Ws(n,t);case 6:var r=Ze,s=on;Ze=null,ir(e,t,n),Ze=r,on=s,Ze!==null&&(on?(e=Ze,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ze.removeChild(n.stateNode));break;case 18:Ze!==null&&(on?(e=Ze,n=n.stateNode,e.nodeType===8?gc(e.parentNode,n):e.nodeType===1&&gc(e,n),_o(e)):gc(Ze,n.stateNode));break;case 4:r=Ze,s=on,Ze=n.stateNode.containerInfo,on=!0,ir(e,t,n),Ze=r,on=s;break;case 0:case 11:case 14:case 15:if(!ot&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Nd(n,t,o),s=s.next}while(s!==r)}ir(e,t,n);break;case 1:if(!ot&&(Ws(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Le(n,t,a)}ir(e,t,n);break;case 21:ir(e,t,n);break;case 22:n.mode&1?(ot=(r=ot)||n.memoizedState!==null,ir(e,t,n),ot=r):ir(e,t,n);break;default:ir(e,t,n)}}function um(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new W1),t.forEach(function(r){var s=eC.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function tn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ze=a.stateNode,on=!1;break e;case 3:Ze=a.stateNode.containerInfo,on=!0;break e;case 4:Ze=a.stateNode.containerInfo,on=!0;break e}a=a.return}if(Ze===null)throw Error(H(160));By(i,o,s),Ze=null,on=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Le(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Hy(t,e),t=t.sibling}function Hy(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(tn(t,e),yn(e),r&4){try{ho(3,e,e.return),mu(3,e)}catch(C){Le(e,e.return,C)}try{ho(5,e,e.return)}catch(C){Le(e,e.return,C)}}break;case 1:tn(t,e),yn(e),r&512&&n!==null&&Ws(n,n.return);break;case 5:if(tn(t,e),yn(e),r&512&&n!==null&&Ws(n,n.return),e.flags&32){var s=e.stateNode;try{So(s,"")}catch(C){Le(e,e.return,C)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&dv(s,i),td(a,o);var c=td(a,i);for(o=0;o<l.length;o+=2){var f=l[o],h=l[o+1];f==="style"?gv(s,h):f==="dangerouslySetInnerHTML"?pv(s,h):f==="children"?So(s,h):Pf(s,f,h,c)}switch(a){case"input":Xc(s,i);break;case"textarea":fv(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var w=i.value;w!=null?Vs(s,!!i.multiple,w,!1):g!==!!i.multiple&&(i.defaultValue!=null?Vs(s,!!i.multiple,i.defaultValue,!0):Vs(s,!!i.multiple,i.multiple?[]:"",!1))}s[To]=i}catch(C){Le(e,e.return,C)}}break;case 6:if(tn(t,e),yn(e),r&4){if(e.stateNode===null)throw Error(H(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(C){Le(e,e.return,C)}}break;case 3:if(tn(t,e),yn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_o(t.containerInfo)}catch(C){Le(e,e.return,C)}break;case 4:tn(t,e),yn(e);break;case 13:tn(t,e),yn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(uh=Ie())),r&4&&um(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(ot=(c=ot)||f,tn(t,e),ot=c):tn(t,e),yn(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for(J=e,f=e.child;f!==null;){for(h=J=f;J!==null;){switch(g=J,w=g.child,g.tag){case 0:case 11:case 14:case 15:ho(4,g,g.return);break;case 1:Ws(g,g.return);var b=g.stateNode;if(typeof b.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(C){Le(r,n,C)}}break;case 5:Ws(g,g.return);break;case 22:if(g.memoizedState!==null){dm(h);continue}}w!==null?(w.return=g,J=w):dm(h)}f=f.sibling}e:for(f=null,h=e;;){if(h.tag===5){if(f===null){f=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=mv("display",o))}catch(C){Le(e,e.return,C)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(C){Le(e,e.return,C)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:tn(t,e),yn(e),r&4&&um(e);break;case 21:break;default:tn(t,e),yn(e)}}function yn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if($y(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(So(s,""),r.flags&=-33);var i=lm(e);Td(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=lm(e);Pd(e,a,o);break;default:throw Error(H(161))}}catch(l){Le(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function V1(e,t,n){J=e,Wy(e)}function Wy(e,t,n){for(var r=(e.mode&1)!==0;J!==null;){var s=J,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||za;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||ot;a=za;var c=ot;if(za=o,(ot=l)&&!c)for(J=s;J!==null;)o=J,l=o.child,o.tag===22&&o.memoizedState!==null?fm(s):l!==null?(l.return=o,J=l):fm(s);for(;i!==null;)J=i,Wy(i),i=i.sibling;J=s,za=a,ot=c}cm(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,J=i):cm(e)}}function cm(e){for(;J!==null;){var t=J;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ot||mu(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ot)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:nn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Kp(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Kp(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&_o(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}ot||t.flags&512&&Rd(t)}catch(g){Le(t,t.return,g)}}if(t===e){J=null;break}if(n=t.sibling,n!==null){n.return=t.return,J=n;break}J=t.return}}function dm(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var n=t.sibling;if(n!==null){n.return=t.return,J=n;break}J=t.return}}function fm(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{mu(4,t)}catch(l){Le(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){Le(t,s,l)}}var i=t.return;try{Rd(t)}catch(l){Le(t,i,l)}break;case 5:var o=t.return;try{Rd(t)}catch(l){Le(t,o,l)}}}catch(l){Le(t,t.return,l)}if(t===e){J=null;break}var a=t.sibling;if(a!==null){a.return=t.return,J=a;break}J=t.return}}var Q1=Math.ceil,Il=er.ReactCurrentDispatcher,ah=er.ReactCurrentOwner,Kt=er.ReactCurrentBatchConfig,he=0,Ye=null,ze=null,et=0,Tt=0,qs=Fr(0),qe=0,Fo=null,xs=0,gu=0,lh=0,po=null,Ct=null,uh=0,vi=1/0,Fn=null,Fl=!1,Od=null,Rr=null,Ua=!1,Cr=null,Ml=0,mo=0,Dd=null,ol=-1,al=0;function vt(){return he&6?Ie():ol!==-1?ol:ol=Ie()}function Pr(e){return e.mode&1?he&2&&et!==0?et&-et:P1.transition!==null?(al===0&&(al=Nv()),al):(e=ye,e!==0||(e=window.event,e=e===void 0?16:Av(e.type)),e):1}function cn(e,t,n,r){if(50<mo)throw mo=0,Dd=null,Error(H(185));Jo(e,n,r),(!(he&2)||e!==Ye)&&(e===Ye&&(!(he&2)&&(gu|=n),qe===4&&dr(e,et)),jt(e,r),n===1&&he===0&&!(t.mode&1)&&(vi=Ie()+500,fu&&Mr()))}function jt(e,t){var n=e.callbackNode;PS(e,t);var r=bl(e,e===Ye?et:0);if(r===0)n!==null&&bp(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&bp(n),t===1)e.tag===0?R1(hm.bind(null,e)):ey(hm.bind(null,e)),E1(function(){!(he&6)&&Mr()}),n=null;else{switch(Rv(r)){case 1:n=Af;break;case 4:n=_v;break;case 16:n=wl;break;case 536870912:n=jv;break;default:n=wl}n=Jy(n,qy.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function qy(e,t){if(ol=-1,al=0,he&6)throw Error(H(327));var n=e.callbackNode;if(Ys()&&e.callbackNode!==n)return null;var r=bl(e,e===Ye?et:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=zl(e,r);else{t=r;var s=he;he|=2;var i=Qy();(Ye!==e||et!==t)&&(Fn=null,vi=Ie()+500,hs(e,t));do try{X1();break}catch(a){Vy(e,a)}while(!0);Kf(),Il.current=i,he=s,ze!==null?t=0:(Ye=null,et=0,t=qe)}if(t!==0){if(t===2&&(s=od(e),s!==0&&(r=s,t=Ld(e,s))),t===1)throw n=Fo,hs(e,0),dr(e,r),jt(e,Ie()),n;if(t===6)dr(e,r);else{if(s=e.current.alternate,!(r&30)&&!K1(s)&&(t=zl(e,r),t===2&&(i=od(e),i!==0&&(r=i,t=Ld(e,i))),t===1))throw n=Fo,hs(e,0),dr(e,r),jt(e,Ie()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(H(345));case 2:Kr(e,Ct,Fn);break;case 3:if(dr(e,r),(r&130023424)===r&&(t=uh+500-Ie(),10<t)){if(bl(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){vt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=pd(Kr.bind(null,e,Ct,Fn),t);break}Kr(e,Ct,Fn);break;case 4:if(dr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-un(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Q1(r/1960))-r,10<r){e.timeoutHandle=pd(Kr.bind(null,e,Ct,Fn),r);break}Kr(e,Ct,Fn);break;case 5:Kr(e,Ct,Fn);break;default:throw Error(H(329))}}}return jt(e,Ie()),e.callbackNode===n?qy.bind(null,e):null}function Ld(e,t){var n=po;return e.current.memoizedState.isDehydrated&&(hs(e,t).flags|=256),e=zl(e,t),e!==2&&(t=Ct,Ct=n,t!==null&&Ad(t)),e}function Ad(e){Ct===null?Ct=e:Ct.push.apply(Ct,e)}function K1(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!dn(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function dr(e,t){for(t&=~lh,t&=~gu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-un(t),r=1<<n;e[n]=-1,t&=~r}}function hm(e){if(he&6)throw Error(H(327));Ys();var t=bl(e,0);if(!(t&1))return jt(e,Ie()),null;var n=zl(e,t);if(e.tag!==0&&n===2){var r=od(e);r!==0&&(t=r,n=Ld(e,r))}if(n===1)throw n=Fo,hs(e,0),dr(e,t),jt(e,Ie()),n;if(n===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Kr(e,Ct,Fn),jt(e,Ie()),null}function ch(e,t){var n=he;he|=1;try{return e(t)}finally{he=n,he===0&&(vi=Ie()+500,fu&&Mr())}}function ws(e){Cr!==null&&Cr.tag===0&&!(he&6)&&Ys();var t=he;he|=1;var n=Kt.transition,r=ye;try{if(Kt.transition=null,ye=1,e)return e()}finally{ye=r,Kt.transition=n,he=t,!(he&6)&&Mr()}}function dh(){Tt=qs.current,Ee(qs)}function hs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,k1(n)),ze!==null)for(n=ze.return;n!==null;){var r=n;switch(qf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_l();break;case 3:mi(),Ee(Et),Ee(ut),eh();break;case 5:Zf(r);break;case 4:mi();break;case 13:Ee(Re);break;case 19:Ee(Re);break;case 10:Gf(r.type._context);break;case 22:case 23:dh()}n=n.return}if(Ye=e,ze=e=Tr(e.current,null),et=Tt=t,qe=0,Fo=null,lh=gu=xs=0,Ct=po=null,Jr!==null){for(t=0;t<Jr.length;t++)if(n=Jr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Jr=null}return e}function Vy(e,t){do{var n=ze;try{if(Kf(),rl.current=Al,Ll){for(var r=Pe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ll=!1}if(ys=0,Ge=Be=Pe=null,fo=!1,Lo=0,ah.current=null,n===null||n.return===null){qe=1,Fo=t,ze=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=et,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=a,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var w=em(o);if(w!==null){w.flags&=-257,tm(w,o,a,i,t),w.mode&1&&Zp(i,c,t),t=w,l=c;var b=t.updateQueue;if(b===null){var C=new Set;C.add(l),t.updateQueue=C}else b.add(l);break e}else{if(!(t&1)){Zp(i,c,t),fh();break e}l=Error(H(426))}}else if(je&&a.mode&1){var k=em(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),tm(k,o,a,i,t),Vf(gi(l,a));break e}}i=l=gi(l,a),qe!==4&&(qe=2),po===null?po=[i]:po.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=Ry(i,l,t);Qp(i,v);break e;case 1:a=l;var y=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Rr===null||!Rr.has(S)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=Py(i,a,t);Qp(i,_);break e}}i=i.return}while(i!==null)}Gy(n)}catch(j){t=j,ze===n&&n!==null&&(ze=n=n.return);continue}break}while(!0)}function Qy(){var e=Il.current;return Il.current=Al,e===null?Al:e}function fh(){(qe===0||qe===3||qe===2)&&(qe=4),Ye===null||!(xs&268435455)&&!(gu&268435455)||dr(Ye,et)}function zl(e,t){var n=he;he|=2;var r=Qy();(Ye!==e||et!==t)&&(Fn=null,hs(e,t));do try{G1();break}catch(s){Vy(e,s)}while(!0);if(Kf(),he=n,Il.current=r,ze!==null)throw Error(H(261));return Ye=null,et=0,qe}function G1(){for(;ze!==null;)Ky(ze)}function X1(){for(;ze!==null&&!bS();)Ky(ze)}function Ky(e){var t=Yy(e.alternate,e,Tt);e.memoizedProps=e.pendingProps,t===null?Gy(e):ze=t,ah.current=null}function Gy(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=H1(n,t),n!==null){n.flags&=32767,ze=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qe=6,ze=null;return}}else if(n=B1(n,t,Tt),n!==null){ze=n;return}if(t=t.sibling,t!==null){ze=t;return}ze=t=e}while(t!==null);qe===0&&(qe=5)}function Kr(e,t,n){var r=ye,s=Kt.transition;try{Kt.transition=null,ye=1,Y1(e,t,n,r)}finally{Kt.transition=s,ye=r}return null}function Y1(e,t,n,r){do Ys();while(Cr!==null);if(he&6)throw Error(H(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(TS(e,i),e===Ye&&(ze=Ye=null,et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ua||(Ua=!0,Jy(wl,function(){return Ys(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Kt.transition,Kt.transition=null;var o=ye;ye=1;var a=he;he|=4,ah.current=null,q1(e,n),Hy(n,e),v1(fd),Sl=!!dd,fd=dd=null,e.current=n,V1(n),SS(),he=a,ye=o,Kt.transition=i}else e.current=n;if(Ua&&(Ua=!1,Cr=e,Ml=s),i=e.pendingLanes,i===0&&(Rr=null),ES(n.stateNode),jt(e,Ie()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Fl)throw Fl=!1,e=Od,Od=null,e;return Ml&1&&e.tag!==0&&Ys(),i=e.pendingLanes,i&1?e===Dd?mo++:(mo=0,Dd=e):mo=0,Mr(),null}function Ys(){if(Cr!==null){var e=Rv(Ml),t=Kt.transition,n=ye;try{if(Kt.transition=null,ye=16>e?16:e,Cr===null)var r=!1;else{if(e=Cr,Cr=null,Ml=0,he&6)throw Error(H(331));var s=he;for(he|=4,J=e.current;J!==null;){var i=J,o=i.child;if(J.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(J=c;J!==null;){var f=J;switch(f.tag){case 0:case 11:case 15:ho(8,f,i)}var h=f.child;if(h!==null)h.return=f,J=h;else for(;J!==null;){f=J;var g=f.sibling,w=f.return;if(Uy(f),f===c){J=null;break}if(g!==null){g.return=w,J=g;break}J=w}}}var b=i.alternate;if(b!==null){var C=b.child;if(C!==null){b.child=null;do{var k=C.sibling;C.sibling=null,C=k}while(C!==null)}}J=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,J=o;else e:for(;J!==null;){if(i=J,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ho(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,J=v;break e}J=i.return}}var y=e.current;for(J=y;J!==null;){o=J;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,J=S;else e:for(o=y;J!==null;){if(a=J,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:mu(9,a)}}catch(j){Le(a,a.return,j)}if(a===o){J=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,J=_;break e}J=a.return}}if(he=s,Mr(),En&&typeof En.onPostCommitFiberRoot=="function")try{En.onPostCommitFiberRoot(au,e)}catch{}r=!0}return r}finally{ye=n,Kt.transition=t}}return!1}function pm(e,t,n){t=gi(n,t),t=Ry(e,t,1),e=Nr(e,t,1),t=vt(),e!==null&&(Jo(e,1,t),jt(e,t))}function Le(e,t,n){if(e.tag===3)pm(e,e,n);else for(;t!==null;){if(t.tag===3){pm(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Rr===null||!Rr.has(r))){e=gi(n,e),e=Py(t,e,1),t=Nr(t,e,1),e=vt(),t!==null&&(Jo(t,1,e),jt(t,e));break}}t=t.return}}function J1(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=vt(),e.pingedLanes|=e.suspendedLanes&n,Ye===e&&(et&n)===n&&(qe===4||qe===3&&(et&130023424)===et&&500>Ie()-uh?hs(e,0):lh|=n),jt(e,t)}function Xy(e,t){t===0&&(e.mode&1?(t=Pa,Pa<<=1,!(Pa&130023424)&&(Pa=4194304)):t=1);var n=vt();e=Yn(e,t),e!==null&&(Jo(e,t,n),jt(e,n))}function Z1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Xy(e,n)}function eC(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(t),Xy(e,n)}var Yy;Yy=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Et.current)kt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return kt=!1,$1(e,t,n);kt=!!(e.flags&131072)}else kt=!1,je&&t.flags&1048576&&ty(t,Rl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;il(e,t),e=t.pendingProps;var s=fi(t,ut.current);Xs(t,n),s=nh(null,t,r,e,s,n);var i=rh();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_t(r)?(i=!0,jl(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Yf(t),s.updater=pu,t.stateNode=s,s._reactInternals=t,bd(t,r,e,n),t=kd(null,t,r,!0,i,n)):(t.tag=0,je&&i&&Wf(t),mt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(il(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=nC(r),e=nn(r,e),s){case 0:t=Cd(null,t,r,e,n);break e;case 1:t=sm(null,t,r,e,n);break e;case 11:t=nm(null,t,r,e,n);break e;case 14:t=rm(null,t,r,nn(r.type,e),n);break e}throw Error(H(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:nn(r,s),Cd(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:nn(r,s),sm(e,t,r,s,n);case 3:e:{if(Ly(t),e===null)throw Error(H(387));r=t.pendingProps,i=t.memoizedState,s=i.element,ay(e,t),Ol(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=gi(Error(H(423)),t),t=im(e,t,r,n,s);break e}else if(r!==s){s=gi(Error(H(424)),t),t=im(e,t,r,n,s);break e}else for(Ot=jr(t.stateNode.containerInfo.firstChild),Dt=t,je=!0,an=null,n=iy(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hi(),r===s){t=Jn(e,t,n);break e}mt(e,t,r,n)}t=t.child}return t;case 5:return ly(t),e===null&&yd(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,hd(r,s)?o=null:i!==null&&hd(r,i)&&(t.flags|=32),Dy(e,t),mt(e,t,o,n),t.child;case 6:return e===null&&yd(t),null;case 13:return Ay(e,t,n);case 4:return Jf(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=pi(t,null,r,n):mt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:nn(r,s),nm(e,t,r,s,n);case 7:return mt(e,t,t.pendingProps,n),t.child;case 8:return mt(e,t,t.pendingProps.children,n),t.child;case 12:return mt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,be(Pl,r._currentValue),r._currentValue=o,i!==null)if(dn(i.value,o)){if(i.children===s.children&&!Et.current){t=Jn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Vn(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),xd(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(H(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),xd(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}mt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Xs(t,n),s=Xt(s),r=r(s),t.flags|=1,mt(e,t,r,n),t.child;case 14:return r=t.type,s=nn(r,t.pendingProps),s=nn(r.type,s),rm(e,t,r,s,n);case 15:return Ty(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:nn(r,s),il(e,t),t.tag=1,_t(r)?(e=!0,jl(t)):e=!1,Xs(t,n),Ny(t,r,s),bd(t,r,s,n),kd(null,t,r,!0,e,n);case 19:return Iy(e,t,n);case 22:return Oy(e,t,n)}throw Error(H(156,t.tag))};function Jy(e,t){return Ev(e,t)}function tC(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(e,t,n,r){return new tC(e,t,n,r)}function hh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function nC(e){if(typeof e=="function")return hh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Of)return 11;if(e===Df)return 14}return 2}function Tr(e,t){var n=e.alternate;return n===null?(n=Qt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ll(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")hh(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case As:return ps(n.children,s,i,t);case Tf:o=8,s|=8;break;case qc:return e=Qt(12,n,t,s|2),e.elementType=qc,e.lanes=i,e;case Vc:return e=Qt(13,n,t,s),e.elementType=Vc,e.lanes=i,e;case Qc:return e=Qt(19,n,t,s),e.elementType=Qc,e.lanes=i,e;case lv:return vu(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ov:o=10;break e;case av:o=9;break e;case Of:o=11;break e;case Df:o=14;break e;case ar:o=16,r=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=Qt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function ps(e,t,n,r){return e=Qt(7,e,r,t),e.lanes=n,e}function vu(e,t,n,r){return e=Qt(22,e,r,t),e.elementType=lv,e.lanes=n,e.stateNode={isHidden:!1},e}function kc(e,t,n){return e=Qt(6,e,null,t),e.lanes=n,e}function Ec(e,t,n){return t=Qt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function rC(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ic(0),this.expirationTimes=ic(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ic(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ph(e,t,n,r,s,i,o,a,l){return e=new rC(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Qt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yf(i),e}function sC(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ls,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Zy(e){if(!e)return Lr;e=e._reactInternals;e:{if(Ns(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_t(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var n=e.type;if(_t(n))return Zv(e,n,t)}return t}function e0(e,t,n,r,s,i,o,a,l){return e=ph(n,r,!0,e,s,i,o,a,l),e.context=Zy(null),n=e.current,r=vt(),s=Pr(n),i=Vn(r,s),i.callback=t??null,Nr(n,i,s),e.current.lanes=s,Jo(e,s,r),jt(e,r),e}function yu(e,t,n,r){var s=t.current,i=vt(),o=Pr(s);return n=Zy(n),t.context===null?t.context=n:t.pendingContext=n,t=Vn(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Nr(s,t,o),e!==null&&(cn(e,s,o,i),nl(e,s,o)),o}function Ul(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function mm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function mh(e,t){mm(e,t),(e=e.alternate)&&mm(e,t)}function iC(){return null}var t0=typeof reportError=="function"?reportError:function(e){console.error(e)};function gh(e){this._internalRoot=e}xu.prototype.render=gh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));yu(e,t,null,null)};xu.prototype.unmount=gh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ws(function(){yu(null,e,null,null)}),t[Xn]=null}};function xu(e){this._internalRoot=e}xu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ov();e={blockedOn:null,target:e,priority:t};for(var n=0;n<cr.length&&t!==0&&t<cr[n].priority;n++);cr.splice(n,0,e),n===0&&Lv(e)}};function vh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function gm(){}function oC(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Ul(o);i.call(c)}}var o=e0(t,r,e,0,null,!1,!1,"",gm);return e._reactRootContainer=o,e[Xn]=o.current,Ro(e.nodeType===8?e.parentNode:e),ws(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Ul(l);a.call(c)}}var l=ph(e,0,!1,null,null,!1,!1,"",gm);return e._reactRootContainer=l,e[Xn]=l.current,Ro(e.nodeType===8?e.parentNode:e),ws(function(){yu(t,l,n,r)}),l}function bu(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Ul(o);a.call(l)}}yu(t,o,e,s)}else o=oC(n,t,e,s,r);return Ul(o)}Pv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=no(t.pendingLanes);n!==0&&(If(t,n|1),jt(t,Ie()),!(he&6)&&(vi=Ie()+500,Mr()))}break;case 13:ws(function(){var r=Yn(e,1);if(r!==null){var s=vt();cn(r,e,1,s)}}),mh(e,1)}};Ff=function(e){if(e.tag===13){var t=Yn(e,134217728);if(t!==null){var n=vt();cn(t,e,134217728,n)}mh(e,134217728)}};Tv=function(e){if(e.tag===13){var t=Pr(e),n=Yn(e,t);if(n!==null){var r=vt();cn(n,e,t,r)}mh(e,t)}};Ov=function(){return ye};Dv=function(e,t){var n=ye;try{return ye=e,t()}finally{ye=n}};rd=function(e,t,n){switch(t){case"input":if(Xc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=du(r);if(!s)throw Error(H(90));cv(r),Xc(r,s)}}}break;case"textarea":fv(e,n);break;case"select":t=n.value,t!=null&&Vs(e,!!n.multiple,t,!1)}};xv=ch;wv=ws;var aC={usingClientEntryPoint:!1,Events:[ea,zs,du,vv,yv,ch]},Xi={findFiberByHostInstance:Yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lC={bundleType:Xi.bundleType,version:Xi.version,rendererPackageName:Xi.rendererPackageName,rendererConfig:Xi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:er.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Cv(e),e===null?null:e.stateNode},findFiberByHostInstance:Xi.findFiberByHostInstance||iC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$a.isDisabled&&$a.supportsFiber)try{au=$a.inject(lC),En=$a}catch{}}It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aC;It.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vh(t))throw Error(H(200));return sC(e,t,null,n)};It.createRoot=function(e,t){if(!vh(e))throw Error(H(299));var n=!1,r="",s=t0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ph(e,1,!1,null,null,n,!1,r,s),e[Xn]=t.current,Ro(e.nodeType===8?e.parentNode:e),new gh(t)};It.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=Cv(t),e=e===null?null:e.stateNode,e};It.flushSync=function(e){return ws(e)};It.hydrate=function(e,t,n){if(!wu(t))throw Error(H(200));return bu(null,e,t,!0,n)};It.hydrateRoot=function(e,t,n){if(!vh(e))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=t0;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=e0(t,null,e,1,n??null,s,!1,i,o),e[Xn]=t.current,Ro(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new xu(t)};It.render=function(e,t,n){if(!wu(t))throw Error(H(200));return bu(null,e,t,!1,n)};It.unmountComponentAtNode=function(e){if(!wu(e))throw Error(H(40));return e._reactRootContainer?(ws(function(){bu(null,null,e,!1,function(){e._reactRootContainer=null,e[Xn]=null})}),!0):!1};It.unstable_batchedUpdates=ch;It.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!wu(n))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return bu(e,t,n,!1,r)};It.version="18.3.1-next-f1338f8080-20240426";function n0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n0)}catch(e){console.error(e)}}n0(),nv.exports=It;var es=nv.exports,r0,vm=es;r0=vm.createRoot,vm.hydrateRoot;/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ym="popstate";function uC(e={}){function t(r,s){let{pathname:i,search:o,hash:a}=r.location;return Id("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Mo(s)}return dC(t,n,null,e)}function Te(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function jn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function cC(){return Math.random().toString(36).substring(2,10)}function xm(e,t){return{usr:e.state,key:e.key,idx:t}}function Id(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ei(t):t,state:n,key:t&&t.key||r||cC()}}function Mo({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ei(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function dC(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a="POP",l=null,c=f();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function f(){return(o.state||{idx:null}).idx}function h(){a="POP";let k=f(),v=k==null?null:k-c;c=k,l&&l({action:a,location:C.location,delta:v})}function g(k,v){a="PUSH";let y=Id(C.location,k,v);c=f()+1;let S=xm(y,c),_=C.createHref(y);try{o.pushState(S,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(_)}i&&l&&l({action:a,location:C.location,delta:1})}function w(k,v){a="REPLACE";let y=Id(C.location,k,v);c=f();let S=xm(y,c),_=C.createHref(y);o.replaceState(S,"",_),i&&l&&l({action:a,location:C.location,delta:0})}function b(k){return fC(k)}let C={get action(){return a},get location(){return e(s,o)},listen(k){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(ym,h),l=k,()=>{s.removeEventListener(ym,h),l=null}},createHref(k){return t(s,k)},createURL:b,encodeLocation(k){let v=b(k);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:g,replace:w,go(k){return o.go(k)}};return C}function fC(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Te(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Mo(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function s0(e,t,n="/"){return hC(e,t,n,!1)}function hC(e,t,n,r){let s=typeof t=="string"?Ei(t):t,i=Zn(s.pathname||"/",n);if(i==null)return null;let o=i0(e);pC(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=EC(i);a=CC(o[l],c,r)}return a}function i0(e,t=[],n=[],r="",s=!1){let i=(o,a,l=s,c)=>{let f={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&l)return;Te(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let h=Qn([r,f.relativePath]),g=n.concat(f);o.children&&o.children.length>0&&(Te(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),i0(o.children,t,g,h,l)),!(o.path==null&&!o.index)&&t.push({path:h,score:bC(h,o.index),routesMeta:g})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,a);else for(let c of o0(o.path))i(o,a,!0,c)}),t}function o0(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=o0(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function pC(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:SC(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var mC=/^:[\w-]+$/,gC=3,vC=2,yC=1,xC=10,wC=-2,wm=e=>e==="*";function bC(e,t){let n=e.split("/"),r=n.length;return n.some(wm)&&(r+=wC),t&&(r+=vC),n.filter(s=>!wm(s)).reduce((s,i)=>s+(mC.test(i)?gC:i===""?yC:xC),r)}function SC(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function CC(e,t,n=!1){let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,f=i==="/"?t:t.slice(i.length)||"/",h=$l({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},f),g=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=$l({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Qn([i,h.pathname]),pathnameBase:RC(Qn([i,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(i=Qn([i,h.pathnameBase]))}return o}function $l(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=kC(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,{paramName:f,isOptional:h},g)=>{if(f==="*"){let b=a[g]||"";o=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const w=a[g];return h&&!w?c[f]=void 0:c[f]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function kC(e,t=!1,n=!0){jn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function EC(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return jn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Zn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function _C(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Ei(e):e;return{pathname:n?n.startsWith("/")?n:jC(n,t):t,search:PC(r),hash:TC(s)}}function jC(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function _c(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function NC(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function a0(e){let t=NC(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function l0(e,t,n,r=!1){let s;typeof e=="string"?s=Ei(e):(s={...e},Te(!s.pathname||!s.pathname.includes("?"),_c("?","pathname","search",s)),Te(!s.pathname||!s.pathname.includes("#"),_c("#","pathname","hash",s)),Te(!s.search||!s.search.includes("#"),_c("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),h-=1;s.pathname=g.join("/")}a=h>=0?t[h]:"/"}let l=_C(s,a),c=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||f)&&(l.pathname+="/"),l}var Qn=e=>e.join("/").replace(/\/\/+/g,"/"),RC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),PC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,TC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function OC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var u0=["POST","PUT","PATCH","DELETE"];new Set(u0);var DC=["GET",...u0];new Set(DC);var _i=x.createContext(null);_i.displayName="DataRouter";var Su=x.createContext(null);Su.displayName="DataRouterState";x.createContext(!1);var c0=x.createContext({isTransitioning:!1});c0.displayName="ViewTransition";var LC=x.createContext(new Map);LC.displayName="Fetchers";var AC=x.createContext(null);AC.displayName="Await";var Rn=x.createContext(null);Rn.displayName="Navigation";var na=x.createContext(null);na.displayName="Location";var Pn=x.createContext({outlet:null,matches:[],isDataRoute:!1});Pn.displayName="Route";var yh=x.createContext(null);yh.displayName="RouteError";function IC(e,{relative:t}={}){Te(ra(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=x.useContext(Rn),{hash:s,pathname:i,search:o}=sa(e,{relative:t}),a=i;return n!=="/"&&(a=i==="/"?n:Qn([n,i])),r.createHref({pathname:a,search:o,hash:s})}function ra(){return x.useContext(na)!=null}function tr(){return Te(ra(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(na).location}var d0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function f0(e){x.useContext(Rn).static||x.useLayoutEffect(e)}function Cu(){let{isDataRoute:e}=x.useContext(Pn);return e?XC():FC()}function FC(){Te(ra(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(_i),{basename:t,navigator:n}=x.useContext(Rn),{matches:r}=x.useContext(Pn),{pathname:s}=tr(),i=JSON.stringify(a0(r)),o=x.useRef(!1);return f0(()=>{o.current=!0}),x.useCallback((l,c={})=>{if(jn(o.current,d0),!o.current)return;if(typeof l=="number"){n.go(l);return}let f=l0(l,JSON.parse(i),s,c.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Qn([t,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[t,n,i,s,e])}x.createContext(null);function MC(){let{matches:e}=x.useContext(Pn),t=e[e.length-1];return t?t.params:{}}function sa(e,{relative:t}={}){let{matches:n}=x.useContext(Pn),{pathname:r}=tr(),s=JSON.stringify(a0(n));return x.useMemo(()=>l0(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function zC(e,t){return h0(e,t)}function h0(e,t,n,r,s){var y;Te(ra(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=x.useContext(Rn),{matches:o}=x.useContext(Pn),a=o[o.length-1],l=a?a.params:{},c=a?a.pathname:"/",f=a?a.pathnameBase:"/",h=a&&a.route;{let S=h&&h.path||"";p0(c,!h||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let g=tr(),w;if(t){let S=typeof t=="string"?Ei(t):t;Te(f==="/"||((y=S.pathname)==null?void 0:y.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${S.pathname}" was given in the \`location\` prop.`),w=S}else w=g;let b=w.pathname||"/",C=b;if(f!=="/"){let S=f.replace(/^\//,"").split("/");C="/"+b.replace(/^\//,"").split("/").slice(S.length).join("/")}let k=s0(e,{pathname:C});jn(h||k!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),jn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=WC(k&&k.map(S=>Object.assign({},S,{params:Object.assign({},l,S.params),pathname:Qn([f,i.encodeLocation?i.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?f:Qn([f,i.encodeLocation?i.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),o,n,r,s);return t&&v?x.createElement(na.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},v):v}function UC(){let e=GC(),t=OC(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:i},"ErrorBoundary")," or"," ",x.createElement("code",{style:i},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:s},n):null,o)}var $C=x.createElement(UC,null),BC=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?x.createElement(Pn.Provider,{value:this.props.routeContext},x.createElement(yh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function HC({routeContext:e,match:t,children:n}){let r=x.useContext(_i);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(Pn.Provider,{value:e},n)}function WC(e,t=[],n=null,r=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=n==null?void 0:n.errors;if(o!=null){let c=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);Te(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let a=!1,l=-1;if(n)for(let c=0;c<i.length;c++){let f=i[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=c),f.route.id){let{loaderData:h,errors:g}=n,w=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||w){a=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((c,f,h)=>{let g,w=!1,b=null,C=null;n&&(g=o&&f.route.id?o[f.route.id]:void 0,b=f.route.errorElement||$C,a&&(l<0&&h===0?(p0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,C=null):l===h&&(w=!0,C=f.route.hydrateFallbackElement||null)));let k=t.concat(i.slice(0,h+1)),v=()=>{let y;return g?y=b:w?y=C:f.route.Component?y=x.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=c,x.createElement(HC,{match:f,routeContext:{outlet:c,matches:k,isDataRoute:n!=null},children:y})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?x.createElement(BC,{location:n.location,revalidation:n.revalidation,component:b,error:g,children:v(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:r}):v()},null)}function xh(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qC(e){let t=x.useContext(_i);return Te(t,xh(e)),t}function VC(e){let t=x.useContext(Su);return Te(t,xh(e)),t}function QC(e){let t=x.useContext(Pn);return Te(t,xh(e)),t}function wh(e){let t=QC(e),n=t.matches[t.matches.length-1];return Te(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function KC(){return wh("useRouteId")}function GC(){var r;let e=x.useContext(yh),t=VC("useRouteError"),n=wh("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function XC(){let{router:e}=qC("useNavigate"),t=wh("useNavigate"),n=x.useRef(!1);return f0(()=>{n.current=!0}),x.useCallback(async(s,i={})=>{jn(n.current,d0),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var bm={};function p0(e,t,n){!t&&!bm[e]&&(bm[e]=!0,jn(!1,n))}x.memo(YC);function YC({routes:e,future:t,state:n,unstable_onError:r}){return h0(e,void 0,n,r,t)}function Ds(e){Te(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function JC({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){Te(!ra(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=x.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=Ei(n));let{pathname:l="/",search:c="",hash:f="",state:h=null,key:g="default"}=n,w=x.useMemo(()=>{let b=Zn(l,o);return b==null?null:{location:{pathname:b,search:c,hash:f,state:h,key:g},navigationType:r}},[o,l,c,f,h,g,r]);return jn(w!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${f}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:x.createElement(Rn.Provider,{value:a},x.createElement(na.Provider,{children:t,value:w}))}function ZC({children:e,location:t}){return zC(Fd(e),t)}function Fd(e,t=[]){let n=[];return x.Children.forEach(e,(r,s)=>{if(!x.isValidElement(r))return;let i=[...t,s];if(r.type===x.Fragment){n.push.apply(n,Fd(r.props.children,i));return}Te(r.type===Ds,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Te(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Fd(r.props.children,i)),n.push(o)}),n}var ul="get",cl="application/x-www-form-urlencoded";function ku(e){return e!=null&&typeof e.tagName=="string"}function ek(e){return ku(e)&&e.tagName.toLowerCase()==="button"}function tk(e){return ku(e)&&e.tagName.toLowerCase()==="form"}function nk(e){return ku(e)&&e.tagName.toLowerCase()==="input"}function rk(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function sk(e,t){return e.button===0&&(!t||t==="_self")&&!rk(e)}var Ba=null;function ik(){if(Ba===null)try{new FormData(document.createElement("form"),0),Ba=!1}catch{Ba=!0}return Ba}var ok=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jc(e){return e!=null&&!ok.has(e)?(jn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cl}"`),null):e}function ak(e,t){let n,r,s,i,o;if(tk(e)){let a=e.getAttribute("action");r=a?Zn(a,t):null,n=e.getAttribute("method")||ul,s=jc(e.getAttribute("enctype"))||cl,i=new FormData(e)}else if(ek(e)||nk(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?Zn(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||ul,s=jc(e.getAttribute("formenctype"))||jc(a.getAttribute("enctype"))||cl,i=new FormData(a,e),!ik()){let{name:c,type:f,value:h}=e;if(f==="image"){let g=c?`${c}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else c&&i.append(c,h)}}else{if(ku(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ul,r=null,s=cl,o=e}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function bh(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function lk(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Zn(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function uk(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ck(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function dk(e,t,n){let r=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let o=await uk(i,n);return o.links?o.links():[]}return[]}));return mk(r.flat(1).filter(ck).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Sm(e,t,n,r,s,i){let o=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var f;return n[c].pathname!==l.pathname||((f=n[c].route.path)==null?void 0:f.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return i==="assets"?t.filter((l,c)=>o(l,c)||a(l,c)):i==="data"?t.filter((l,c)=>{var h;let f=r.routes[l.route.id];if(!f||!f.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let g=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function fk(e,t,{includeHydrateFallback:n}={}){return hk(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function hk(e){return[...new Set(e)]}function pk(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function mk(e,t){let n=new Set;return new Set(t),e.reduce((r,s)=>{let i=JSON.stringify(pk(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function m0(){let e=x.useContext(_i);return bh(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function gk(){let e=x.useContext(Su);return bh(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Sh=x.createContext(void 0);Sh.displayName="FrameworkContext";function g0(){let e=x.useContext(Sh);return bh(e,"You must render this element inside a <HydratedRouter> element"),e}function vk(e,t){let n=x.useContext(Sh),[r,s]=x.useState(!1),[i,o]=x.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:f,onTouchStart:h}=t,g=x.useRef(null);x.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let C=v=>{v.forEach(y=>{o(y.isIntersecting)})},k=new IntersectionObserver(C,{threshold:.5});return g.current&&k.observe(g.current),()=>{k.disconnect()}}},[e]),x.useEffect(()=>{if(r){let C=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(C)}}},[r]);let w=()=>{s(!0)},b=()=>{s(!1),o(!1)};return n?e!=="intent"?[i,g,{}]:[i,g,{onFocus:Yi(a,w),onBlur:Yi(l,b),onMouseEnter:Yi(c,w),onMouseLeave:Yi(f,b),onTouchStart:Yi(h,w)}]:[!1,g,{}]}function Yi(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function yk({page:e,...t}){let{router:n}=m0(),r=x.useMemo(()=>s0(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?x.createElement(wk,{page:e,matches:r,...t}):null}function xk(e){let{manifest:t,routeModules:n}=g0(),[r,s]=x.useState([]);return x.useEffect(()=>{let i=!1;return dk(e,t,n).then(o=>{i||s(o)}),()=>{i=!0}},[e,t,n]),r}function wk({page:e,matches:t,...n}){let r=tr(),{manifest:s,routeModules:i}=g0(),{basename:o}=m0(),{loaderData:a,matches:l}=gk(),c=x.useMemo(()=>Sm(e,t,l,s,r,"data"),[e,t,l,s,r]),f=x.useMemo(()=>Sm(e,t,l,s,r,"assets"),[e,t,l,s,r]),h=x.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let b=new Set,C=!1;if(t.forEach(v=>{var S;let y=s.routes[v.route.id];!y||!y.hasLoader||(!c.some(_=>_.route.id===v.route.id)&&v.route.id in a&&((S=i[v.route.id])!=null&&S.shouldRevalidate)||y.hasClientLoader?C=!0:b.add(v.route.id))}),b.size===0)return[];let k=lk(e,o,"data");return C&&b.size>0&&k.searchParams.set("_routes",t.filter(v=>b.has(v.route.id)).map(v=>v.route.id).join(",")),[k.pathname+k.search]},[o,a,r,s,c,t,e,i]),g=x.useMemo(()=>fk(f,s),[f,s]),w=xk(f);return x.createElement(x.Fragment,null,h.map(b=>x.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),g.map(b=>x.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),w.map(({key:b,link:C})=>x.createElement("link",{key:b,nonce:n.nonce,...C})))}function bk(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var v0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{v0&&(window.__reactRouterVersion="7.9.4")}catch{}function Sk({basename:e,children:t,window:n}){let r=x.useRef();r.current==null&&(r.current=uC({window:n,v5Compat:!0}));let s=r.current,[i,o]=x.useState({action:s.action,location:s.location}),a=x.useCallback(l=>{x.startTransition(()=>o(l))},[o]);return x.useLayoutEffect(()=>s.listen(a),[s,a]),x.createElement(JC,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:s})}var y0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ae=x.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:f,viewTransition:h,...g},w){let{basename:b}=x.useContext(Rn),C=typeof c=="string"&&y0.test(c),k,v=!1;if(typeof c=="string"&&C&&(k=c,v0))try{let U=new URL(window.location.href),I=c.startsWith("//")?new URL(U.protocol+c):new URL(c),L=Zn(I.pathname,b);I.origin===U.origin&&L!=null?c=L+I.search+I.hash:v=!0}catch{jn(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=IC(c,{relative:s}),[S,_,j]=vk(r,g),R=_k(c,{replace:o,state:a,target:l,preventScrollReset:f,relative:s,viewTransition:h});function T(U){t&&t(U),U.defaultPrevented||R(U)}let D=x.createElement("a",{...g,...j,href:k||y,onClick:v||i?t:T,ref:bk(w,_),target:l,"data-discover":!C&&n==="render"?"true":void 0});return S&&!C?x.createElement(x.Fragment,null,D,x.createElement(yk,{page:y})):D});Ae.displayName="Link";var Ck=x.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:a,children:l,...c},f){let h=sa(o,{relative:c.relative}),g=tr(),w=x.useContext(Su),{navigator:b,basename:C}=x.useContext(Rn),k=w!=null&&Tk(h)&&a===!0,v=b.encodeLocation?b.encodeLocation(h).pathname:h.pathname,y=g.pathname,S=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(y=y.toLowerCase(),S=S?S.toLowerCase():null,v=v.toLowerCase()),S&&C&&(S=Zn(S,C)||S);const _=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let j=y===v||!s&&y.startsWith(v)&&y.charAt(_)==="/",R=S!=null&&(S===v||!s&&S.startsWith(v)&&S.charAt(v.length)==="/"),T={isActive:j,isPending:R,isTransitioning:k},D=j?t:void 0,U;typeof r=="function"?U=r(T):U=[r,j?"active":null,R?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let I=typeof i=="function"?i(T):i;return x.createElement(Ae,{...c,"aria-current":D,className:U,ref:f,style:I,to:o,viewTransition:a},typeof l=="function"?l(T):l)});Ck.displayName="NavLink";var kk=x.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:i,method:o=ul,action:a,onSubmit:l,relative:c,preventScrollReset:f,viewTransition:h,...g},w)=>{let b=Rk(),C=Pk(a,{relative:c}),k=o.toLowerCase()==="get"?"get":"post",v=typeof a=="string"&&y0.test(a),y=S=>{if(l&&l(S),S.defaultPrevented)return;S.preventDefault();let _=S.nativeEvent.submitter,j=(_==null?void 0:_.getAttribute("formmethod"))||o;b(_||S.currentTarget,{fetcherKey:t,method:j,navigate:n,replace:s,state:i,relative:c,preventScrollReset:f,viewTransition:h})};return x.createElement("form",{ref:w,method:k,action:C,onSubmit:r?l:y,...g,"data-discover":!v&&e==="render"?"true":void 0})});kk.displayName="Form";function Ek(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function x0(e){let t=x.useContext(_i);return Te(t,Ek(e)),t}function _k(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let a=Cu(),l=tr(),c=sa(e,{relative:i});return x.useCallback(f=>{if(sk(f,t)){f.preventDefault();let h=n!==void 0?n:Mo(l)===Mo(c);a(e,{replace:h,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[l,a,c,n,r,t,e,s,i,o])}var jk=0,Nk=()=>`__${String(++jk)}__`;function Rk(){let{router:e}=x0("useSubmit"),{basename:t}=x.useContext(Rn),n=KC();return x.useCallback(async(r,s={})=>{let{action:i,method:o,encType:a,formData:l,body:c}=ak(r,t);if(s.navigate===!1){let f=s.fetcherKey||Nk();await e.fetch(f,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||o,formEncType:s.encType||a,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||o,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function Pk(e,{relative:t}={}){let{basename:n}=x.useContext(Rn),r=x.useContext(Pn);Te(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...sa(e||".",{relative:t})},o=tr();if(e==null){i.search=o.search;let a=new URLSearchParams(i.search),l=a.getAll("index");if(l.some(f=>f==="")){a.delete("index"),l.filter(h=>h).forEach(h=>a.append("index",h));let f=a.toString();i.search=f?`?${f}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Qn([n,i.pathname])),Mo(i)}function Tk(e,{relative:t}={}){let n=x.useContext(c0);Te(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=x0("useViewTransitionState"),s=sa(e,{relative:t});if(!n.isTransitioning)return!1;let i=Zn(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Zn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return $l(s.pathname,o)!=null||$l(s.pathname,i)!=null}var ji=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ok={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},hr,Sf,Dg,Dk=(Dg=class{constructor(){te(this,hr,Ok);te(this,Sf,!1)}setTimeoutProvider(e){K(this,hr,e)}setTimeout(e,t){return P(this,hr).setTimeout(e,t)}clearTimeout(e){P(this,hr).clearTimeout(e)}setInterval(e,t){return P(this,hr).setInterval(e,t)}clearInterval(e){P(this,hr).clearInterval(e)}},hr=new WeakMap,Sf=new WeakMap,Dg),ts=new Dk;function Lk(e){setTimeout(e,0)}var bs=typeof window>"u"||"Deno"in globalThis;function gt(){}function Ak(e,t){return typeof e=="function"?e(t):e}function Md(e){return typeof e=="number"&&e>=0&&e!==1/0}function w0(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Or(e,t){return typeof e=="function"?e(t):e}function Ht(e,t){return typeof e=="function"?e(t):e}function Cm(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==Ch(o,t.options))return!1}else if(!zo(t.queryKey,o))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||i&&!i(t))}function km(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Ss(t.options.mutationKey)!==Ss(i))return!1}else if(!zo(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Ch(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ss)(e)}function Ss(e){return JSON.stringify(e,(t,n)=>zd(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function zo(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>zo(e[n],t[n])):!1}var Ik=Object.prototype.hasOwnProperty;function b0(e,t){if(e===t)return e;const n=Em(e)&&Em(t);if(!n&&!(zd(e)&&zd(t)))return t;const s=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),o=i.length,a=n?new Array(o):{};let l=0;for(let c=0;c<o;c++){const f=n?c:i[c],h=e[f],g=t[f];if(h===g){a[f]=h,(n?c<s:Ik.call(e,f))&&l++;continue}if(h===null||g===null||typeof h!="object"||typeof g!="object"){a[f]=g;continue}const w=b0(h,g);a[f]=w,w===h&&l++}return s===o&&l===s?e:a}function Bl(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Em(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function zd(e){if(!_m(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!_m(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function _m(e){return Object.prototype.toString.call(e)==="[object Object]"}function Fk(e){return new Promise(t=>{ts.setTimeout(t,e)})}function Ud(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?b0(e,t):t}function Mk(e){return e}function zk(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Uk(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var kh=Symbol();function S0(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===kh?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function C0(e,t){return typeof e=="function"?e(...t):!!e}var ss,pr,Zs,Lg,$k=(Lg=class extends ji{constructor(){super();te(this,ss);te(this,pr);te(this,Zs);K(this,Zs,t=>{if(!bs&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){P(this,pr)||this.setEventListener(P(this,Zs))}onUnsubscribe(){var t;this.hasListeners()||((t=P(this,pr))==null||t.call(this),K(this,pr,void 0))}setEventListener(t){var n;K(this,Zs,t),(n=P(this,pr))==null||n.call(this),K(this,pr,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){P(this,ss)!==t&&(K(this,ss,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof P(this,ss)=="boolean"?P(this,ss):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ss=new WeakMap,pr=new WeakMap,Zs=new WeakMap,Lg),Eh=new $k;function $d(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var Bk=Lk;function Hk(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=Bk;const i=a=>{t?e.push(a):s(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var We=Hk(),ei,mr,ti,Ag,Wk=(Ag=class extends ji{constructor(){super();te(this,ei,!0);te(this,mr);te(this,ti);K(this,ti,t=>{if(!bs&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){P(this,mr)||this.setEventListener(P(this,ti))}onUnsubscribe(){var t;this.hasListeners()||((t=P(this,mr))==null||t.call(this),K(this,mr,void 0))}setEventListener(t){var n;K(this,ti,t),(n=P(this,mr))==null||n.call(this),K(this,mr,t(this.setOnline.bind(this)))}setOnline(t){P(this,ei)!==t&&(K(this,ei,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return P(this,ei)}},ei=new WeakMap,mr=new WeakMap,ti=new WeakMap,Ag),Hl=new Wk;function qk(e){return Math.min(1e3*2**e,3e4)}function k0(e){return(e??"online")==="online"?Hl.isOnline():!0}var Bd=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function E0(e){let t=!1,n=0,r;const s=$d(),i=()=>s.status!=="pending",o=C=>{var k;if(!i()){const v=new Bd(C);g(v),(k=e.onCancel)==null||k.call(e,v)}},a=()=>{t=!0},l=()=>{t=!1},c=()=>Eh.isFocused()&&(e.networkMode==="always"||Hl.isOnline())&&e.canRun(),f=()=>k0(e.networkMode)&&e.canRun(),h=C=>{i()||(r==null||r(),s.resolve(C))},g=C=>{i()||(r==null||r(),s.reject(C))},w=()=>new Promise(C=>{var k;r=v=>{(i()||c())&&C(v)},(k=e.onPause)==null||k.call(e)}).then(()=>{var C;r=void 0,i()||(C=e.onContinue)==null||C.call(e)}),b=()=>{if(i())return;let C;const k=n===0?e.initialPromise:void 0;try{C=k??e.fn()}catch(v){C=Promise.reject(v)}Promise.resolve(C).then(h).catch(v=>{var R;if(i())return;const y=e.retry??(bs?0:3),S=e.retryDelay??qk,_=typeof S=="function"?S(n,v):S,j=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,v);if(t||!j){g(v);return}n++,(R=e.onFail)==null||R.call(e,n,v),Fk(_).then(()=>c()?void 0:w()).then(()=>{t?g(v):b()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:l,canStart:f,start:()=>(f()?b():w().then(b),s)}}var is,Ig,_0=(Ig=class{constructor(){te(this,is)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Md(this.gcTime)&&K(this,is,ts.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(bs?1/0:5*60*1e3))}clearGcTimeout(){P(this,is)&&(ts.clearTimeout(P(this,is)),K(this,is,void 0))}},is=new WeakMap,Ig),os,ni,Bt,as,Ke,Vo,ls,rn,In,Fg,Vk=(Fg=class extends _0{constructor(t){super();te(this,rn);te(this,os);te(this,ni);te(this,Bt);te(this,as);te(this,Ke);te(this,Vo);te(this,ls);K(this,ls,!1),K(this,Vo,t.defaultOptions),this.setOptions(t.options),this.observers=[],K(this,as,t.client),K(this,Bt,P(this,as).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,K(this,os,jm(this.options)),this.state=t.state??P(this,os),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=P(this,Ke))==null?void 0:t.promise}setOptions(t){if(this.options={...P(this,Vo),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=jm(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),K(this,os,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&P(this,Bt).remove(this)}setData(t,n){const r=Ud(this.state.data,t,this.options);return ae(this,rn,In).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){ae(this,rn,In).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=P(this,Ke))==null?void 0:r.promise;return(s=P(this,Ke))==null||s.cancel(t),n?n.then(gt).catch(gt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(P(this,os))}isActive(){return this.observers.some(t=>Ht(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===kh||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Or(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!w0(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=P(this,Ke))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=P(this,Ke))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),P(this,Bt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(P(this,Ke)&&(P(this,ls)?P(this,Ke).cancel({revert:!0}):P(this,Ke).cancelRetry()),this.scheduleGc()),P(this,Bt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ae(this,rn,In).call(this,{type:"invalidate"})}async fetch(t,n){var l,c,f,h,g,w,b,C,k,v,y,S;if(this.state.fetchStatus!=="idle"&&((l=P(this,Ke))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(P(this,Ke))return P(this,Ke).continueRetry(),P(this,Ke).promise}if(t&&this.setOptions(t),!this.options.queryFn){const _=this.observers.find(j=>j.options.queryFn);_&&this.setOptions(_.options)}const r=new AbortController,s=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(K(this,ls,!0),r.signal)})},i=()=>{const _=S0(this.options,n),R=(()=>{const T={client:P(this,as),queryKey:this.queryKey,meta:this.meta};return s(T),T})();return K(this,ls,!1),this.options.persister?this.options.persister(_,R,this):_(R)},a=(()=>{const _={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:P(this,as),state:this.state,fetchFn:i};return s(_),_})();(c=this.options.behavior)==null||c.onFetch(a,this),K(this,ni,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=a.fetchOptions)==null?void 0:f.meta))&&ae(this,rn,In).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta}),K(this,Ke,E0({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,onCancel:_=>{_ instanceof Bd&&_.revert&&this.setState({...P(this,ni),fetchStatus:"idle"}),r.abort()},onFail:(_,j)=>{ae(this,rn,In).call(this,{type:"failed",failureCount:_,error:j})},onPause:()=>{ae(this,rn,In).call(this,{type:"pause"})},onContinue:()=>{ae(this,rn,In).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const _=await P(this,Ke).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(w=(g=P(this,Bt).config).onSuccess)==null||w.call(g,_,this),(C=(b=P(this,Bt).config).onSettled)==null||C.call(b,_,this.state.error,this),_}catch(_){if(_ instanceof Bd){if(_.silent)return P(this,Ke).promise;if(_.revert){if(this.state.data===void 0)throw _;return this.state.data}}throw ae(this,rn,In).call(this,{type:"error",error:_}),(v=(k=P(this,Bt).config).onError)==null||v.call(k,_,this),(S=(y=P(this,Bt).config).onSettled)==null||S.call(y,this.state.data,_,this),_}finally{this.scheduleGc()}}},os=new WeakMap,ni=new WeakMap,Bt=new WeakMap,as=new WeakMap,Ke=new WeakMap,Vo=new WeakMap,ls=new WeakMap,rn=new WeakSet,In=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...j0(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return K(this,ni,t.manual?s:void 0),s;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),We.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),P(this,Bt).notify({query:this,type:"updated",action:t})})},Fg);function j0(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:k0(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function jm(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var bt,de,Qo,ht,us,ri,zn,gr,Ko,si,ii,cs,ds,vr,oi,ge,so,Hd,Wd,qd,Vd,Qd,Kd,Gd,N0,Mg,Qk=(Mg=class extends ji{constructor(t,n){super();te(this,ge);te(this,bt);te(this,de);te(this,Qo);te(this,ht);te(this,us);te(this,ri);te(this,zn);te(this,gr);te(this,Ko);te(this,si);te(this,ii);te(this,cs);te(this,ds);te(this,vr);te(this,oi,new Set);this.options=n,K(this,bt,t),K(this,gr,null),K(this,zn,$d()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(P(this,de).addObserver(this),Nm(P(this,de),this.options)?ae(this,ge,so).call(this):this.updateResult(),ae(this,ge,Vd).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Xd(P(this,de),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Xd(P(this,de),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ae(this,ge,Qd).call(this),ae(this,ge,Kd).call(this),P(this,de).removeObserver(this)}setOptions(t){const n=this.options,r=P(this,de);if(this.options=P(this,bt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ht(this.options.enabled,P(this,de))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ae(this,ge,Gd).call(this),P(this,de).setOptions(this.options),n._defaulted&&!Bl(this.options,n)&&P(this,bt).getQueryCache().notify({type:"observerOptionsUpdated",query:P(this,de),observer:this});const s=this.hasListeners();s&&Rm(P(this,de),r,this.options,n)&&ae(this,ge,so).call(this),this.updateResult(),s&&(P(this,de)!==r||Ht(this.options.enabled,P(this,de))!==Ht(n.enabled,P(this,de))||Or(this.options.staleTime,P(this,de))!==Or(n.staleTime,P(this,de)))&&ae(this,ge,Hd).call(this);const i=ae(this,ge,Wd).call(this);s&&(P(this,de)!==r||Ht(this.options.enabled,P(this,de))!==Ht(n.enabled,P(this,de))||i!==P(this,vr))&&ae(this,ge,qd).call(this,i)}getOptimisticResult(t){const n=P(this,bt).getQueryCache().build(P(this,bt),t),r=this.createResult(n,t);return Gk(this,r)&&(K(this,ht,r),K(this,ri,this.options),K(this,us,P(this,de).state)),r}getCurrentResult(){return P(this,ht)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&!this.options.experimental_prefetchInRender&&P(this,zn).status==="pending"&&P(this,zn).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(r,s))})}trackProp(t){P(this,oi).add(t)}getCurrentQuery(){return P(this,de)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=P(this,bt).defaultQueryOptions(t),r=P(this,bt).getQueryCache().build(P(this,bt),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return ae(this,ge,so).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),P(this,ht)))}createResult(t,n){var U;const r=P(this,de),s=this.options,i=P(this,ht),o=P(this,us),a=P(this,ri),c=t!==r?t.state:P(this,Qo),{state:f}=t;let h={...f},g=!1,w;if(n._optimisticResults){const I=this.hasListeners(),L=!I&&Nm(t,n),z=I&&Rm(t,r,n,s);(L||z)&&(h={...h,...j0(f.data,t.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:b,errorUpdatedAt:C,status:k}=h;w=h.data;let v=!1;if(n.placeholderData!==void 0&&w===void 0&&k==="pending"){let I;i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(I=i.data,v=!0):I=typeof n.placeholderData=="function"?n.placeholderData((U=P(this,ii))==null?void 0:U.state.data,P(this,ii)):n.placeholderData,I!==void 0&&(k="success",w=Ud(i==null?void 0:i.data,I,n),g=!0)}if(n.select&&w!==void 0&&!v)if(i&&w===(o==null?void 0:o.data)&&n.select===P(this,Ko))w=P(this,si);else try{K(this,Ko,n.select),w=n.select(w),w=Ud(i==null?void 0:i.data,w,n),K(this,si,w),K(this,gr,null)}catch(I){K(this,gr,I)}P(this,gr)&&(b=P(this,gr),w=P(this,si),C=Date.now(),k="error");const y=h.fetchStatus==="fetching",S=k==="pending",_=k==="error",j=S&&y,R=w!==void 0,D={status:k,fetchStatus:h.fetchStatus,isPending:S,isSuccess:k==="success",isError:_,isInitialLoading:j,isLoading:j,data:w,dataUpdatedAt:h.dataUpdatedAt,error:b,errorUpdatedAt:C,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:y,isRefetching:y&&!S,isLoadingError:_&&!R,isPaused:h.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:_&&R,isStale:_h(t,n),refetch:this.refetch,promise:P(this,zn),isEnabled:Ht(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const I=O=>{D.status==="error"?O.reject(D.error):D.data!==void 0&&O.resolve(D.data)},L=()=>{const O=K(this,zn,D.promise=$d());I(O)},z=P(this,zn);switch(z.status){case"pending":t.queryHash===r.queryHash&&I(z);break;case"fulfilled":(D.status==="error"||D.data!==z.value)&&L();break;case"rejected":(D.status!=="error"||D.error!==z.reason)&&L();break}}return D}updateResult(){const t=P(this,ht),n=this.createResult(P(this,de),this.options);if(K(this,us,P(this,de).state),K(this,ri,this.options),P(this,us).data!==void 0&&K(this,ii,P(this,de)),Bl(n,t))return;K(this,ht,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!P(this,oi).size)return!0;const o=new Set(i??P(this,oi));return this.options.throwOnError&&o.add("error"),Object.keys(P(this,ht)).some(a=>{const l=a;return P(this,ht)[l]!==t[l]&&o.has(l)})};ae(this,ge,N0).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ae(this,ge,Vd).call(this)}},bt=new WeakMap,de=new WeakMap,Qo=new WeakMap,ht=new WeakMap,us=new WeakMap,ri=new WeakMap,zn=new WeakMap,gr=new WeakMap,Ko=new WeakMap,si=new WeakMap,ii=new WeakMap,cs=new WeakMap,ds=new WeakMap,vr=new WeakMap,oi=new WeakMap,ge=new WeakSet,so=function(t){ae(this,ge,Gd).call(this);let n=P(this,de).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(gt)),n},Hd=function(){ae(this,ge,Qd).call(this);const t=Or(this.options.staleTime,P(this,de));if(bs||P(this,ht).isStale||!Md(t))return;const r=w0(P(this,ht).dataUpdatedAt,t)+1;K(this,cs,ts.setTimeout(()=>{P(this,ht).isStale||this.updateResult()},r))},Wd=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(P(this,de)):this.options.refetchInterval)??!1},qd=function(t){ae(this,ge,Kd).call(this),K(this,vr,t),!(bs||Ht(this.options.enabled,P(this,de))===!1||!Md(P(this,vr))||P(this,vr)===0)&&K(this,ds,ts.setInterval(()=>{(this.options.refetchIntervalInBackground||Eh.isFocused())&&ae(this,ge,so).call(this)},P(this,vr)))},Vd=function(){ae(this,ge,Hd).call(this),ae(this,ge,qd).call(this,ae(this,ge,Wd).call(this))},Qd=function(){P(this,cs)&&(ts.clearTimeout(P(this,cs)),K(this,cs,void 0))},Kd=function(){P(this,ds)&&(ts.clearInterval(P(this,ds)),K(this,ds,void 0))},Gd=function(){const t=P(this,bt).getQueryCache().build(P(this,bt),this.options);if(t===P(this,de))return;const n=P(this,de);K(this,de,t),K(this,Qo,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},N0=function(t){We.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(P(this,ht))}),P(this,bt).getQueryCache().notify({query:P(this,de),type:"observerResultsUpdated"})})},Mg);function Kk(e,t){return Ht(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Nm(e,t){return Kk(e,t)||e.state.data!==void 0&&Xd(e,t,t.refetchOnMount)}function Xd(e,t,n){if(Ht(t.enabled,e)!==!1&&Or(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&_h(e,t)}return!1}function Rm(e,t,n,r){return(e!==t||Ht(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&_h(e,n)}function _h(e,t){return Ht(t.enabled,e)!==!1&&e.isStaleByTime(Or(t.staleTime,e))}function Gk(e,t){return!Bl(e.getCurrentResult(),t)}function Pm(e){return{onFetch:(t,n)=>{var f,h,g,w,b;const r=t.options,s=(g=(h=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:h.fetchMore)==null?void 0:g.direction,i=((w=t.state.data)==null?void 0:w.pages)||[],o=((b=t.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let C=!1;const k=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(t.signal.aborted?C=!0:t.signal.addEventListener("abort",()=>{C=!0}),t.signal)})},v=S0(t.options,t.fetchOptions),y=async(S,_,j)=>{if(C)return Promise.reject();if(_==null&&S.pages.length)return Promise.resolve(S);const T=(()=>{const L={client:t.client,queryKey:t.queryKey,pageParam:_,direction:j?"backward":"forward",meta:t.options.meta};return k(L),L})(),D=await v(T),{maxPages:U}=t.options,I=j?Uk:zk;return{pages:I(S.pages,D,U),pageParams:I(S.pageParams,_,U)}};if(s&&i.length){const S=s==="backward",_=S?Xk:Tm,j={pages:i,pageParams:o},R=_(r,j);a=await y(j,R,S)}else{const S=e??i.length;do{const _=l===0?o[0]??r.initialPageParam:Tm(r,a);if(l>0&&_==null)break;a=await y(a,_),l++}while(l<S)}return a};t.options.persister?t.fetchFn=()=>{var C,k;return(k=(C=t.options).persister)==null?void 0:k.call(C,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function Tm(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Xk(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Go,bn,pt,fs,Sn,or,zg,Yk=(zg=class extends _0{constructor(t){super();te(this,Sn);te(this,Go);te(this,bn);te(this,pt);te(this,fs);K(this,Go,t.client),this.mutationId=t.mutationId,K(this,pt,t.mutationCache),K(this,bn,[]),this.state=t.state||R0(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){P(this,bn).includes(t)||(P(this,bn).push(t),this.clearGcTimeout(),P(this,pt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){K(this,bn,P(this,bn).filter(n=>n!==t)),this.scheduleGc(),P(this,pt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){P(this,bn).length||(this.state.status==="pending"?this.scheduleGc():P(this,pt).remove(this))}continue(){var t;return((t=P(this,fs))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,a,l,c,f,h,g,w,b,C,k,v,y,S,_,j,R,T,D,U;const n=()=>{ae(this,Sn,or).call(this,{type:"continue"})},r={client:P(this,Go),meta:this.options.meta,mutationKey:this.options.mutationKey};K(this,fs,E0({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(I,L)=>{ae(this,Sn,or).call(this,{type:"failed",failureCount:I,error:L})},onPause:()=>{ae(this,Sn,or).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>P(this,pt).canRun(this)}));const s=this.state.status==="pending",i=!P(this,fs).canStart();try{if(s)n();else{ae(this,Sn,or).call(this,{type:"pending",variables:t,isPaused:i}),await((a=(o=P(this,pt).config).onMutate)==null?void 0:a.call(o,t,this,r));const L=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t,r));L!==this.state.context&&ae(this,Sn,or).call(this,{type:"pending",context:L,variables:t,isPaused:i})}const I=await P(this,fs).start();return await((h=(f=P(this,pt).config).onSuccess)==null?void 0:h.call(f,I,t,this.state.context,this,r)),await((w=(g=this.options).onSuccess)==null?void 0:w.call(g,I,t,this.state.context,r)),await((C=(b=P(this,pt).config).onSettled)==null?void 0:C.call(b,I,null,this.state.variables,this.state.context,this,r)),await((v=(k=this.options).onSettled)==null?void 0:v.call(k,I,null,t,this.state.context,r)),ae(this,Sn,or).call(this,{type:"success",data:I}),I}catch(I){try{throw await((S=(y=P(this,pt).config).onError)==null?void 0:S.call(y,I,t,this.state.context,this,r)),await((j=(_=this.options).onError)==null?void 0:j.call(_,I,t,this.state.context,r)),await((T=(R=P(this,pt).config).onSettled)==null?void 0:T.call(R,void 0,I,this.state.variables,this.state.context,this,r)),await((U=(D=this.options).onSettled)==null?void 0:U.call(D,void 0,I,t,this.state.context,r)),I}finally{ae(this,Sn,or).call(this,{type:"error",error:I})}}finally{P(this,pt).runNext(this)}}},Go=new WeakMap,bn=new WeakMap,pt=new WeakMap,fs=new WeakMap,Sn=new WeakSet,or=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),We.batch(()=>{P(this,bn).forEach(r=>{r.onMutationUpdate(t)}),P(this,pt).notify({mutation:this,type:"updated",action:t})})},zg);function R0(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Un,sn,Xo,Ug,Jk=(Ug=class extends ji{constructor(t={}){super();te(this,Un);te(this,sn);te(this,Xo);this.config=t,K(this,Un,new Set),K(this,sn,new Map),K(this,Xo,0)}build(t,n,r){const s=new Yk({client:t,mutationCache:this,mutationId:++ka(this,Xo)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){P(this,Un).add(t);const n=Ha(t);if(typeof n=="string"){const r=P(this,sn).get(n);r?r.push(t):P(this,sn).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(P(this,Un).delete(t)){const n=Ha(t);if(typeof n=="string"){const r=P(this,sn).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&P(this,sn).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Ha(t);if(typeof n=="string"){const r=P(this,sn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=Ha(t);if(typeof n=="string"){const s=(r=P(this,sn).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){We.batch(()=>{P(this,Un).forEach(t=>{this.notify({type:"removed",mutation:t})}),P(this,Un).clear(),P(this,sn).clear()})}getAll(){return Array.from(P(this,Un))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>km(n,r))}findAll(t={}){return this.getAll().filter(n=>km(t,n))}notify(t){We.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return We.batch(()=>Promise.all(t.map(n=>n.continue().catch(gt))))}},Un=new WeakMap,sn=new WeakMap,Xo=new WeakMap,Ug);function Ha(e){var t;return(t=e.options.scope)==null?void 0:t.id}var $n,yr,St,Bn,Kn,dl,Yd,$g,Zk=($g=class extends ji{constructor(n,r){super();te(this,Kn);te(this,$n);te(this,yr);te(this,St);te(this,Bn);K(this,$n,n),this.setOptions(r),this.bindMethods(),ae(this,Kn,dl).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=P(this,$n).defaultMutationOptions(n),Bl(this.options,r)||P(this,$n).getMutationCache().notify({type:"observerOptionsUpdated",mutation:P(this,St),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Ss(r.mutationKey)!==Ss(this.options.mutationKey)?this.reset():((s=P(this,St))==null?void 0:s.state.status)==="pending"&&P(this,St).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=P(this,St))==null||n.removeObserver(this)}onMutationUpdate(n){ae(this,Kn,dl).call(this),ae(this,Kn,Yd).call(this,n)}getCurrentResult(){return P(this,yr)}reset(){var n;(n=P(this,St))==null||n.removeObserver(this),K(this,St,void 0),ae(this,Kn,dl).call(this),ae(this,Kn,Yd).call(this)}mutate(n,r){var s;return K(this,Bn,r),(s=P(this,St))==null||s.removeObserver(this),K(this,St,P(this,$n).getMutationCache().build(P(this,$n),this.options)),P(this,St).addObserver(this),P(this,St).execute(n)}},$n=new WeakMap,yr=new WeakMap,St=new WeakMap,Bn=new WeakMap,Kn=new WeakSet,dl=function(){var r;const n=((r=P(this,St))==null?void 0:r.state)??R0();K(this,yr,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Yd=function(n){We.batch(()=>{var r,s,i,o,a,l,c,f;if(P(this,Bn)&&this.hasListeners()){const h=P(this,yr).variables,g=P(this,yr).context,w={client:P(this,$n),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((s=(r=P(this,Bn)).onSuccess)==null||s.call(r,n.data,h,g,w),(o=(i=P(this,Bn)).onSettled)==null||o.call(i,n.data,null,h,g,w)):(n==null?void 0:n.type)==="error"&&((l=(a=P(this,Bn)).onError)==null||l.call(a,n.error,h,g,w),(f=(c=P(this,Bn)).onSettled)==null||f.call(c,void 0,n.error,h,g,w))}this.listeners.forEach(h=>{h(P(this,yr))})})},$g),Cn,Bg,eE=(Bg=class extends ji{constructor(t={}){super();te(this,Cn);this.config=t,K(this,Cn,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??Ch(s,n);let o=this.get(i);return o||(o=new Vk({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){P(this,Cn).has(t.queryHash)||(P(this,Cn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=P(this,Cn).get(t.queryHash);n&&(t.destroy(),n===t&&P(this,Cn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){We.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return P(this,Cn).get(t)}getAll(){return[...P(this,Cn).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Cm(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Cm(t,r)):n}notify(t){We.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){We.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){We.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Cn=new WeakMap,Bg),De,xr,wr,ai,li,br,ui,ci,Hg,tE=(Hg=class{constructor(e={}){te(this,De);te(this,xr);te(this,wr);te(this,ai);te(this,li);te(this,br);te(this,ui);te(this,ci);K(this,De,e.queryCache||new eE),K(this,xr,e.mutationCache||new Jk),K(this,wr,e.defaultOptions||{}),K(this,ai,new Map),K(this,li,new Map),K(this,br,0)}mount(){ka(this,br)._++,P(this,br)===1&&(K(this,ui,Eh.subscribe(async e=>{e&&(await this.resumePausedMutations(),P(this,De).onFocus())})),K(this,ci,Hl.subscribe(async e=>{e&&(await this.resumePausedMutations(),P(this,De).onOnline())})))}unmount(){var e,t;ka(this,br)._--,P(this,br)===0&&((e=P(this,ui))==null||e.call(this),K(this,ui,void 0),(t=P(this,ci))==null||t.call(this),K(this,ci,void 0))}isFetching(e){return P(this,De).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return P(this,xr).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=P(this,De).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=P(this,De).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Or(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return P(this,De).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=P(this,De).get(r.queryHash),i=s==null?void 0:s.state.data,o=Ak(t,i);if(o!==void 0)return P(this,De).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return We.batch(()=>P(this,De).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=P(this,De).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=P(this,De);We.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=P(this,De);return We.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=We.batch(()=>P(this,De).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(gt).catch(gt)}invalidateQueries(e,t={}){return We.batch(()=>(P(this,De).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=We.batch(()=>P(this,De).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(gt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(gt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=P(this,De).build(this,t);return n.isStaleByTime(Or(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(gt).catch(gt)}fetchInfiniteQuery(e){return e.behavior=Pm(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(gt).catch(gt)}ensureInfiniteQueryData(e){return e.behavior=Pm(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Hl.isOnline()?P(this,xr).resumePausedMutations():Promise.resolve()}getQueryCache(){return P(this,De)}getMutationCache(){return P(this,xr)}getDefaultOptions(){return P(this,wr)}setDefaultOptions(e){K(this,wr,e)}setQueryDefaults(e,t){P(this,ai).set(Ss(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...P(this,ai).values()],n={};return t.forEach(r=>{zo(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){P(this,li).set(Ss(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...P(this,li).values()],n={};return t.forEach(r=>{zo(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...P(this,wr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Ch(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===kh&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...P(this,wr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){P(this,De).clear(),P(this,xr).clear()}},De=new WeakMap,xr=new WeakMap,wr=new WeakMap,ai=new WeakMap,li=new WeakMap,br=new WeakMap,ui=new WeakMap,ci=new WeakMap,Hg),P0=x.createContext(void 0),Tn=e=>{const t=x.useContext(P0);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},nE=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),d.jsx(P0.Provider,{value:e,children:t})),T0=x.createContext(!1),rE=()=>x.useContext(T0);T0.Provider;function sE(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var iE=x.createContext(sE()),oE=()=>x.useContext(iE),aE=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},lE=e=>{x.useEffect(()=>{e.clearReset()},[e])},uE=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||C0(n,[e.error,r])),cE=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},dE=(e,t)=>e.isLoading&&e.isFetching&&!t,fE=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Om=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function hE(e,t,n){var h,g,w,b,C;const r=rE(),s=oE(),i=Tn(),o=i.defaultQueryOptions(e);(g=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||g.call(h,o),o._optimisticResults=r?"isRestoring":"optimistic",cE(o),aE(o,s),lE(s);const a=!i.getQueryCache().get(o.queryHash),[l]=x.useState(()=>new t(i,o)),c=l.getOptimisticResult(o),f=!r&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(k=>{const v=f?l.subscribe(We.batchCalls(k)):gt;return l.updateResult(),v},[l,f]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),x.useEffect(()=>{l.setOptions(o)},[o,l]),fE(o,c))throw Om(o,l,s);if(uE({result:c,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;if((b=(w=i.getDefaultOptions().queries)==null?void 0:w._experimental_afterQuery)==null||b.call(w,o,c),o.experimental_prefetchInRender&&!bs&&dE(c,r)){const k=a?Om(o,l,s):(C=i.getQueryCache().get(o.queryHash))==null?void 0:C.promise;k==null||k.catch(gt).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?c:l.trackResult(c)}function O0(e,t){return hE(e,Qk)}function Nn(e,t){const n=Tn(),[r]=x.useState(()=>new Zk(n,e));x.useEffect(()=>{r.setOptions(e)},[r,e]);const s=x.useSyncExternalStore(x.useCallback(o=>r.subscribe(We.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=x.useCallback((o,a)=>{r.mutate(o,a).catch(gt)},[r]);if(s.error&&C0(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const pE="modulepreload",mE=function(e){return"/build/"+e},Dm={},gE=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=mE(l),l in Dm)return;Dm[l]=!0;const c=l.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":pE,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((g,w)=>{h.addEventListener("load",g),h.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},vE=({className:e,width:t=20,height:n=20,...r})=>d.jsxs("svg",{width:t,height:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:e,...r,children:[d.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),d.jsx("polyline",{points:"14 2 14 8 20 8"}),d.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),d.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),d.jsx("polyline",{points:"10 9 9 9 8 9"})]}),yE=({className:e,width:t=20,height:n=20,...r})=>d.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",focusable:"false",width:t,height:n,className:e,...r,children:d.jsx("path",{fillRule:"evenodd",d:"M3 10a.75.75 0 01.75-.75h10.64L10.23 5.29a.75.75 0 111.04-1.08l5.5 5.25a.75.75 0 010 1.08l-5.5 5.25a.75.75 0 11-1.04-1.08l4.16-3.96H3.75A.75.75 0 013 10z",clipRule:"evenodd"})}),D0=({className:e,width:t=10,height:n=10,...r})=>d.jsx("svg",{width:t,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:e,...r,children:d.jsx("path",{d:"M7 7L17 17M7 17L17 7",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),L0=({className:e,width:t=14,height:n=14,...r})=>d.jsxs("svg",{width:t,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:e,...r,children:[d.jsx("path",{d:"M5 5H9V19H5V5Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M15 5H19V19H15V5Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),xE=({className:e,width:t=14,height:n=14,...r})=>d.jsxs("svg",{width:t,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:e,...r,children:[d.jsx("path",{d:"M12 6H20M12 12H20M12 18H20",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M4 6H6V18H4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),Jd=({className:e,width:t=14,height:n=14,...r})=>d.jsxs("svg",{width:t,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:e,...r,children:[d.jsx("path",{d:"M8 8H16V16H8V8Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M16 4H6C4.89543 4 4 4.89543 4 6V16",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),wE=({className:e,width:t=14,height:n=14,...r})=>d.jsxs("svg",{width:t,height:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:e,...r,children:[d.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),d.jsx("polyline",{points:"7 10 12 15 17 10"}),d.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),bE=({className:e,width:t=16,height:n=16,...r})=>d.jsx("svg",{width:t,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:e,...r,children:d.jsx("path",{d:"M10 4H14M10 9H14M10 14H14M10 19H14",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),SE=({className:e,width:t=20,height:n=20,...r})=>d.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",focusable:"false",width:t,height:n,className:e,...r,children:d.jsx("path",{d:"M4 13.5V16h2.5L15.81 6.69l-2.5-2.5L4 13.5zm12.71-7.21a1 1 0 000-1.41l-1.59-1.59a1 1 0 00-1.41 0l-1.29 1.29 2.5 2.5 1.29-1.29z"})}),CE=({className:e,width:t=20,height:n=20,...r})=>d.jsxs("svg",{width:t,height:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:e,...r,children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),d.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),kE=({className:e,width:t=20,height:n=20,...r})=>d.jsxs("svg",{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",focusable:"false",width:t,height:n,className:e,...r,children:[d.jsx("circle",{cx:"10",cy:"3.5",r:"1.5"}),d.jsx("circle",{cx:"10",cy:"10",r:"1.5"}),d.jsx("circle",{cx:"10",cy:"16.5",r:"1.5"})]}),EE=({className:e,width:t=14,height:n=14,...r})=>d.jsxs("svg",{width:t,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:e,...r,children:[d.jsx("path",{d:"M4 4v6h6",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M20 20v-6h-6",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M20 10V9a5 5 0 0 0-5-5H9",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M4 14v1a5 5 0 0 0 5 5h6",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),_E=({className:e,width:t=24,height:n=24,...r})=>d.jsxs("svg",{className:e,width:t,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",...r,children:[d.jsx("path",{d:"M3 8.5V4h4.5",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M21 15.5V20h-4.5",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M20 9a8 8 0 0 0-13.657-4.95L3 7.5",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M4 15a8 8 0 0 0 13.657 4.95L21 16.5",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})]}),jE=({className:e,width:t=32,height:n=32,...r})=>{const s=`${x.useId()}-prismBlueGradient`;return d.jsxs("svg",{width:t,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,"aria-hidden":"true",focusable:"false",...r,children:[d.jsx("defs",{children:d.jsxs("linearGradient",{id:s,x1:"2",y1:"3",x2:"22",y2:"20",gradientUnits:"userSpaceOnUse",children:[d.jsx("stop",{offset:"0%",stopColor:"#6366F1"}),d.jsx("stop",{offset:"100%",stopColor:"#0EA5E9"})]})}),d.jsx("path",{d:"M12 3L21 20H3L12 3Z",stroke:`url(#${s})`,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M7.5 11.5L12 11.5L16.5 20",stroke:`url(#${s})`,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"opacity-60"})]})},NE=({className:e,width:t=14,height:n=14,...r})=>d.jsxs("svg",{width:t,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:e,...r,children:[d.jsx("path",{d:"M5 21h14a1 1 0 001-1V8.414a1 1 0 00-.293-.707l-3.414-3.414A1 1 0 0015.586 4H5a1 1 0 00-1 1v15a1 1 0 001 1z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M9 17h6",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M9 4v5h6V4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),RE=({className:e,width:t=16,height:n=16,...r})=>d.jsxs("svg",{width:t,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:e,...r,children:[d.jsx("path",{d:"M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M21 21L16.65 16.65",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),PE=({className:e,width:t=18,height:n=18,...r})=>d.jsx("svg",{className:e,width:t,height:n,viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",focusable:"false",...r,children:d.jsx("path",{fillRule:"evenodd",d:"M12.9 14.32a7 7 0 111.414-1.414l3.39 3.39a1 1 0 01-1.415 1.414l-3.39-3.39zM14 9a5 5 0 11-10 0 5 5 0 0110 0z",clipRule:"evenodd"})}),TE=({className:e,width:t=14,height:n=14,...r})=>{const s=["animate-spin",e].filter(Boolean).join(" ");return d.jsxs("svg",{className:s,width:t,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",...r,children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})},OE=({className:e,width:t=20,height:n=20,...r})=>d.jsx("svg",{width:t,height:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:e,...r,children:d.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})}),DE=({className:e,width:t=24,height:n=24,...r})=>d.jsxs("svg",{className:e,width:t,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",...r,children:[d.jsx("path",{d:"M12 22C17.5 22 22 17.5 22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22Z",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M7.75 12L10.58 14.83L16.25 9.17",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})]}),LE=({className:e,width:t=20,height:n=20,...r})=>d.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",focusable:"false",width:t,height:n,className:e,...r,children:d.jsx("path",{d:"M6 7h8l-.8 9.2a2 2 0 01-2 1.8H8.8a2 2 0 01-2-1.8L6 7zm7-3l-1-1H8L7 4H4v2h12V4h-3z"})});function A0(e,t){return function(){return e.apply(t,arguments)}}const{toString:AE}=Object.prototype,{getPrototypeOf:jh}=Object,{iterator:Eu,toStringTag:I0}=Symbol,_u=(e=>t=>{const n=AE.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),pn=e=>(e=e.toLowerCase(),t=>_u(t)===e),ju=e=>t=>typeof t===e,{isArray:Ni}=Array,yi=ju("undefined");function ia(e){return e!==null&&!yi(e)&&e.constructor!==null&&!yi(e.constructor)&&Nt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const F0=pn("ArrayBuffer");function IE(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&F0(e.buffer),t}const FE=ju("string"),Nt=ju("function"),M0=ju("number"),oa=e=>e!==null&&typeof e=="object",ME=e=>e===!0||e===!1,fl=e=>{if(_u(e)!=="object")return!1;const t=jh(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(I0 in e)&&!(Eu in e)},zE=e=>{if(!oa(e)||ia(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},UE=pn("Date"),$E=pn("File"),BE=pn("Blob"),HE=pn("FileList"),WE=e=>oa(e)&&Nt(e.pipe),qE=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Nt(e.append)&&((t=_u(e))==="formdata"||t==="object"&&Nt(e.toString)&&e.toString()==="[object FormData]"))},VE=pn("URLSearchParams"),[QE,KE,GE,XE]=["ReadableStream","Request","Response","Headers"].map(pn),YE=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function aa(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),Ni(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(ia(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let a;for(r=0;r<o;r++)a=i[r],t.call(null,e[a],a,e)}}function z0(e,t){if(ia(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const ns=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,U0=e=>!yi(e)&&e!==ns;function Zd(){const{caseless:e,skipUndefined:t}=U0(this)&&this||{},n={},r=(s,i)=>{const o=e&&z0(n,i)||i;fl(n[o])&&fl(s)?n[o]=Zd(n[o],s):fl(s)?n[o]=Zd({},s):Ni(s)?n[o]=s.slice():(!t||!yi(s))&&(n[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&aa(arguments[s],r);return n}const JE=(e,t,n,{allOwnKeys:r}={})=>(aa(t,(s,i)=>{n&&Nt(s)?e[i]=A0(s,n):e[i]=s},{allOwnKeys:r}),e),ZE=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),e_=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},t_=(e,t,n,r)=>{let s,i,o;const a={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!r||r(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&jh(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},n_=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},r_=e=>{if(!e)return null;if(Ni(e))return e;let t=e.length;if(!M0(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},s_=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&jh(Uint8Array)),i_=(e,t)=>{const r=(e&&e[Eu]).call(e);let s;for(;(s=r.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},o_=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},a_=pn("HTMLFormElement"),l_=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Lm=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),u_=pn("RegExp"),$0=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};aa(n,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(r[i]=o||s)}),Object.defineProperties(e,r)},c_=e=>{$0(e,(t,n)=>{if(Nt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Nt(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},d_=(e,t)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Ni(e)?r(e):r(String(e).split(t)),n},f_=()=>{},h_=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function p_(e){return!!(e&&Nt(e.append)&&e[I0]==="FormData"&&e[Eu])}const m_=e=>{const t=new Array(10),n=(r,s)=>{if(oa(r)){if(t.indexOf(r)>=0)return;if(ia(r))return r;if(!("toJSON"in r)){t[s]=r;const i=Ni(r)?[]:{};return aa(r,(o,a)=>{const l=n(o,s+1);!yi(l)&&(i[a]=l)}),t[s]=void 0,i}}return r};return n(e,0)},g_=pn("AsyncFunction"),v_=e=>e&&(oa(e)||Nt(e))&&Nt(e.then)&&Nt(e.catch),B0=((e,t)=>e?setImmediate:t?((n,r)=>(ns.addEventListener("message",({source:s,data:i})=>{s===ns&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),ns.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Nt(ns.postMessage)),y_=typeof queueMicrotask<"u"?queueMicrotask.bind(ns):typeof process<"u"&&process.nextTick||B0,x_=e=>e!=null&&Nt(e[Eu]),F={isArray:Ni,isArrayBuffer:F0,isBuffer:ia,isFormData:qE,isArrayBufferView:IE,isString:FE,isNumber:M0,isBoolean:ME,isObject:oa,isPlainObject:fl,isEmptyObject:zE,isReadableStream:QE,isRequest:KE,isResponse:GE,isHeaders:XE,isUndefined:yi,isDate:UE,isFile:$E,isBlob:BE,isRegExp:u_,isFunction:Nt,isStream:WE,isURLSearchParams:VE,isTypedArray:s_,isFileList:HE,forEach:aa,merge:Zd,extend:JE,trim:YE,stripBOM:ZE,inherits:e_,toFlatObject:t_,kindOf:_u,kindOfTest:pn,endsWith:n_,toArray:r_,forEachEntry:i_,matchAll:o_,isHTMLForm:a_,hasOwnProperty:Lm,hasOwnProp:Lm,reduceDescriptors:$0,freezeMethods:c_,toObjectSet:d_,toCamelCase:l_,noop:f_,toFiniteNumber:h_,findKey:z0,global:ns,isContextDefined:U0,isSpecCompliantForm:p_,toJSONObject:m_,isAsyncFn:g_,isThenable:v_,setImmediate:B0,asap:y_,isIterable:x_};function ie(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}F.inherits(ie,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:F.toJSONObject(this.config),code:this.code,status:this.status}}});const H0=ie.prototype,W0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{W0[e]={value:e}});Object.defineProperties(ie,W0);Object.defineProperty(H0,"isAxiosError",{value:!0});ie.from=(e,t,n,r,s,i)=>{const o=Object.create(H0);F.toFlatObject(e,o,function(f){return f!==Error.prototype},c=>c!=="isAxiosError");const a=e&&e.message?e.message:"Error",l=t==null&&e?e.code:t;return ie.call(o,a,l,n,r,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const w_=null;function ef(e){return F.isPlainObject(e)||F.isArray(e)}function q0(e){return F.endsWith(e,"[]")?e.slice(0,-2):e}function Am(e,t,n){return e?e.concat(t).map(function(s,i){return s=q0(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function b_(e){return F.isArray(e)&&!e.some(ef)}const S_=F.toFlatObject(F,{},null,function(t){return/^is[A-Z]/.test(t)});function Nu(e,t,n){if(!F.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=F.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,k){return!F.isUndefined(k[C])});const r=n.metaTokens,s=n.visitor||f,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&F.isSpecCompliantForm(t);if(!F.isFunction(s))throw new TypeError("visitor must be a function");function c(b){if(b===null)return"";if(F.isDate(b))return b.toISOString();if(F.isBoolean(b))return b.toString();if(!l&&F.isBlob(b))throw new ie("Blob is not supported. Use a Buffer instead.");return F.isArrayBuffer(b)||F.isTypedArray(b)?l&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function f(b,C,k){let v=b;if(b&&!k&&typeof b=="object"){if(F.endsWith(C,"{}"))C=r?C:C.slice(0,-2),b=JSON.stringify(b);else if(F.isArray(b)&&b_(b)||(F.isFileList(b)||F.endsWith(C,"[]"))&&(v=F.toArray(b)))return C=q0(C),v.forEach(function(S,_){!(F.isUndefined(S)||S===null)&&t.append(o===!0?Am([C],_,i):o===null?C:C+"[]",c(S))}),!1}return ef(b)?!0:(t.append(Am(k,C,i),c(b)),!1)}const h=[],g=Object.assign(S_,{defaultVisitor:f,convertValue:c,isVisitable:ef});function w(b,C){if(!F.isUndefined(b)){if(h.indexOf(b)!==-1)throw Error("Circular reference detected in "+C.join("."));h.push(b),F.forEach(b,function(v,y){(!(F.isUndefined(v)||v===null)&&s.call(t,v,F.isString(y)?y.trim():y,C,g))===!0&&w(v,C?C.concat(y):[y])}),h.pop()}}if(!F.isObject(e))throw new TypeError("data must be an object");return w(e),t}function Im(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Nh(e,t){this._pairs=[],e&&Nu(e,this,t)}const V0=Nh.prototype;V0.append=function(t,n){this._pairs.push([t,n])};V0.toString=function(t){const n=t?function(r){return t.call(this,r,Im)}:Im;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function C_(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Q0(e,t,n){if(!t)return e;const r=n&&n.encode||C_;F.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(t,n):i=F.isURLSearchParams(t)?t.toString():new Nh(t,n).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Fm{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){F.forEach(this.handlers,function(r){r!==null&&t(r)})}}const K0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},k_=typeof URLSearchParams<"u"?URLSearchParams:Nh,E_=typeof FormData<"u"?FormData:null,__=typeof Blob<"u"?Blob:null,j_={isBrowser:!0,classes:{URLSearchParams:k_,FormData:E_,Blob:__},protocols:["http","https","file","blob","url","data"]},Rh=typeof window<"u"&&typeof document<"u",tf=typeof navigator=="object"&&navigator||void 0,N_=Rh&&(!tf||["ReactNative","NativeScript","NS"].indexOf(tf.product)<0),R_=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",P_=Rh&&window.location.href||"http://localhost",T_=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Rh,hasStandardBrowserEnv:N_,hasStandardBrowserWebWorkerEnv:R_,navigator:tf,origin:P_},Symbol.toStringTag,{value:"Module"})),at={...T_,...j_};function O_(e,t){return Nu(e,new at.classes.URLSearchParams,{visitor:function(n,r,s,i){return at.isNode&&F.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function D_(e){return F.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function L_(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}function G0(e){function t(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&F.isArray(s)?s.length:o,l?(F.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!F.isObject(s[o]))&&(s[o]=[]),t(n,r,s[o],i)&&F.isArray(s[o])&&(s[o]=L_(s[o])),!a)}if(F.isFormData(e)&&F.isFunction(e.entries)){const n={};return F.forEachEntry(e,(r,s)=>{t(D_(r),s,n,0)}),n}return null}function A_(e,t,n){if(F.isString(e))try{return(t||JSON.parse)(e),F.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const la={transitional:K0,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=F.isObject(t);if(i&&F.isHTMLForm(t)&&(t=new FormData(t)),F.isFormData(t))return s?JSON.stringify(G0(t)):t;if(F.isArrayBuffer(t)||F.isBuffer(t)||F.isStream(t)||F.isFile(t)||F.isBlob(t)||F.isReadableStream(t))return t;if(F.isArrayBufferView(t))return t.buffer;if(F.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return O_(t,this.formSerializer).toString();if((a=F.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Nu(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),A_(t)):t}],transformResponse:[function(t){const n=this.transitional||la.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(F.isResponse(t)||F.isReadableStream(t))return t;if(t&&F.isString(t)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?ie.from(a,ie.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:at.classes.FormData,Blob:at.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};F.forEach(["delete","get","head","post","put","patch"],e=>{la.headers[e]={}});const I_=F.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),F_=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||t[n]&&I_[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Mm=Symbol("internals");function Ji(e){return e&&String(e).trim().toLowerCase()}function hl(e){return e===!1||e==null?e:F.isArray(e)?e.map(hl):String(e)}function M_(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const z_=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Nc(e,t,n,r,s){if(F.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!F.isString(t)){if(F.isString(r))return t.indexOf(r)!==-1;if(F.isRegExp(r))return r.test(t)}}function U_(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function $_(e,t){const n=F.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,i,o){return this[r].call(this,t,s,i,o)},configurable:!0})})}let Rt=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function i(a,l,c){const f=Ji(l);if(!f)throw new Error("header name must be a non-empty string");const h=F.findKey(s,f);(!h||s[h]===void 0||c===!0||c===void 0&&s[h]!==!1)&&(s[h||l]=hl(a))}const o=(a,l)=>F.forEach(a,(c,f)=>i(c,f,l));if(F.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(F.isString(t)&&(t=t.trim())&&!z_(t))o(F_(t),n);else if(F.isObject(t)&&F.isIterable(t)){let a={},l,c;for(const f of t){if(!F.isArray(f))throw TypeError("Object iterator must return a key-value pair");a[c=f[0]]=(l=a[c])?F.isArray(l)?[...l,f[1]]:[l,f[1]]:f[1]}o(a,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=Ji(t),t){const r=F.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return M_(s);if(F.isFunction(n))return n.call(this,s,r);if(F.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Ji(t),t){const r=F.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Nc(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function i(o){if(o=Ji(o),o){const a=F.findKey(r,o);a&&(!n||Nc(r,r[a],a,n))&&(delete r[a],s=!0)}}return F.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!t||Nc(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,r={};return F.forEach(this,(s,i)=>{const o=F.findKey(r,i);if(o){n[o]=hl(s),delete n[i];return}const a=t?U_(i):String(i).trim();a!==i&&delete n[i],n[a]=hl(s),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return F.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&F.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[Mm]=this[Mm]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=Ji(o);r[a]||($_(s,o),r[a]=!0)}return F.isArray(t)?t.forEach(i):i(t),this}};Rt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);F.reduceDescriptors(Rt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});F.freezeMethods(Rt);function Rc(e,t){const n=this||la,r=t||n,s=Rt.from(r.headers);let i=r.data;return F.forEach(e,function(a){i=a.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function X0(e){return!!(e&&e.__CANCEL__)}function Ri(e,t,n){ie.call(this,e??"canceled",ie.ERR_CANCELED,t,n),this.name="CanceledError"}F.inherits(Ri,ie,{__CANCEL__:!0});function Y0(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new ie("Request failed with status code "+n.status,[ie.ERR_BAD_REQUEST,ie.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function B_(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function H_(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),f=r[i];o||(o=c),n[s]=l,r[s]=c;let h=i,g=0;for(;h!==s;)g+=n[h++],h=h%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),c-o<t)return;const w=f&&c-f;return w?Math.round(g*1e3/w):void 0}}function W_(e,t){let n=0,r=1e3/t,s,i;const o=(c,f=Date.now())=>{n=f,s=null,i&&(clearTimeout(i),i=null),e(...c)};return[(...c)=>{const f=Date.now(),h=f-n;h>=r?o(c,f):(s=c,i||(i=setTimeout(()=>{i=null,o(s)},r-h)))},()=>s&&o(s)]}const Wl=(e,t,n=3)=>{let r=0;const s=H_(50,250);return W_(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-r,c=s(l),f=o<=a;r=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&f?(a-o)/c:void 0,event:i,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(h)},n)},zm=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Um=e=>(...t)=>F.asap(()=>e(...t)),q_=at.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,at.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(at.origin),at.navigator&&/(msie|trident)/i.test(at.navigator.userAgent)):()=>!0,V_=at.hasStandardBrowserEnv?{write(e,t,n,r,s,i){const o=[e+"="+encodeURIComponent(t)];F.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),F.isString(r)&&o.push("path="+r),F.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Q_(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function K_(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function J0(e,t,n){let r=!Q_(t);return e&&(r||n==!1)?K_(e,t):t}const $m=e=>e instanceof Rt?{...e}:e;function Cs(e,t){t=t||{};const n={};function r(c,f,h,g){return F.isPlainObject(c)&&F.isPlainObject(f)?F.merge.call({caseless:g},c,f):F.isPlainObject(f)?F.merge({},f):F.isArray(f)?f.slice():f}function s(c,f,h,g){if(F.isUndefined(f)){if(!F.isUndefined(c))return r(void 0,c,h,g)}else return r(c,f,h,g)}function i(c,f){if(!F.isUndefined(f))return r(void 0,f)}function o(c,f){if(F.isUndefined(f)){if(!F.isUndefined(c))return r(void 0,c)}else return r(void 0,f)}function a(c,f,h){if(h in t)return r(c,f);if(h in e)return r(void 0,c)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,f,h)=>s($m(c),$m(f),h,!0)};return F.forEach(Object.keys({...e,...t}),function(f){const h=l[f]||s,g=h(e[f],t[f],f);F.isUndefined(g)&&h!==a||(n[f]=g)}),n}const Z0=e=>{const t=Cs({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=t;if(t.headers=o=Rt.from(o),t.url=Q0(J0(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),F.isFormData(n)){if(at.hasStandardBrowserEnv||at.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(F.isFunction(n.getHeaders)){const l=n.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([f,h])=>{c.includes(f.toLowerCase())&&o.set(f,h)})}}if(at.hasStandardBrowserEnv&&(r&&F.isFunction(r)&&(r=r(t)),r||r!==!1&&q_(t.url))){const l=s&&i&&V_.read(i);l&&o.set(s,l)}return t},G_=typeof XMLHttpRequest<"u",X_=G_&&function(e){return new Promise(function(n,r){const s=Z0(e);let i=s.data;const o=Rt.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=s,f,h,g,w,b;function C(){w&&w(),b&&b(),s.cancelToken&&s.cancelToken.unsubscribe(f),s.signal&&s.signal.removeEventListener("abort",f)}let k=new XMLHttpRequest;k.open(s.method.toUpperCase(),s.url,!0),k.timeout=s.timeout;function v(){if(!k)return;const S=Rt.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),j={data:!a||a==="text"||a==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:S,config:e,request:k};Y0(function(T){n(T),C()},function(T){r(T),C()},j),k=null}"onloadend"in k?k.onloadend=v:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(v)},k.onabort=function(){k&&(r(new ie("Request aborted",ie.ECONNABORTED,e,k)),k=null)},k.onerror=function(_){const j=_&&_.message?_.message:"Network Error",R=new ie(j,ie.ERR_NETWORK,e,k);R.event=_||null,r(R),k=null},k.ontimeout=function(){let _=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const j=s.transitional||K0;s.timeoutErrorMessage&&(_=s.timeoutErrorMessage),r(new ie(_,j.clarifyTimeoutError?ie.ETIMEDOUT:ie.ECONNABORTED,e,k)),k=null},i===void 0&&o.setContentType(null),"setRequestHeader"in k&&F.forEach(o.toJSON(),function(_,j){k.setRequestHeader(j,_)}),F.isUndefined(s.withCredentials)||(k.withCredentials=!!s.withCredentials),a&&a!=="json"&&(k.responseType=s.responseType),c&&([g,b]=Wl(c,!0),k.addEventListener("progress",g)),l&&k.upload&&([h,w]=Wl(l),k.upload.addEventListener("progress",h),k.upload.addEventListener("loadend",w)),(s.cancelToken||s.signal)&&(f=S=>{k&&(r(!S||S.type?new Ri(null,e,k):S),k.abort(),k=null)},s.cancelToken&&s.cancelToken.subscribe(f),s.signal&&(s.signal.aborted?f():s.signal.addEventListener("abort",f)));const y=B_(s.url);if(y&&at.protocols.indexOf(y)===-1){r(new ie("Unsupported protocol "+y+":",ie.ERR_BAD_REQUEST,e));return}k.send(i||null)})},Y_=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const i=function(c){if(!s){s=!0,a();const f=c instanceof Error?c:this.reason;r.abort(f instanceof ie?f:new Ri(f instanceof Error?f.message:f))}};let o=t&&setTimeout(()=>{o=null,i(new ie(`timeout ${t} of ms exceeded`,ie.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),e=null)};e.forEach(c=>c.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>F.asap(a),l}},J_=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},Z_=async function*(e,t){for await(const n of ej(e))yield*J_(n,t)},ej=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Bm=(e,t,n,r)=>{const s=Z_(e,t);let i=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:f}=await s.next();if(c){a(),l.close();return}let h=f.byteLength;if(n){let g=i+=h;n(g)}l.enqueue(new Uint8Array(f))}catch(c){throw a(c),c}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},Hm=64*1024,{isFunction:Wa}=F,tj=(({Request:e,Response:t})=>({Request:e,Response:t}))(F.global),{ReadableStream:Wm,TextEncoder:qm}=F.global,Vm=(e,...t)=>{try{return!!e(...t)}catch{return!1}},nj=e=>{e=F.merge.call({skipUndefined:!0},tj,e);const{fetch:t,Request:n,Response:r}=e,s=t?Wa(t):typeof fetch=="function",i=Wa(n),o=Wa(r);if(!s)return!1;const a=s&&Wa(Wm),l=s&&(typeof qm=="function"?(b=>C=>b.encode(C))(new qm):async b=>new Uint8Array(await new n(b).arrayBuffer())),c=i&&a&&Vm(()=>{let b=!1;const C=new n(at.origin,{body:new Wm,method:"POST",get duplex(){return b=!0,"half"}}).headers.has("Content-Type");return b&&!C}),f=o&&a&&Vm(()=>F.isReadableStream(new r("").body)),h={stream:f&&(b=>b.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(b=>{!h[b]&&(h[b]=(C,k)=>{let v=C&&C[b];if(v)return v.call(C);throw new ie(`Response type '${b}' is not supported`,ie.ERR_NOT_SUPPORT,k)})});const g=async b=>{if(b==null)return 0;if(F.isBlob(b))return b.size;if(F.isSpecCompliantForm(b))return(await new n(at.origin,{method:"POST",body:b}).arrayBuffer()).byteLength;if(F.isArrayBufferView(b)||F.isArrayBuffer(b))return b.byteLength;if(F.isURLSearchParams(b)&&(b=b+""),F.isString(b))return(await l(b)).byteLength},w=async(b,C)=>{const k=F.toFiniteNumber(b.getContentLength());return k??g(C)};return async b=>{let{url:C,method:k,data:v,signal:y,cancelToken:S,timeout:_,onDownloadProgress:j,onUploadProgress:R,responseType:T,headers:D,withCredentials:U="same-origin",fetchOptions:I}=Z0(b),L=t||fetch;T=T?(T+"").toLowerCase():"text";let z=Y_([y,S&&S.toAbortSignal()],_),O=null;const A=z&&z.unsubscribe&&(()=>{z.unsubscribe()});let W;try{if(R&&c&&k!=="get"&&k!=="head"&&(W=await w(D,v))!==0){let Z=new n(C,{method:"POST",body:v,duplex:"half"}),X;if(F.isFormData(v)&&(X=Z.headers.get("content-type"))&&D.setContentType(X),Z.body){const[me,ce]=zm(W,Wl(Um(R)));v=Bm(Z.body,Hm,me,ce)}}F.isString(U)||(U=U?"include":"omit");const Y=i&&"credentials"in n.prototype,q={...I,signal:z,method:k.toUpperCase(),headers:D.normalize().toJSON(),body:v,duplex:"half",credentials:Y?U:void 0};O=i&&new n(C,q);let M=await(i?L(O,I):L(C,q));const $=f&&(T==="stream"||T==="response");if(f&&(j||$&&A)){const Z={};["status","statusText","headers"].forEach(le=>{Z[le]=M[le]});const X=F.toFiniteNumber(M.headers.get("content-length")),[me,ce]=j&&zm(X,Wl(Um(j),!0))||[];M=new r(Bm(M.body,Hm,me,()=>{ce&&ce(),A&&A()}),Z)}T=T||"text";let Q=await h[F.findKey(h,T)||"text"](M,b);return!$&&A&&A(),await new Promise((Z,X)=>{Y0(Z,X,{data:Q,headers:Rt.from(M.headers),status:M.status,statusText:M.statusText,config:b,request:O})})}catch(Y){throw A&&A(),Y&&Y.name==="TypeError"&&/Load failed|fetch/i.test(Y.message)?Object.assign(new ie("Network Error",ie.ERR_NETWORK,b,O),{cause:Y.cause||Y}):ie.from(Y,Y&&Y.code,b,O)}}},rj=new Map,ex=e=>{let t=e?e.env:{};const{fetch:n,Request:r,Response:s}=t,i=[r,s,n];let o=i.length,a=o,l,c,f=rj;for(;a--;)l=i[a],c=f.get(l),c===void 0&&f.set(l,c=a?new Map:nj(t)),f=c;return c};ex();const nf={http:w_,xhr:X_,fetch:{get:ex}};F.forEach(nf,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Qm=e=>`- ${e}`,sj=e=>F.isFunction(e)||e===null||e===!1,tx={getAdapter:(e,t)=>{e=F.isArray(e)?e:[e];const{length:n}=e;let r,s;const i={};for(let o=0;o<n;o++){r=e[o];let a;if(s=r,!sj(r)&&(s=nf[(a=String(r)).toLowerCase()],s===void 0))throw new ie(`Unknown adapter '${a}'`);if(s&&(F.isFunction(s)||(s=s.get(t))))break;i[a||"#"+o]=s}if(!s){const o=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=n?o.length>1?`since :
`+o.map(Qm).join(`
`):" "+Qm(o[0]):"as no adapter specified";throw new ie("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return s},adapters:nf};function Pc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ri(null,e)}function Km(e){return Pc(e),e.headers=Rt.from(e.headers),e.data=Rc.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),tx.getAdapter(e.adapter||la.adapter,e)(e).then(function(r){return Pc(e),r.data=Rc.call(e,e.transformResponse,r),r.headers=Rt.from(r.headers),r},function(r){return X0(r)||(Pc(e),r&&r.response&&(r.response.data=Rc.call(e,e.transformResponse,r.response),r.response.headers=Rt.from(r.response.headers))),Promise.reject(r)})}const nx="1.12.2",Ru={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ru[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Gm={};Ru.transitional=function(t,n,r){function s(i,o){return"[Axios v"+nx+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(t===!1)throw new ie(s(o," has been removed"+(n?" in "+n:"")),ie.ERR_DEPRECATED);return n&&!Gm[o]&&(Gm[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,a):!0}};Ru.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function ij(e,t,n){if(typeof e!="object")throw new ie("options must be an object",ie.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],o=t[i];if(o){const a=e[i],l=a===void 0||o(a,i,e);if(l!==!0)throw new ie("option "+i+" must be "+l,ie.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ie("Unknown option "+i,ie.ERR_BAD_OPTION)}}const pl={assertOptions:ij,validators:Ru},xn=pl.validators;let ms=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Fm,response:new Fm}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Cs(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&pl.assertOptions(r,{silentJSONParsing:xn.transitional(xn.boolean),forcedJSONParsing:xn.transitional(xn.boolean),clarifyTimeoutError:xn.transitional(xn.boolean)},!1),s!=null&&(F.isFunction(s)?n.paramsSerializer={serialize:s}:pl.assertOptions(s,{encode:xn.function,serialize:xn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),pl.assertOptions(n,{baseUrl:xn.spelling("baseURL"),withXsrfToken:xn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&F.merge(i.common,i[n.method]);i&&F.forEach(["delete","get","head","post","put","patch","common"],b=>{delete i[b]}),n.headers=Rt.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(n)===!1||(l=l&&C.synchronous,a.unshift(C.fulfilled,C.rejected))});const c=[];this.interceptors.response.forEach(function(C){c.push(C.fulfilled,C.rejected)});let f,h=0,g;if(!l){const b=[Km.bind(this),void 0];for(b.unshift(...a),b.push(...c),g=b.length,f=Promise.resolve(n);h<g;)f=f.then(b[h++],b[h++]);return f}g=a.length;let w=n;for(;h<g;){const b=a[h++],C=a[h++];try{w=b(w)}catch(k){C.call(this,k);break}}try{f=Km.call(this,w)}catch(b){return Promise.reject(b)}for(h=0,g=c.length;h<g;)f=f.then(c[h++],c[h++]);return f}getUri(t){t=Cs(this.defaults,t);const n=J0(t.baseURL,t.url,t.allowAbsoluteUrls);return Q0(n,t.params,t.paramsSerializer)}};F.forEach(["delete","get","head","options"],function(t){ms.prototype[t]=function(n,r){return this.request(Cs(r||{},{method:t,url:n,data:(r||{}).data}))}});F.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,a){return this.request(Cs(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}ms.prototype[t]=n(),ms.prototype[t+"Form"]=n(!0)});let oj=class rx{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,a){r.reason||(r.reason=new Ri(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new rx(function(s){t=s}),cancel:t}}};function aj(e){return function(n){return e.apply(null,n)}}function lj(e){return F.isObject(e)&&e.isAxiosError===!0}const rf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(rf).forEach(([e,t])=>{rf[t]=e});function sx(e){const t=new ms(e),n=A0(ms.prototype.request,t);return F.extend(n,ms.prototype,t,{allOwnKeys:!0}),F.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return sx(Cs(e,s))},n}const Fe=sx(la);Fe.Axios=ms;Fe.CanceledError=Ri;Fe.CancelToken=oj;Fe.isCancel=X0;Fe.VERSION=nx;Fe.toFormData=Nu;Fe.AxiosError=ie;Fe.Cancel=Fe.CanceledError;Fe.all=function(t){return Promise.all(t)};Fe.spread=aj;Fe.isAxiosError=lj;Fe.mergeConfig=Cs;Fe.AxiosHeaders=Rt;Fe.formToJSON=e=>G0(F.isHTMLForm(e)?new FormData(e):e);Fe.getAdapter=tx.getAdapter;Fe.HttpStatusCode=rf;Fe.default=Fe;const{Axios:wT,AxiosError:ua,CanceledError:bT,isCancel:ST,CancelToken:CT,VERSION:kT,all:ET,Cancel:_T,isAxiosError:jT,spread:NT,toFormData:RT,AxiosHeaders:PT,HttpStatusCode:TT,formToJSON:OT,getAdapter:DT,mergeConfig:LT}=Fe,ct=Fe.create({baseURL:"/api",withCredentials:!0,headers:{Accept:"application/json"}}),Mt=()=>ct.get("/sanctum/csrf-cookie",{baseURL:"/"}),Ph=e=>e!==null&&typeof e=="object"&&"data"in e?e.data:e,uj=async e=>(await Mt(),(await ct.post("/projects",e)).data),ix=async e=>{const t=await ct.get(`/projects/${e}`);return Ph(t.data)},cj=async(e,t)=>{await Mt();const n=await ct.patch(`/projects/${e}`,t);return Ph(n.data)},dj=async e=>{await Mt(),await ct.delete(`/projects/${e}`)},fj=async(e={})=>{const{page:t=1,perPage:n=10}=e;return(await ct.get("/my-projects",{params:{page:t,per_page:n}})).data},hj=async e=>(await Mt(),(await ct.post("/projects/claim",{project_id:e})).data),pj=async e=>(await Mt(),(await ct.post(`/projects/${e}/retry`)).data),mj=async(e={})=>{var t;try{const n=await ct.get("/user",{signal:e.signal});return Ph(n.data)}catch(n){if(n instanceof ua&&((t=n.response)==null?void 0:t.status)===401)return null;throw n}},gj=async e=>{await Mt(),await ct.post("/login",e)},vj=async e=>{await Mt(),await ct.post("/register",e)},yj=async()=>{await Mt(),await ct.post("/logout")},go="guestProjectId",xj=5e3,wj=5e-5,bj=2e-4,Sj=.1,Hn={home:"/",login:"/login",register:"/register",dashboard:"/dashboard",blueprint:"/blueprint/:projectId"},_e={home:Hn.home,login:Hn.login,register:Hn.register,dashboard:Hn.dashboard,blueprint:e=>`/blueprint/${e}`},ox=x.createContext(void 0),Cj=({children:e})=>{const[t,n]=x.useState(null),[r,s]=x.useState(!0),i=Cu(),o=x.useCallback(async g=>{try{const w=await mj({signal:g});g!=null&&g.aborted||n(w)}catch{g!=null&&g.aborted||n(null),console.error("Not authenticated or failed to fetch user.")}},[]);x.useEffect(()=>{const g=new AbortController;return(async()=>{try{await Mt()}catch(b){console.error("Failed to fetch CSRF cookie:",b)}finally{await o(g.signal),g.signal.aborted||s(!1)}})(),()=>{g.abort()}},[o]);const a=x.useCallback(async()=>{const g=localStorage.getItem(go);if(g)try{await hj(g),localStorage.removeItem(go),i(_e.blueprint(g),{state:{claimed:!0}});return}catch(w){console.error("Failed to claim project:",w),localStorage.removeItem(go)}i(_e.home)},[i]),l=x.useCallback(async g=>{await vj(g),await o(),await a()},[o,a]),c=x.useCallback(async g=>{await gj(g),await o(),await a()},[o,a]),f=x.useCallback(async()=>{try{await yj()}catch(g){console.error("Logout request failed:",g)}finally{n(null),i(_e.home)}},[i]),h=x.useMemo(()=>({user:t,isAuthLoading:r,register:l,login:c,logout:f}),[t,r,l,c,f]);return d.jsx(ox.Provider,{value:h,children:!r&&e})},Pi=()=>{const e=x.useContext(ox);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},kj=()=>{const{user:e,logout:t}=Pi(),n=Cu(),r=tr(),[s,i]=x.useState(!1),o=async()=>{await t(),n(_e.home)};return x.useEffect(()=>{i(!1)},[r.pathname]),d.jsxs("header",{className:"sticky top-0 z-40 border-b border-stone/10 bg-frost/80 backdrop-blur-md",children:[d.jsxs("nav",{className:"max-w-7xl mx-auto flex h-16 items-center justify-between px-4 sm:px-6","aria-label":"Global",children:[d.jsxs(Ae,{to:_e.home,className:"group flex items-center gap-2.5 text-left",children:[d.jsx("div",{className:"relative flex items-center justify-center transition-transform duration-300 group-hover:scale-110",children:d.jsx(jE,{className:"drop-shadow-sm"})}),d.jsxs("span",{className:"font-display text-xl font-bold tracking-tight text-ink",children:["Prism ",d.jsx("span",{className:"font-medium text-stone/50",children:"AI"})]})]}),d.jsx("div",{className:"hidden items-center gap-4 sm:flex",children:e?d.jsxs(d.Fragment,{children:[d.jsx(Ae,{to:_e.dashboard,className:"text-sm font-medium text-stone transition-colors hover:text-ink",children:"Dashboard"}),d.jsx("button",{type:"button",onClick:o,className:"rounded-lg bg-ink px-4 py-2 text-sm font-semibold text-white transition-opacity hover:opacity-90 shadow-md",children:"Log out"})]}):d.jsxs(d.Fragment,{children:[d.jsx(Ae,{to:_e.login,className:"text-sm font-medium text-stone transition-colors hover:text-ink",children:"Sign In"}),d.jsx(Ae,{to:_e.register,className:"rounded-lg bg-ink px-4 py-2 text-sm font-semibold text-white transition-opacity hover:opacity-90 shadow-md",children:"Get Started"})]})}),d.jsxs("button",{type:"button",className:"rounded-lg border border-stone/30 p-2 text-stone transition-colors hover:border-stone/60 hover:text-ink sm:hidden",onClick:()=>i(a=>!a),"aria-label":"Toggle navigation","aria-expanded":s,children:[d.jsx("span",{className:"sr-only",children:"Open menu"}),d.jsx("span",{className:`block h-0.5 w-5 bg-current transition-transform ${s?"translate-y-1.5 rotate-45":""}`}),d.jsx("span",{className:`mt-1 block h-0.5 w-5 bg-current transition-opacity ${s?"opacity-0":"opacity-100"}`}),d.jsx("span",{className:`mt-1 block h-0.5 w-5 bg-current transition-transform ${s?"-translate-y-1.5 -rotate-45":""}`})]})]}),d.jsx("div",{className:`sm:hidden ${s?"max-h-60 opacity-100 border-t":"max-h-0 opacity-0"} overflow-hidden border-stone/10 bg-frost/95 px-4 transition-all duration-200`,children:d.jsx("div",{className:"flex flex-col gap-2 pt-3 pb-4",children:e?d.jsxs(d.Fragment,{children:[d.jsx(Ae,{to:_e.dashboard,className:"rounded-lg border border-stone/20 px-3 py-2 text-sm text-ink",children:"My Projects"}),d.jsx("button",{type:"button",onClick:o,className:"rounded-lg bg-ink px-3 py-2 text-sm text-white transition-opacity hover:opacity-90",children:"Log out"})]}):d.jsxs(d.Fragment,{children:[d.jsx(Ae,{to:_e.login,className:"rounded-lg border border-stone/20 px-3 py-2 text-sm text-ink",children:"Sign In"}),d.jsx(Ae,{to:_e.register,className:"rounded-lg bg-ink px-3 py-2 text-sm text-white transition-opacity hover:opacity-90",children:"Create Account"})]})})})]})},Ej=({children:e})=>d.jsxs("div",{className:"min-h-screen bg-frost text-ink",children:[d.jsx(kj,{}),d.jsx("main",{children:e})]});function ax(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=ax(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Gt(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=ax(e))&&(r&&(r+=" "),r+=t);return r}function lx({className:e,children:t}){return d.jsx("div",{className:Gt("glass-card",e),children:t})}function rs({id:e,label:t,className:n,inputProps:r}){const{className:s,...i}=r??{};return d.jsxs("div",{className:Gt("float-wrap",n),children:[d.jsx("input",{id:e,placeholder:" ",className:Gt("input-clean",s),...i}),d.jsx("label",{htmlFor:e,className:"float-label",children:t})]})}function _j({id:e,label:t,rows:n=4,className:r,textareaProps:s}){const{className:i,...o}=s??{};return d.jsxs("div",{className:Gt("float-wrap",r),children:[d.jsx("textarea",{id:e,rows:n,placeholder:" ",className:Gt("input-clean resize-none",i),...o}),d.jsx("label",{htmlFor:e,className:"float-label",children:t})]})}function Th({full:e=!0,className:t,children:n,...r}){return d.jsx("button",{className:Gt("btn-editorial",e&&"w-full",t),...r,children:n})}const jj={strategy:{iconBg:"bg-indigo-50 text-indigo-600",borderHover:"group-hover:border-indigo-200",gradient:"from-indigo-500/5 to-transparent",Icon:OE},assets:{iconBg:"bg-emerald-50 text-emerald-600",borderHover:"group-hover:border-emerald-200",gradient:"from-emerald-500/5 to-transparent",Icon:vE},insights:{iconBg:"bg-amber-50 text-amber-600",borderHover:"group-hover:border-amber-200",gradient:"from-amber-500/5 to-transparent",Icon:CE}};function Tc({titleTop:e,titleBottom:t,icon:n,className:r}){const s=jj[n],i=s.Icon;return d.jsxs("div",{className:Gt("group relative overflow-hidden rounded-2xl border border-stone/10 bg-white/60 p-6 text-left shadow-sm backdrop-blur-sm transition-all duration-300 hover:-translate-y-1 hover:shadow-lg hover:bg-white/80",s.borderHover,r),children:[d.jsx("div",{className:Gt("absolute inset-0 bg-gradient-to-br opacity-0 transition-opacity duration-500 group-hover:opacity-100 pointer-events-none",s.gradient)}),d.jsxs("div",{className:"relative z-10 flex flex-col items-start gap-4",children:[d.jsx("div",{className:Gt("flex h-10 w-10 items-center justify-center rounded-xl transition-transform duration-300 group-hover:scale-110",s.iconBg),children:d.jsx(i,{className:"h-5 w-5"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest text-stone/60",children:e}),d.jsx("p",{className:"mt-1 font-display text-lg font-semibold text-ink leading-tight",children:t})]})]})]})}const ux=x.createContext(void 0),Nj={info:"bg-slate-800/90 text-white",success:"bg-emerald-600/90 text-white",error:"bg-rose-600/90 text-white"},Rj=({children:e})=>{const[t,n]=x.useState([]),r=x.useRef({}),s=x.useCallback(a=>{n(l=>l.filter(c=>c.id!==a)),r.current[a]&&(clearTimeout(r.current[a]),delete r.current[a])},[]),i=x.useCallback(({message:a,type:l="info",duration:c=4e3})=>{if(!a)return;const f=Math.random().toString(36).slice(2);n(h=>[...h,{id:f,message:a,type:l}]),c>0&&(r.current[f]=setTimeout(()=>s(f),c))},[s]);x.useEffect(()=>()=>{Object.values(r.current).forEach(clearTimeout),r.current={}},[]);const o=x.useMemo(()=>({showToast:i}),[i]);return d.jsxs(ux.Provider,{value:o,children:[e,d.jsx("div",{className:"pointer-events-none fixed top-4 right-4 z-[1000] flex max-w-sm flex-col gap-3","aria-live":"polite",role:"status",children:t.map(a=>d.jsxs("div",{className:`pointer-events-auto flex items-start gap-3 rounded-md px-4 py-3 text-sm shadow-lg ring-1 ring-white/10 ${Nj[a.type]}`,role:"alert",children:[d.jsx("span",{className:"flex-1 leading-5",children:a.message}),d.jsx("button",{type:"button","aria-label":"Dismiss notification",className:"text-white/80 transition hover:text-white",onClick:()=>s(a.id),children:"X"})]},a.id))})]})},Rs=()=>{const e=x.useContext(ux);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},Pj=()=>{const e=Cu(),{showToast:t}=Rs();return Nn({mutationFn:n=>uj(n),onSuccess:n=>{if(n.project_id){const r=n.project_id;localStorage.setItem(go,r),e(_e.blueprint(r))}},onError:n=>{var s,i;console.error("Project creation mutation failed:",n);const r=((i=(s=n==null?void 0:n.response)==null?void 0:s.data)==null?void 0:i.message)||"Failed to create project.";t({type:"error",message:r})}})};function Tj(){var l,c,f,h;const[e,t]=x.useState(""),[n,r]=x.useState(""),s=Pj(),i=g=>{g.preventDefault(),s.mutate({name:e,idea_text:n})},o=s.isPending,a=((f=(c=(l=s.error)==null?void 0:l.response)==null?void 0:c.data)==null?void 0:f.message)||((h=s.error)==null?void 0:h.message);return d.jsxs("main",{className:"relative z-10 font-body text-ink",children:[d.jsx("div",{className:"grain"}),d.jsx("div",{className:"fixed inset-0 bg-minimal pointer-events-none"}),d.jsxs("section",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-20 md:py-28 text-center",children:[d.jsxs("h1",{className:"font-display text-4xl sm:text-5xl md:text-6xl lg:text-7xl leading-tight tracking-tight font-bold break-words",children:["Meet ",d.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-accent to-indigo-500",children:"Prism"}),".",d.jsx("br",{}),"Your AI Marketing Architect."]}),d.jsx("p",{className:"mt-6 text-stone text-lg md:text-xl tracking-wide font-light max-w-3xl mx-auto",children:"Instantly generate a structured board of psychological hooks, ad copy, and persona insights. From blank page to ready-to-test assets in seconds."}),d.jsx("div",{className:"relative mt-14 md:mt-16",children:d.jsx(lx,{className:"max-w-2xl mx-auto p-6 sm:p-8",children:d.jsxs("form",{onSubmit:i,className:"space-y-6 text-left",children:[d.jsx(rs,{id:"project-name",label:"Brand or Project Name",inputProps:{type:"text",name:"name",value:e,required:!0,disabled:o,onChange:g=>t(g.target.value),placeholder:" ",autoComplete:"off"}}),d.jsx("div",{className:"divider"}),d.jsx(_j,{id:"project-idea",label:"Product & Market Context",rows:4,textareaProps:{name:"idea_text",value:n,required:!0,disabled:o,onChange:g=>r(g.target.value),placeholder:" "}}),a&&d.jsx("p",{className:"text-sm text-red-600 text-center",role:"alert",children:a}),d.jsx(Th,{type:"submit",className:"mt-6 disabled:opacity-60 disabled:pointer-events-none",disabled:o,children:o?"Generating Blueprint...":"Generate Marketing Blueprint"}),d.jsx("p",{className:"hint-text",children:'e.g. "A new D2C skincare brand for women aged 30+, focusing on anti-aging with natural ingredients. Tone: Scientific but accessible."'})]})})}),d.jsxs("div",{className:"mt-20 grid gap-4 sm:grid-cols-3 max-w-4xl mx-auto",children:[d.jsx(Tc,{icon:"strategy",titleTop:"STRATEGY",titleBottom:"Psychological Angles"}),d.jsx(Tc,{icon:"assets",titleTop:"ASSETS",titleBottom:"Hooks, Headlines & CTAs"}),d.jsx(Tc,{icon:"insights",titleTop:"INSIGHTS",titleBottom:"Persona Deep-Dive"})]})]})]})}const Oj=()=>d.jsx("div",{className:"fixed bottom-6 left-1/2 z-30 w-11/12 max-w-2xl -translate-x-1/2",children:d.jsxs("div",{className:"surface-panel surface-panel--muted flex flex-col items-center justify-between gap-4 rounded-2xl px-5 py-4 text-ink shadow-deep animate-authRise sm:flex-row",children:[d.jsxs("div",{className:"text-center sm:text-left",children:[d.jsx("h3",{className:"font-display text-lg font-semibold text-ink",children:"Save Your Blueprint"}),d.jsx("p",{className:"mt-1 text-sm text-stone",children:"Create a free account or sign in to save this project and continue later."})]}),d.jsxs("div",{className:"flex flex-shrink-0 gap-3",children:[d.jsx(Ae,{to:_e.register,className:"rounded-full bg-ink px-4 py-2 text-sm font-semibold text-white transition hover:opacity-90",children:"Create Account"}),d.jsx(Ae,{to:_e.login,className:"rounded-full border border-stone/20 px-4 py-2 text-sm font-semibold text-stone transition hover:border-accent/30",children:"Sign In"})]})]})});class Oh{constructor(){this.notificationCreatedEvent=".Illuminate\\Notifications\\Events\\BroadcastNotificationCreated"}listenForWhisper(t,n){return this.listen(".client-"+t,n)}notification(t){return this.listen(this.notificationCreatedEvent,t)}stopListeningForNotification(t){return this.stopListening(this.notificationCreatedEvent,t)}stopListeningForWhisper(t,n){return this.stopListening(".client-"+t,n)}}class cx{constructor(t){this.namespace=t}format(t){return[".","\\"].includes(t.charAt(0))?t.substring(1):(this.namespace&&(t=this.namespace+"."+t),t.replace(/\./g,"\\"))}setNamespace(t){this.namespace=t}}function Dj(e){try{new e}catch(t){if(t instanceof Error&&t.message.includes("is not a constructor"))return!1}return!0}class Dh extends Oh{constructor(t,n,r){super(),this.name=n,this.pusher=t,this.options=r,this.eventFormatter=new cx(this.options.namespace),this.subscribe()}subscribe(){this.subscription=this.pusher.subscribe(this.name)}unsubscribe(){this.pusher.unsubscribe(this.name)}listen(t,n){return this.on(this.eventFormatter.format(t),n),this}listenToAll(t){return this.subscription.bind_global((n,r)=>{if(n.startsWith("pusher:"))return;let s=String(this.options.namespace??"").replace(/\./g,"\\"),i=n.startsWith(s)?n.substring(s.length+1):"."+n;t(i,r)}),this}stopListening(t,n){return n?this.subscription.unbind(this.eventFormatter.format(t),n):this.subscription.unbind(this.eventFormatter.format(t)),this}stopListeningToAll(t){return t?this.subscription.unbind_global(t):this.subscription.unbind_global(),this}subscribed(t){return this.on("pusher:subscription_succeeded",()=>{t()}),this}error(t){return this.on("pusher:subscription_error",n=>{t(n)}),this}on(t,n){return this.subscription.bind(t,n),this}}class dx extends Dh{whisper(t,n){return this.pusher.channels.channels[this.name].trigger(`client-${t}`,n),this}}class Lj extends Dh{whisper(t,n){return this.pusher.channels.channels[this.name].trigger(`client-${t}`,n),this}}class Aj extends dx{here(t){return this.on("pusher:subscription_succeeded",n=>{t(Object.keys(n.members).map(r=>n.members[r]))}),this}joining(t){return this.on("pusher:member_added",n=>{t(n.info)}),this}whisper(t,n){return this.pusher.channels.channels[this.name].trigger(`client-${t}`,n),this}leaving(t){return this.on("pusher:member_removed",n=>{t(n.info)}),this}}class fx extends Oh{constructor(t,n,r){super(),this.events={},this.listeners={},this.name=n,this.socket=t,this.options=r,this.eventFormatter=new cx(this.options.namespace),this.subscribe()}subscribe(){this.socket.emit("subscribe",{channel:this.name,auth:this.options.auth||{}})}unsubscribe(){this.unbind(),this.socket.emit("unsubscribe",{channel:this.name,auth:this.options.auth||{}})}listen(t,n){return this.on(this.eventFormatter.format(t),n),this}stopListening(t,n){return this.unbindEvent(this.eventFormatter.format(t),n),this}subscribed(t){return this.on("connect",n=>{t(n)}),this}error(t){return this}on(t,n){return this.listeners[t]=this.listeners[t]||[],this.events[t]||(this.events[t]=(r,s)=>{this.name===r&&this.listeners[t]&&this.listeners[t].forEach(i=>i(s))},this.socket.on(t,this.events[t])),this.listeners[t].push(n),this}unbind(){Object.keys(this.events).forEach(t=>{this.unbindEvent(t)})}unbindEvent(t,n){this.listeners[t]=this.listeners[t]||[],n&&(this.listeners[t]=this.listeners[t].filter(r=>r!==n)),(!n||this.listeners[t].length===0)&&(this.events[t]&&(this.socket.removeListener(t,this.events[t]),delete this.events[t]),delete this.listeners[t])}}class hx extends fx{whisper(t,n){return this.socket.emit("client event",{channel:this.name,event:`client-${t}`,data:n}),this}}class Ij extends hx{here(t){return this.on("presence:subscribed",n=>{t(n.map(r=>r.user_info))}),this}joining(t){return this.on("presence:joining",n=>t(n.user_info)),this}whisper(t,n){return this.socket.emit("client event",{channel:this.name,event:`client-${t}`,data:n}),this}leaving(t){return this.on("presence:leaving",n=>t(n.user_info)),this}}class ql extends Oh{subscribe(){}unsubscribe(){}listen(t,n){return this}listenToAll(t){return this}stopListening(t,n){return this}subscribed(t){return this}error(t){return this}on(t,n){return this}}class px extends ql{whisper(t,n){return this}}class Fj extends ql{whisper(t,n){return this}}class Mj extends px{here(t){return this}joining(t){return this}whisper(t,n){return this}leaving(t){return this}}const mx=class gx{constructor(t){this.setOptions(t),this.connect()}setOptions(t){this.options={...gx._defaultOptions,...t,broadcaster:t.broadcaster};let n=this.csrfToken();n&&(this.options.auth.headers["X-CSRF-TOKEN"]=n,this.options.userAuthentication.headers["X-CSRF-TOKEN"]=n),n=this.options.bearerToken,n&&(this.options.auth.headers.Authorization="Bearer "+n,this.options.userAuthentication.headers.Authorization="Bearer "+n)}csrfToken(){var t,n;return typeof window<"u"&&(t=window.Laravel)!=null&&t.csrfToken?window.Laravel.csrfToken:this.options.csrfToken?this.options.csrfToken:typeof document<"u"&&typeof document.querySelector=="function"?((n=document.querySelector('meta[name="csrf-token"]'))==null?void 0:n.getAttribute("content"))??null:null}};mx._defaultOptions={auth:{headers:{}},authEndpoint:"/broadcasting/auth",userAuthentication:{endpoint:"/broadcasting/user-auth",headers:{}},csrfToken:null,bearerToken:null,host:null,key:null,namespace:"App.Events"};let Lh=mx;class qa extends Lh{constructor(){super(...arguments),this.channels={}}connect(){if(typeof this.options.client<"u")this.pusher=this.options.client;else if(this.options.Pusher)this.pusher=new this.options.Pusher(this.options.key,this.options);else if(typeof window<"u"&&typeof window.Pusher<"u")this.pusher=new window.Pusher(this.options.key,this.options);else throw new Error("Pusher client not found. Should be globally available or passed via options.client")}signin(){this.pusher.signin()}listen(t,n,r){return this.channel(t).listen(n,r)}channel(t){return this.channels[t]||(this.channels[t]=new Dh(this.pusher,t,this.options)),this.channels[t]}privateChannel(t){return this.channels["private-"+t]||(this.channels["private-"+t]=new dx(this.pusher,"private-"+t,this.options)),this.channels["private-"+t]}encryptedPrivateChannel(t){return this.channels["private-encrypted-"+t]||(this.channels["private-encrypted-"+t]=new Lj(this.pusher,"private-encrypted-"+t,this.options)),this.channels["private-encrypted-"+t]}presenceChannel(t){return this.channels["presence-"+t]||(this.channels["presence-"+t]=new Aj(this.pusher,"presence-"+t,this.options)),this.channels["presence-"+t]}leave(t){[t,"private-"+t,"private-encrypted-"+t,"presence-"+t].forEach(n=>{this.leaveChannel(n)})}leaveChannel(t){this.channels[t]&&(this.channels[t].unsubscribe(),delete this.channels[t])}socketId(){return this.pusher.connection.socket_id}disconnect(){this.pusher.disconnect()}}class zj extends Lh{constructor(){super(...arguments),this.channels={}}connect(){let t=this.getSocketIO();this.socket=t(this.options.host??void 0,this.options),this.socket.io.on("reconnect",()=>{Object.values(this.channels).forEach(n=>{n.subscribe()})})}getSocketIO(){if(typeof this.options.client<"u")return this.options.client;if(typeof window<"u"&&typeof window.io<"u")return window.io;throw new Error("Socket.io client not found. Should be globally available or passed via options.client")}listen(t,n,r){return this.channel(t).listen(n,r)}channel(t){return this.channels[t]||(this.channels[t]=new fx(this.socket,t,this.options)),this.channels[t]}privateChannel(t){return this.channels["private-"+t]||(this.channels["private-"+t]=new hx(this.socket,"private-"+t,this.options)),this.channels["private-"+t]}presenceChannel(t){return this.channels["presence-"+t]||(this.channels["presence-"+t]=new Ij(this.socket,"presence-"+t,this.options)),this.channels["presence-"+t]}leave(t){[t,"private-"+t,"presence-"+t].forEach(n=>{this.leaveChannel(n)})}leaveChannel(t){this.channels[t]&&(this.channels[t].unsubscribe(),delete this.channels[t])}socketId(){return this.socket.id}disconnect(){this.socket.disconnect()}}class Xm extends Lh{constructor(){super(...arguments),this.channels={}}connect(){}listen(t,n,r){return new ql}channel(t){return new ql}privateChannel(t){return new px}encryptedPrivateChannel(t){return new Fj}presenceChannel(t){return new Mj}leave(t){}leaveChannel(t){}socketId(){return"fake-socket-id"}disconnect(){}}class Uj{constructor(t){this.options=t,this.connect(),this.options.withoutInterceptors||this.registerInterceptors()}channel(t){return this.connector.channel(t)}connect(){if(this.options.broadcaster==="reverb")this.connector=new qa({...this.options,cluster:""});else if(this.options.broadcaster==="pusher")this.connector=new qa(this.options);else if(this.options.broadcaster==="ably")this.connector=new qa({...this.options,cluster:"",broadcaster:"pusher"});else if(this.options.broadcaster==="socket.io")this.connector=new zj(this.options);else if(this.options.broadcaster==="null")this.connector=new Xm(this.options);else if(typeof this.options.broadcaster=="function"&&Dj(this.options.broadcaster))this.connector=new this.options.broadcaster(this.options);else throw new Error(`Broadcaster ${typeof this.options.broadcaster} ${String(this.options.broadcaster)} is not supported.`)}disconnect(){this.connector.disconnect()}join(t){return this.connector.presenceChannel(t)}leave(t){this.connector.leave(t)}leaveChannel(t){this.connector.leaveChannel(t)}leaveAllChannels(){for(const t in this.connector.channels)this.leaveChannel(t)}listen(t,n,r){return this.connector.listen(t,n,r)}private(t){return this.connector.privateChannel(t)}encryptedPrivate(t){if(this.connectorSupportsEncryptedPrivateChannels(this.connector))return this.connector.encryptedPrivateChannel(t);throw new Error(`Broadcaster ${typeof this.options.broadcaster} ${String(this.options.broadcaster)} does not support encrypted private channels.`)}connectorSupportsEncryptedPrivateChannels(t){return t instanceof qa||t instanceof Xm}socketId(){return this.connector.socketId()}registerInterceptors(){typeof Vue<"u"&&Vue!=null&&Vue.http&&this.registerVueRequestInterceptor(),typeof axios=="function"&&this.registerAxiosRequestInterceptor(),typeof jQuery=="function"&&this.registerjQueryAjaxSetup(),typeof Turbo=="object"&&this.registerTurboRequestInterceptor()}registerVueRequestInterceptor(){Vue.http.interceptors.push((t,n)=>{this.socketId()&&t.headers.set("X-Socket-ID",this.socketId()),n()})}registerAxiosRequestInterceptor(){axios.interceptors.request.use(t=>(this.socketId()&&(t.headers["X-Socket-Id"]=this.socketId()),t))}registerjQueryAjaxSetup(){typeof jQuery.ajax<"u"&&jQuery.ajaxPrefilter((t,n,r)=>{this.socketId()&&r.setRequestHeader("X-Socket-Id",this.socketId())})}registerTurboRequestInterceptor(){document.addEventListener("turbo:before-fetch-request",t=>{t.detail.fetchOptions.headers["X-Socket-Id"]=this.socketId()})}}var vx={exports:{}};/*!
 * Pusher JavaScript Library v8.4.0
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */(function(e,t){(function(r,s){e.exports=s()})(window,function(){return function(n){var r={};function s(i){if(r[i])return r[i].exports;var o=r[i]={i,l:!1,exports:{}};return n[i].call(o.exports,o,o.exports,s),o.l=!0,o.exports}return s.m=n,s.c=r,s.d=function(i,o,a){s.o(i,o)||Object.defineProperty(i,o,{enumerable:!0,get:a})},s.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},s.t=function(i,o){if(o&1&&(i=s(i)),o&8||o&4&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),o&2&&typeof i!="string")for(var l in i)s.d(a,l,(function(c){return i[c]}).bind(null,l));return a},s.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return s.d(o,"a",o),o},s.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},s.p="",s(s.s=2)}([function(n,r,s){var i=this&&this.__extends||function(){var C=function(k,v){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,S){y.__proto__=S}||function(y,S){for(var _ in S)S.hasOwnProperty(_)&&(y[_]=S[_])},C(k,v)};return function(k,v){C(k,v);function y(){this.constructor=k}k.prototype=v===null?Object.create(v):(y.prototype=v.prototype,new y)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=256,a=function(){function C(k){k===void 0&&(k="="),this._paddingCharacter=k}return C.prototype.encodedLength=function(k){return this._paddingCharacter?(k+2)/3*4|0:(k*8+5)/6|0},C.prototype.encode=function(k){for(var v="",y=0;y<k.length-2;y+=3){var S=k[y]<<16|k[y+1]<<8|k[y+2];v+=this._encodeByte(S>>>3*6&63),v+=this._encodeByte(S>>>2*6&63),v+=this._encodeByte(S>>>1*6&63),v+=this._encodeByte(S>>>0*6&63)}var _=k.length-y;if(_>0){var S=k[y]<<16|(_===2?k[y+1]<<8:0);v+=this._encodeByte(S>>>3*6&63),v+=this._encodeByte(S>>>2*6&63),_===2?v+=this._encodeByte(S>>>1*6&63):v+=this._paddingCharacter||"",v+=this._paddingCharacter||""}return v},C.prototype.maxDecodedLength=function(k){return this._paddingCharacter?k/4*3|0:(k*6+7)/8|0},C.prototype.decodedLength=function(k){return this.maxDecodedLength(k.length-this._getPaddingLength(k))},C.prototype.decode=function(k){if(k.length===0)return new Uint8Array(0);for(var v=this._getPaddingLength(k),y=k.length-v,S=new Uint8Array(this.maxDecodedLength(y)),_=0,j=0,R=0,T=0,D=0,U=0,I=0;j<y-4;j+=4)T=this._decodeChar(k.charCodeAt(j+0)),D=this._decodeChar(k.charCodeAt(j+1)),U=this._decodeChar(k.charCodeAt(j+2)),I=this._decodeChar(k.charCodeAt(j+3)),S[_++]=T<<2|D>>>4,S[_++]=D<<4|U>>>2,S[_++]=U<<6|I,R|=T&o,R|=D&o,R|=U&o,R|=I&o;if(j<y-1&&(T=this._decodeChar(k.charCodeAt(j)),D=this._decodeChar(k.charCodeAt(j+1)),S[_++]=T<<2|D>>>4,R|=T&o,R|=D&o),j<y-2&&(U=this._decodeChar(k.charCodeAt(j+2)),S[_++]=D<<4|U>>>2,R|=U&o),j<y-3&&(I=this._decodeChar(k.charCodeAt(j+3)),S[_++]=U<<6|I,R|=I&o),R!==0)throw new Error("Base64Coder: incorrect characters for decoding");return S},C.prototype._encodeByte=function(k){var v=k;return v+=65,v+=25-k>>>8&6,v+=51-k>>>8&-75,v+=61-k>>>8&-15,v+=62-k>>>8&3,String.fromCharCode(v)},C.prototype._decodeChar=function(k){var v=o;return v+=(42-k&k-44)>>>8&-o+k-43+62,v+=(46-k&k-48)>>>8&-o+k-47+63,v+=(47-k&k-58)>>>8&-o+k-48+52,v+=(64-k&k-91)>>>8&-o+k-65+0,v+=(96-k&k-123)>>>8&-o+k-97+26,v},C.prototype._getPaddingLength=function(k){var v=0;if(this._paddingCharacter){for(var y=k.length-1;y>=0&&k[y]===this._paddingCharacter;y--)v++;if(k.length<4||v>2)throw new Error("Base64Coder: incorrect padding")}return v},C}();r.Coder=a;var l=new a;function c(C){return l.encode(C)}r.encode=c;function f(C){return l.decode(C)}r.decode=f;var h=function(C){i(k,C);function k(){return C!==null&&C.apply(this,arguments)||this}return k.prototype._encodeByte=function(v){var y=v;return y+=65,y+=25-v>>>8&6,y+=51-v>>>8&-75,y+=61-v>>>8&-13,y+=62-v>>>8&49,String.fromCharCode(y)},k.prototype._decodeChar=function(v){var y=o;return y+=(44-v&v-46)>>>8&-o+v-45+62,y+=(94-v&v-96)>>>8&-o+v-95+63,y+=(47-v&v-58)>>>8&-o+v-48+52,y+=(64-v&v-91)>>>8&-o+v-65+0,y+=(96-v&v-123)>>>8&-o+v-97+26,y},k}(a);r.URLSafeCoder=h;var g=new h;function w(C){return g.encode(C)}r.encodeURLSafe=w;function b(C){return g.decode(C)}r.decodeURLSafe=b,r.encodedLength=function(C){return l.encodedLength(C)},r.maxDecodedLength=function(C){return l.maxDecodedLength(C)},r.decodedLength=function(C){return l.decodedLength(C)}},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i="utf8: invalid string",o="utf8: invalid source encoding";function a(f){for(var h=new Uint8Array(l(f)),g=0,w=0;w<f.length;w++){var b=f.charCodeAt(w);b<128?h[g++]=b:b<2048?(h[g++]=192|b>>6,h[g++]=128|b&63):b<55296?(h[g++]=224|b>>12,h[g++]=128|b>>6&63,h[g++]=128|b&63):(w++,b=(b&1023)<<10,b|=f.charCodeAt(w)&1023,b+=65536,h[g++]=240|b>>18,h[g++]=128|b>>12&63,h[g++]=128|b>>6&63,h[g++]=128|b&63)}return h}r.encode=a;function l(f){for(var h=0,g=0;g<f.length;g++){var w=f.charCodeAt(g);if(w<128)h+=1;else if(w<2048)h+=2;else if(w<55296)h+=3;else if(w<=57343){if(g>=f.length-1)throw new Error(i);g++,h+=4}else throw new Error(i)}return h}r.encodedLength=l;function c(f){for(var h=[],g=0;g<f.length;g++){var w=f[g];if(w&128){var b=void 0;if(w<224){if(g>=f.length)throw new Error(o);var C=f[++g];if((C&192)!==128)throw new Error(o);w=(w&31)<<6|C&63,b=128}else if(w<240){if(g>=f.length-1)throw new Error(o);var C=f[++g],k=f[++g];if((C&192)!==128||(k&192)!==128)throw new Error(o);w=(w&15)<<12|(C&63)<<6|k&63,b=2048}else if(w<248){if(g>=f.length-2)throw new Error(o);var C=f[++g],k=f[++g],v=f[++g];if((C&192)!==128||(k&192)!==128||(v&192)!==128)throw new Error(o);w=(w&15)<<18|(C&63)<<12|(k&63)<<6|v&63,b=65536}else throw new Error(o);if(w<b||w>=55296&&w<=57343)throw new Error(o);if(w>=65536){if(w>1114111)throw new Error(o);w-=65536,h.push(String.fromCharCode(55296|w>>10)),w=56320|w&1023}}h.push(String.fromCharCode(w))}return h.join("")}r.decode=c},function(n,r,s){n.exports=s(3).default},function(n,r,s){s.r(r);class i{constructor(u,p){this.lastId=0,this.prefix=u,this.name=p}create(u){this.lastId++;var p=this.lastId,E=this.prefix+p,N=this.name+"["+p+"]",B=!1,V=function(){B||(u.apply(null,arguments),B=!0)};return this[p]=V,{number:p,id:E,name:N,callback:V}}remove(u){delete this[u.number]}}var o=new i("_pusher_script_","Pusher.ScriptReceivers"),a={VERSION:"8.4.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},l=a;class c{constructor(u){this.options=u,this.receivers=u.receivers||o,this.loading={}}load(u,p,E){var N=this;if(N.loading[u]&&N.loading[u].length>0)N.loading[u].push(E);else{N.loading[u]=[E];var B=se.createScriptRequest(N.getPath(u,p)),V=N.receivers.create(function(ee){if(N.receivers.remove(V),N.loading[u]){var re=N.loading[u];delete N.loading[u];for(var pe=function(Me){Me||B.cleanup()},ve=0;ve<re.length;ve++)re[ve](ee,pe)}});B.send(V)}}getRoot(u){var p,E=se.getDocument().location.protocol;return u&&u.useTLS||E==="https:"?p=this.options.cdn_https:p=this.options.cdn_http,p.replace(/\/*$/,"")+"/"+this.options.version}getPath(u,p){return this.getRoot(p)+"/"+u+this.options.suffix+".js"}}var f=new i("_pusher_dependencies","Pusher.DependenciesReceivers"),h=new c({cdn_http:l.cdn_http,cdn_https:l.cdn_https,version:l.VERSION,suffix:l.dependency_suffix,receivers:f});const g={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}};var b={buildLogSuffix:function(m){const u="See:",p=g.urls[m];if(!p)return"";let E;return p.fullUrl?E=p.fullUrl:p.path&&(E=g.baseUrl+p.path),E?`${u} ${E}`:""}},C;(function(m){m.UserAuthentication="user-authentication",m.ChannelAuthorization="channel-authorization"})(C||(C={}));class k extends Error{constructor(u){super(u),Object.setPrototypeOf(this,new.target.prototype)}}class v extends Error{constructor(u){super(u),Object.setPrototypeOf(this,new.target.prototype)}}class y extends Error{constructor(u){super(u),Object.setPrototypeOf(this,new.target.prototype)}}class S extends Error{constructor(u){super(u),Object.setPrototypeOf(this,new.target.prototype)}}class _ extends Error{constructor(u){super(u),Object.setPrototypeOf(this,new.target.prototype)}}class j extends Error{constructor(u){super(u),Object.setPrototypeOf(this,new.target.prototype)}}class R extends Error{constructor(u){super(u),Object.setPrototypeOf(this,new.target.prototype)}}class T extends Error{constructor(u){super(u),Object.setPrototypeOf(this,new.target.prototype)}}class D extends Error{constructor(u,p){super(p),this.status=u,Object.setPrototypeOf(this,new.target.prototype)}}var I=function(m,u,p,E,N){const B=se.createXHR();B.open("POST",p.endpoint,!0),B.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var V in p.headers)B.setRequestHeader(V,p.headers[V]);if(p.headersProvider!=null){let ee=p.headersProvider();for(var V in ee)B.setRequestHeader(V,ee[V])}return B.onreadystatechange=function(){if(B.readyState===4)if(B.status===200){let ee,re=!1;try{ee=JSON.parse(B.responseText),re=!0}catch{N(new D(200,`JSON returned from ${E.toString()} endpoint was invalid, yet status code was 200. Data was: ${B.responseText}`),null)}re&&N(null,ee)}else{let ee="";switch(E){case C.UserAuthentication:ee=b.buildLogSuffix("authenticationEndpoint");break;case C.ChannelAuthorization:ee=`Clients must be authorized to join private or presence channels. ${b.buildLogSuffix("authorizationEndpoint")}`;break}N(new D(B.status,`Unable to retrieve auth string from ${E.toString()} endpoint - received status: ${B.status} from ${p.endpoint}. ${ee}`),null)}},B.send(u),B};function L(m){return q(W(m))}var z=String.fromCharCode,O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",A=function(m){var u=m.charCodeAt(0);return u<128?m:u<2048?z(192|u>>>6)+z(128|u&63):z(224|u>>>12&15)+z(128|u>>>6&63)+z(128|u&63)},W=function(m){return m.replace(/[^\x00-\x7F]/g,A)},Y=function(m){var u=[0,2,1][m.length%3],p=m.charCodeAt(0)<<16|(m.length>1?m.charCodeAt(1):0)<<8|(m.length>2?m.charCodeAt(2):0),E=[O.charAt(p>>>18),O.charAt(p>>>12&63),u>=2?"=":O.charAt(p>>>6&63),u>=1?"=":O.charAt(p&63)];return E.join("")},q=window.btoa||function(m){return m.replace(/[\s\S]{1,3}/g,Y)};class M{constructor(u,p,E,N){this.clear=p,this.timer=u(()=>{this.timer&&(this.timer=N(this.timer))},E)}isRunning(){return this.timer!==null}ensureAborted(){this.timer&&(this.clear(this.timer),this.timer=null)}}var $=M;function Q(m){window.clearTimeout(m)}function Z(m){window.clearInterval(m)}class X extends ${constructor(u,p){super(setTimeout,Q,u,function(E){return p(),null})}}class me extends ${constructor(u,p){super(setInterval,Z,u,function(E){return p(),E})}}var ce={now(){return Date.now?Date.now():new Date().valueOf()},defer(m){return new X(0,m)},method(m,...u){var p=Array.prototype.slice.call(arguments,1);return function(E){return E[m].apply(E,p.concat(arguments))}}},le=ce;function oe(m,...u){for(var p=0;p<u.length;p++){var E=u[p];for(var N in E)E[N]&&E[N].constructor&&E[N].constructor===Object?m[N]=oe(m[N]||{},E[N]):m[N]=E[N]}return m}function Ve(){for(var m=["Pusher"],u=0;u<arguments.length;u++)typeof arguments[u]=="string"?m.push(arguments[u]):m.push(zr(arguments[u]));return m.join(" : ")}function Qe(m,u){var p=Array.prototype.indexOf;if(m===null)return-1;if(p&&m.indexOf===p)return m.indexOf(u);for(var E=0,N=m.length;E<N;E++)if(m[E]===u)return E;return-1}function G(m,u){for(var p in m)Object.prototype.hasOwnProperty.call(m,p)&&u(m[p],p,m)}function ne(m){var u=[];return G(m,function(p,E){u.push(E)}),u}function xe(m){var u=[];return G(m,function(p){u.push(p)}),u}function Se(m,u,p){for(var E=0;E<m.length;E++)u.call(p||window,m[E],E,m)}function On(m,u){for(var p=[],E=0;E<m.length;E++)p.push(u(m[E],E,m,p));return p}function Jt(m,u){var p={};return G(m,function(E,N){p[N]=u(E)}),p}function Dn(m,u){u=u||function(N){return!!N};for(var p=[],E=0;E<m.length;E++)u(m[E],E,m,p)&&p.push(m[E]);return p}function Ln(m,u){var p={};return G(m,function(E,N){(u&&u(E,N,m,p)||E)&&(p[N]=E)}),p}function ma(m){var u=[];return G(m,function(p,E){u.push([E,p])}),u}function Li(m,u){for(var p=0;p<m.length;p++)if(u(m[p],p,m))return!0;return!1}function Ai(m,u){for(var p=0;p<m.length;p++)if(!u(m[p],p,m))return!1;return!0}function mn(m){return Jt(m,function(u){return typeof u=="object"&&(u=zr(u)),encodeURIComponent(L(u.toString()))})}function Ps(m){var u=Ln(m,function(E){return E!==void 0}),p=On(ma(mn(u)),le.method("join","=")).join("&");return p}function Ts(m){var u=[],p=[];return function E(N,B){var V,ee,re;switch(typeof N){case"object":if(!N)return null;for(V=0;V<u.length;V+=1)if(u[V]===N)return{$ref:p[V]};if(u.push(N),p.push(B),Object.prototype.toString.apply(N)==="[object Array]")for(re=[],V=0;V<N.length;V+=1)re[V]=E(N[V],B+"["+V+"]");else{re={};for(ee in N)Object.prototype.hasOwnProperty.call(N,ee)&&(re[ee]=E(N[ee],B+"["+JSON.stringify(ee)+"]"))}return re;case"number":case"string":case"boolean":return N}}(m,"$")}function zr(m){try{return JSON.stringify(m)}catch{return JSON.stringify(Ts(m))}}class ga{constructor(){this.globalLog=u=>{window.console&&window.console.log&&window.console.log(u)}}debug(...u){this.log(this.globalLog,u)}warn(...u){this.log(this.globalLogWarn,u)}error(...u){this.log(this.globalLogError,u)}globalLogWarn(u){window.console&&window.console.warn?window.console.warn(u):this.globalLog(u)}globalLogError(u){window.console&&window.console.error?window.console.error(u):this.globalLogWarn(u)}log(u,...p){var E=Ve.apply(this,arguments);Xu.log?Xu.log(E):Xu.logToConsole&&u.bind(this)(E)}}var Ce=new ga,Uu=function(m,u,p,E,N){(p.headers!==void 0||p.headersProvider!=null)&&Ce.warn(`To send headers with the ${E.toString()} request, you must use AJAX, rather than JSONP.`);var B=m.nextAuthCallbackID.toString();m.nextAuthCallbackID++;var V=m.getDocument(),ee=V.createElement("script");m.auth_callbacks[B]=function(ve){N(null,ve)};var re="Pusher.auth_callbacks['"+B+"']";ee.src=p.endpoint+"?callback="+encodeURIComponent(re)+"&"+u;var pe=V.getElementsByTagName("head")[0]||V.documentElement;pe.insertBefore(ee,pe.firstChild)},nr=Uu;class rr{constructor(u){this.src=u}send(u){var p=this,E="Error loading "+p.src;p.script=document.createElement("script"),p.script.id=u.id,p.script.src=p.src,p.script.type="text/javascript",p.script.charset="UTF-8",p.script.addEventListener?(p.script.onerror=function(){u.callback(E)},p.script.onload=function(){u.callback(null)}):p.script.onreadystatechange=function(){(p.script.readyState==="loaded"||p.script.readyState==="complete")&&u.callback(null)},p.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(p.errorScript=document.createElement("script"),p.errorScript.id=u.id+"_error",p.errorScript.text=u.name+"('"+E+"');",p.script.async=p.errorScript.async=!1):p.script.async=!0;var N=document.getElementsByTagName("head")[0];N.insertBefore(p.script,N.firstChild),p.errorScript&&N.insertBefore(p.errorScript,p.script.nextSibling)}cleanup(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null}}class Ur{constructor(u,p){this.url=u,this.data=p}send(u){if(!this.request){var p=Ps(this.data),E=this.url+"/"+u.number+"?"+p;this.request=se.createScriptRequest(E),this.request.send(u)}}cleanup(){this.request&&this.request.cleanup()}}var va=function(m,u){return function(p,E){var N="http"+(u?"s":"")+"://",B=N+(m.host||m.options.host)+m.options.path,V=se.createJSONPRequest(B,p),ee=se.ScriptReceivers.create(function(re,pe){o.remove(ee),V.cleanup(),pe&&pe.host&&(m.host=pe.host),E&&E(re,pe)});V.send(ee)}},gn={name:"jsonp",getAgent:va},ya=gn;function Ii(m,u,p){var E=m+(u.useTLS?"s":""),N=u.useTLS?u.hostTLS:u.hostNonTLS;return E+"://"+N+p}function Fi(m,u){var p="/app/"+m,E="?protocol="+l.PROTOCOL+"&client=js&version="+l.VERSION+(u?"&"+u:"");return p+E}var Mi={getInitial:function(m,u){var p=(u.httpPath||"")+Fi(m,"flash=false");return Ii("ws",u,p)}},xa={getInitial:function(m,u){var p=(u.httpPath||"/pusher")+Fi(m);return Ii("http",u,p)}},$u={getInitial:function(m,u){return Ii("http",u,u.httpPath||"/pusher")},getPath:function(m,u){return Fi(m)}};class wa{constructor(){this._callbacks={}}get(u){return this._callbacks[zi(u)]}add(u,p,E){var N=zi(u);this._callbacks[N]=this._callbacks[N]||[],this._callbacks[N].push({fn:p,context:E})}remove(u,p,E){if(!u&&!p&&!E){this._callbacks={};return}var N=u?[zi(u)]:ne(this._callbacks);p||E?this.removeCallback(N,p,E):this.removeAllCallbacks(N)}removeCallback(u,p,E){Se(u,function(N){this._callbacks[N]=Dn(this._callbacks[N]||[],function(B){return p&&p!==B.fn||E&&E!==B.context}),this._callbacks[N].length===0&&delete this._callbacks[N]},this)}removeAllCallbacks(u){Se(u,function(p){delete this._callbacks[p]},this)}}function zi(m){return"_"+m}class Zt{constructor(u){this.callbacks=new wa,this.global_callbacks=[],this.failThrough=u}bind(u,p,E){return this.callbacks.add(u,p,E),this}bind_global(u){return this.global_callbacks.push(u),this}unbind(u,p,E){return this.callbacks.remove(u,p,E),this}unbind_global(u){return u?(this.global_callbacks=Dn(this.global_callbacks||[],p=>p!==u),this):(this.global_callbacks=[],this)}unbind_all(){return this.unbind(),this.unbind_global(),this}emit(u,p,E){for(var N=0;N<this.global_callbacks.length;N++)this.global_callbacks[N](u,p);var B=this.callbacks.get(u),V=[];if(E?V.push(p,E):p&&V.push(p),B&&B.length>0)for(var N=0;N<B.length;N++)B[N].fn.apply(B[N].context||window,V);else this.failThrough&&this.failThrough(u,p);return this}}class Bu extends Zt{constructor(u,p,E,N,B){super(),this.initialize=se.transportConnectionInitializer,this.hooks=u,this.name=p,this.priority=E,this.key=N,this.options=B,this.state="new",this.timeline=B.timeline,this.activityTimeout=B.activityTimeout,this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return!!this.hooks.handlesActivityChecks}supportsPing(){return!!this.hooks.supportsPing}connect(){if(this.socket||this.state!=="initialized")return!1;var u=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(u,this.options)}catch(p){return le.defer(()=>{this.onError(p),this.changeState("closed")}),!1}return this.bindListeners(),Ce.debug("Connecting",{transport:this.name,url:u}),this.changeState("connecting"),!0}close(){return this.socket?(this.socket.close(),!0):!1}send(u){return this.state==="open"?(le.defer(()=>{this.socket&&this.socket.send(u)}),!0):!1}ping(){this.state==="open"&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0}onError(u){this.emit("error",{type:"WebSocketError",error:u}),this.timeline.error(this.buildTimelineMessage({error:u.toString()}))}onClose(u){u?this.changeState("closed",{code:u.code,reason:u.reason,wasClean:u.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0}onMessage(u){this.emit("message",u)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()},this.socket.onerror=u=>{this.onError(u)},this.socket.onclose=u=>{this.onClose(u)},this.socket.onmessage=u=>{this.onMessage(u)},this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState(u,p){this.state=u,this.timeline.info(this.buildTimelineMessage({state:u,params:p})),this.emit(u,p)}buildTimelineMessage(u){return oe({cid:this.id},u)}}class Ne{constructor(u){this.hooks=u}isSupported(u){return this.hooks.isSupported(u)}createConnection(u,p,E,N){return new Bu(this.hooks,u,p,E,N)}}var dt=new Ne({urls:Mi,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!se.getWebSocketAPI()},isSupported:function(){return!!se.getWebSocketAPI()},getSocket:function(m){return se.createWebSocket(m)}}),nt={urls:xa,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},en=oe({getSocket:function(m){return se.HTTPFactory.createStreamingSocket(m)}},nt),ft=oe({getSocket:function(m){return se.HTTPFactory.createPollingSocket(m)}},nt),rt={isSupported:function(){return se.isXHRSupported()}},zt=new Ne(oe({},en,rt)),sr=new Ne(oe({},ft,rt)),Ue={ws:dt,xhr_streaming:zt,xhr_polling:sr},Pt=Ue,Ut=new Ne({file:"sockjs",urls:$u,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(m,u){return new window.SockJS(m,null,{js_path:h.getPath("sockjs",{useTLS:u.useTLS}),ignore_null_origin:u.ignoreNullOrigin})},beforeOpen:function(m,u){m.send(JSON.stringify({path:u}))}}),$t={isSupported:function(m){var u=se.isXDRSupported(m.useTLS);return u}},$r=new Ne(oe({},en,$t)),Br=new Ne(oe({},ft,$t));Pt.xdr_streaming=$r,Pt.xdr_polling=Br,Pt.sockjs=Ut;var vn=Pt;class Hr extends Zt{constructor(){super();var u=this;window.addEventListener!==void 0&&(window.addEventListener("online",function(){u.emit("online")},!1),window.addEventListener("offline",function(){u.emit("offline")},!1))}isOnline(){return window.navigator.onLine===void 0?!0:window.navigator.onLine}}var Ui=new Hr;class mw{constructor(u,p,E){this.manager=u,this.transport=p,this.minPingDelay=E.minPingDelay,this.maxPingDelay=E.maxPingDelay,this.pingDelay=void 0}createConnection(u,p,E,N){N=oe({},N,{activityTimeout:this.pingDelay});var B=this.transport.createConnection(u,p,E,N),V=null,ee=function(){B.unbind("open",ee),B.bind("closed",re),V=le.now()},re=pe=>{if(B.unbind("closed",re),pe.code===1002||pe.code===1003)this.manager.reportDeath();else if(!pe.wasClean&&V){var ve=le.now()-V;ve<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(ve/2,this.minPingDelay))}};return B.bind("open",ee),B}isSupported(u){return this.manager.isAlive()&&this.transport.isSupported(u)}}const Qh={decodeMessage:function(m){try{var u=JSON.parse(m.data),p=u.data;if(typeof p=="string")try{p=JSON.parse(u.data)}catch{}var E={event:u.event,channel:u.channel,data:p};return u.user_id&&(E.user_id=u.user_id),E}catch(N){throw{type:"MessageParseError",error:N,data:m.data}}},encodeMessage:function(m){return JSON.stringify(m)},processHandshake:function(m){var u=Qh.decodeMessage(m);if(u.event==="pusher:connection_established"){if(!u.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:u.data.socket_id,activityTimeout:u.data.activity_timeout*1e3}}else{if(u.event==="pusher:error")return{action:this.getCloseAction(u.data),error:this.getCloseError(u.data)};throw"Invalid handshake"}},getCloseAction:function(m){return m.code<4e3?m.code>=1002&&m.code<=1004?"backoff":null:m.code===4e3?"tls_only":m.code<4100?"refused":m.code<4200?"backoff":m.code<4300?"retry":"refused"},getCloseError:function(m){return m.code!==1e3&&m.code!==1001?{type:"PusherError",data:{code:m.code,message:m.reason||m.message}}:null}};var Wr=Qh;class gw extends Zt{constructor(u,p){super(),this.id=u,this.transport=p,this.activityTimeout=p.activityTimeout,this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send(u){return this.transport.send(u)}send_event(u,p,E){var N={event:u,data:p};return E&&(N.channel=E),Ce.debug("Event sent",N),this.send(Wr.encodeMessage(N))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var u={message:E=>{var N;try{N=Wr.decodeMessage(E)}catch(B){this.emit("error",{type:"MessageParseError",error:B,data:E.data})}if(N!==void 0){switch(Ce.debug("Event recd",N),N.event){case"pusher:error":this.emit("error",{type:"PusherError",data:N.data});break;case"pusher:ping":this.emit("ping");break;case"pusher:pong":this.emit("pong");break}this.emit("message",N)}},activity:()=>{this.emit("activity")},error:E=>{this.emit("error",E)},closed:E=>{p(),E&&E.code&&this.handleCloseEvent(E),this.transport=null,this.emit("closed")}},p=()=>{G(u,(E,N)=>{this.transport.unbind(N,E)})};G(u,(E,N)=>{this.transport.bind(N,E)})}handleCloseEvent(u){var p=Wr.getCloseAction(u),E=Wr.getCloseError(u);E&&this.emit("error",E),p&&this.emit(p,{action:p,error:E})}}class vw{constructor(u,p){this.transport=u,this.callback=p,this.bindListeners()}close(){this.unbindListeners(),this.transport.close()}bindListeners(){this.onMessage=u=>{this.unbindListeners();var p;try{p=Wr.processHandshake(u)}catch(E){this.finish("error",{error:E}),this.transport.close();return}p.action==="connected"?this.finish("connected",{connection:new gw(p.id,this.transport),activityTimeout:p.activityTimeout}):(this.finish(p.action,{error:p.error}),this.transport.close())},this.onClosed=u=>{this.unbindListeners();var p=Wr.getCloseAction(u)||"backoff",E=Wr.getCloseError(u);this.finish(p,{error:E})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)}finish(u,p){this.callback(oe({transport:this.transport,action:u},p))}}class yw{constructor(u,p){this.timeline=u,this.options=p||{}}send(u,p){this.timeline.isEmpty()||this.timeline.send(se.TimelineTransport.getAgent(this,u),p)}}class Hu extends Zt{constructor(u,p){super(function(E,N){Ce.debug("No callbacks on "+u+" for "+E)}),this.name=u,this.pusher=p,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}authorize(u,p){return p(null,{auth:""})}trigger(u,p){if(u.indexOf("client-")!==0)throw new k("Event '"+u+"' does not start with 'client-'");if(!this.subscribed){var E=b.buildLogSuffix("triggeringClientEvents");Ce.warn(`Client event triggered before channel 'subscription_succeeded' event . ${E}`)}return this.pusher.send_event(u,p,this.name)}disconnect(){this.subscribed=!1,this.subscriptionPending=!1}handleEvent(u){var p=u.event,E=u.data;if(p==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(u);else if(p==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(u);else if(p.indexOf("pusher_internal:")!==0){var N={};this.emit(p,E,N)}}handleSubscriptionSucceededEvent(u){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",u.data)}handleSubscriptionCountEvent(u){u.data.subscription_count&&(this.subscriptionCount=u.data.subscription_count),this.emit("pusher:subscription_count",u.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(u,p)=>{u?(this.subscriptionPending=!1,Ce.error(u.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:u.message},u instanceof D?{status:u.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:p.auth,channel_data:p.channel_data,channel:this.name})}))}unsubscribe(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}class Wu extends Hu{authorize(u,p){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:u},p)}}class xw{constructor(){this.reset()}get(u){return Object.prototype.hasOwnProperty.call(this.members,u)?{id:u,info:this.members[u]}:null}each(u){G(this.members,(p,E)=>{u(this.get(E))})}setMyID(u){this.myID=u}onSubscription(u){this.members=u.presence.hash,this.count=u.presence.count,this.me=this.get(this.myID)}addMember(u){return this.get(u.user_id)===null&&this.count++,this.members[u.user_id]=u.user_info,this.get(u.user_id)}removeMember(u){var p=this.get(u.user_id);return p&&(delete this.members[u.user_id],this.count--),p}reset(){this.members={},this.count=0,this.myID=null,this.me=null}}var ww=function(m,u,p,E){function N(B){return B instanceof p?B:new p(function(V){V(B)})}return new(p||(p=Promise))(function(B,V){function ee(ve){try{pe(E.next(ve))}catch(Me){V(Me)}}function re(ve){try{pe(E.throw(ve))}catch(Me){V(Me)}}function pe(ve){ve.done?B(ve.value):N(ve.value).then(ee,re)}pe((E=E.apply(m,u||[])).next())})};class bw extends Wu{constructor(u,p){super(u,p),this.members=new xw}authorize(u,p){super.authorize(u,(E,N)=>ww(this,void 0,void 0,function*(){if(!E)if(N=N,N.channel_data!=null){var B=JSON.parse(N.channel_data);this.members.setMyID(B.user_id)}else if(yield this.pusher.user.signinDonePromise,this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else{let V=b.buildLogSuffix("authorizationEndpoint");Ce.error(`Invalid auth response for channel '${this.name}', expected 'channel_data' field. ${V}, or the user should be signed in.`),p("Invalid auth response");return}p(E,N)}))}handleEvent(u){var p=u.event;if(p.indexOf("pusher_internal:")===0)this.handleInternalEvent(u);else{var E=u.data,N={};u.user_id&&(N.user_id=u.user_id),this.emit(p,E,N)}}handleInternalEvent(u){var p=u.event,E=u.data;switch(p){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(u);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(u);break;case"pusher_internal:member_added":var N=this.members.addMember(E);this.emit("pusher:member_added",N);break;case"pusher_internal:member_removed":var B=this.members.removeMember(E);B&&this.emit("pusher:member_removed",B);break}}handleSubscriptionSucceededEvent(u){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(u.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset(),super.disconnect()}}var Sw=s(1),qu=s(0);class Cw extends Wu{constructor(u,p,E){super(u,p),this.key=null,this.nacl=E}authorize(u,p){super.authorize(u,(E,N)=>{if(E){p(E,N);return}let B=N.shared_secret;if(!B){p(new Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null);return}this.key=Object(qu.decode)(B),delete N.shared_secret,p(null,N)})}trigger(u,p){throw new j("Client events are not currently supported for encrypted channels")}handleEvent(u){var p=u.event,E=u.data;if(p.indexOf("pusher_internal:")===0||p.indexOf("pusher:")===0){super.handleEvent(u);return}this.handleEncryptedEvent(p,E)}handleEncryptedEvent(u,p){if(!this.key){Ce.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!p.ciphertext||!p.nonce){Ce.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+p);return}let E=Object(qu.decode)(p.ciphertext);if(E.length<this.nacl.secretbox.overheadLength){Ce.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${E.length}`);return}let N=Object(qu.decode)(p.nonce);if(N.length<this.nacl.secretbox.nonceLength){Ce.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${N.length}`);return}let B=this.nacl.secretbox.open(E,N,this.key);if(B===null){Ce.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,(V,ee)=>{if(V){Ce.error(`Failed to make a request to the authEndpoint: ${ee}. Unable to fetch new key, so dropping encrypted event`);return}if(B=this.nacl.secretbox.open(E,N,this.key),B===null){Ce.error("Failed to decrypt event with new key. Dropping encrypted event");return}this.emit(u,this.getDataToEmit(B))});return}this.emit(u,this.getDataToEmit(B))}getDataToEmit(u){let p=Object(Sw.decode)(u);try{return JSON.parse(p)}catch{return p}}}class kw extends Zt{constructor(u,p){super(),this.state="initialized",this.connection=null,this.key=u,this.options=p,this.timeline=this.options.timeline,this.usingTLS=this.options.useTLS,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var E=se.getNetwork();E.bind("online",()=>{this.timeline.info({netinfo:"online"}),(this.state==="connecting"||this.state==="unavailable")&&this.retryIn(0)}),E.bind("offline",()=>{this.timeline.info({netinfo:"offline"}),this.connection&&this.sendActivityCheck()}),this.updateStrategy()}connect(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}}send(u){return this.connection?this.connection.send(u):!1}send_event(u,p,E){return this.connection?this.connection.send_event(u,p,E):!1}disconnect(){this.disconnectInternally(),this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var u=(p,E)=>{p?this.runner=this.strategy.connect(0,u):E.action==="error"?(this.emit("error",{type:"HandshakeError",error:E.error}),this.timeline.error({handshakeError:E.error})):(this.abortConnecting(),this.handshakeCallbacks[E.action](E))};this.runner=this.strategy.connect(0,u)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var u=this.abandonConnection();u.close()}}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn(u){this.timeline.info({action:"retry",delay:u}),u>0&&this.emit("connecting_in",Math.round(u/1e3)),this.retryTimer=new X(u||0,()=>{this.disconnectInternally(),this.connect()})}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new X(this.options.unavailableTimeout,()=>{this.updateState("unavailable")})}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new X(this.options.pongTimeout,()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout}),this.retryIn(0)})}resetActivityCheck(){this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new X(this.activityTimeout,()=>{this.sendActivityCheck()}))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks(u){return oe({},u,{message:p=>{this.resetActivityCheck(),this.emit("message",p)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:p=>{this.emit("error",p)},closed:()=>{this.abandonConnection(),this.shouldRetry()&&this.retryIn(1e3)}})}buildHandshakeCallbacks(u){return oe({},u,{connected:p=>{this.activityTimeout=Math.min(this.options.activityTimeout,p.activityTimeout,p.connection.activityTimeout||1/0),this.clearUnavailableTimer(),this.setConnection(p.connection),this.socket_id=this.connection.id,this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let u=p=>E=>{E.error&&this.emit("error",{type:"WebSocketError",error:E.error}),p(E)};return{tls_only:u(()=>{this.usingTLS=!0,this.updateStrategy(),this.retryIn(0)}),refused:u(()=>{this.disconnect()}),backoff:u(()=>{this.retryIn(1e3)}),retry:u(()=>{this.retryIn(0)})}}setConnection(u){this.connection=u;for(var p in this.connectionCallbacks)this.connection.bind(p,this.connectionCallbacks[p]);this.resetActivityCheck()}abandonConnection(){if(this.connection){this.stopActivityCheck();for(var u in this.connectionCallbacks)this.connection.unbind(u,this.connectionCallbacks[u]);var p=this.connection;return this.connection=null,p}}updateState(u,p){var E=this.state;if(this.state=u,E!==u){var N=u;N==="connected"&&(N+=" with new socket ID "+p.socket_id),Ce.debug("State changed",E+" -> "+N),this.timeline.info({state:u,params:p}),this.emit("state_change",{previous:E,current:u}),this.emit(u,p)}}shouldRetry(){return this.state==="connecting"||this.state==="connected"}}class Ew{constructor(){this.channels={}}add(u,p){return this.channels[u]||(this.channels[u]=_w(u,p)),this.channels[u]}all(){return xe(this.channels)}find(u){return this.channels[u]}remove(u){var p=this.channels[u];return delete this.channels[u],p}disconnect(){G(this.channels,function(u){u.disconnect()})}}function _w(m,u){if(m.indexOf("private-encrypted-")===0){if(u.config.nacl)return An.createEncryptedChannel(m,u,u.config.nacl);let p="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",E=b.buildLogSuffix("encryptedChannelSupport");throw new j(`${p}. ${E}`)}else{if(m.indexOf("private-")===0)return An.createPrivateChannel(m,u);if(m.indexOf("presence-")===0)return An.createPresenceChannel(m,u);if(m.indexOf("#")===0)throw new v('Cannot create a channel with name "'+m+'".');return An.createChannel(m,u)}}var jw={createChannels(){return new Ew},createConnectionManager(m,u){return new kw(m,u)},createChannel(m,u){return new Hu(m,u)},createPrivateChannel(m,u){return new Wu(m,u)},createPresenceChannel(m,u){return new bw(m,u)},createEncryptedChannel(m,u,p){return new Cw(m,u,p)},createTimelineSender(m,u){return new yw(m,u)},createHandshake(m,u){return new vw(m,u)},createAssistantToTheTransportManager(m,u,p){return new mw(m,u,p)}},An=jw;class Kh{constructor(u){this.options=u||{},this.livesLeft=this.options.lives||1/0}getAssistant(u){return An.createAssistantToTheTransportManager(this,u,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return this.livesLeft>0}reportDeath(){this.livesLeft-=1}}class qr{constructor(u,p){this.strategies=u,this.loop=!!p.loop,this.failFast=!!p.failFast,this.timeout=p.timeout,this.timeoutLimit=p.timeoutLimit}isSupported(){return Li(this.strategies,le.method("isSupported"))}connect(u,p){var E=this.strategies,N=0,B=this.timeout,V=null,ee=(re,pe)=>{pe?p(null,pe):(N=N+1,this.loop&&(N=N%E.length),N<E.length?(B&&(B=B*2,this.timeoutLimit&&(B=Math.min(B,this.timeoutLimit))),V=this.tryStrategy(E[N],u,{timeout:B,failFast:this.failFast},ee)):p(!0))};return V=this.tryStrategy(E[N],u,{timeout:B,failFast:this.failFast},ee),{abort:function(){V.abort()},forceMinPriority:function(re){u=re,V&&V.forceMinPriority(re)}}}tryStrategy(u,p,E,N){var B=null,V=null;return E.timeout>0&&(B=new X(E.timeout,function(){V.abort(),N(!0)})),V=u.connect(p,function(ee,re){ee&&B&&B.isRunning()&&!E.failFast||(B&&B.ensureAborted(),N(ee,re))}),{abort:function(){B&&B.ensureAborted(),V.abort()},forceMinPriority:function(ee){V.forceMinPriority(ee)}}}}class Vu{constructor(u){this.strategies=u}isSupported(){return Li(this.strategies,le.method("isSupported"))}connect(u,p){return Nw(this.strategies,u,function(E,N){return function(B,V){if(N[E].error=B,B){Rw(N)&&p(!0);return}Se(N,function(ee){ee.forceMinPriority(V.transport.priority)}),p(null,V)}})}}function Nw(m,u,p){var E=On(m,function(N,B,V,ee){return N.connect(u,p(B,ee))});return{abort:function(){Se(E,Pw)},forceMinPriority:function(N){Se(E,function(B){B.forceMinPriority(N)})}}}function Rw(m){return Ai(m,function(u){return!!u.error})}function Pw(m){!m.error&&!m.aborted&&(m.abort(),m.aborted=!0)}class Tw{constructor(u,p,E){this.strategy=u,this.transports=p,this.ttl=E.ttl||1800*1e3,this.usingTLS=E.useTLS,this.timeline=E.timeline}isSupported(){return this.strategy.isSupported()}connect(u,p){var E=this.usingTLS,N=Ow(E),B=N&&N.cacheSkipCount?N.cacheSkipCount:0,V=[this.strategy];if(N&&N.timestamp+this.ttl>=le.now()){var ee=this.transports[N.transport];ee&&(["ws","wss"].includes(N.transport)||B>3?(this.timeline.info({cached:!0,transport:N.transport,latency:N.latency}),V.push(new qr([ee],{timeout:N.latency*2+1e3,failFast:!0}))):B++)}var re=le.now(),pe=V.pop().connect(u,function ve(Me,Ca){Me?(Gh(E),V.length>0?(re=le.now(),pe=V.pop().connect(u,ve)):p(Me)):(Dw(E,Ca.transport.name,le.now()-re,B),p(null,Ca))});return{abort:function(){pe.abort()},forceMinPriority:function(ve){u=ve,pe&&pe.forceMinPriority(ve)}}}}function Qu(m){return"pusherTransport"+(m?"TLS":"NonTLS")}function Ow(m){var u=se.getLocalStorage();if(u)try{var p=u[Qu(m)];if(p)return JSON.parse(p)}catch{Gh(m)}return null}function Dw(m,u,p,E){var N=se.getLocalStorage();if(N)try{N[Qu(m)]=zr({timestamp:le.now(),transport:u,latency:p,cacheSkipCount:E})}catch{}}function Gh(m){var u=se.getLocalStorage();if(u)try{delete u[Qu(m)]}catch{}}class ba{constructor(u,{delay:p}){this.strategy=u,this.options={delay:p}}isSupported(){return this.strategy.isSupported()}connect(u,p){var E=this.strategy,N,B=new X(this.options.delay,function(){N=E.connect(u,p)});return{abort:function(){B.ensureAborted(),N&&N.abort()},forceMinPriority:function(V){u=V,N&&N.forceMinPriority(V)}}}}class $i{constructor(u,p,E){this.test=u,this.trueBranch=p,this.falseBranch=E}isSupported(){var u=this.test()?this.trueBranch:this.falseBranch;return u.isSupported()}connect(u,p){var E=this.test()?this.trueBranch:this.falseBranch;return E.connect(u,p)}}class Lw{constructor(u){this.strategy=u}isSupported(){return this.strategy.isSupported()}connect(u,p){var E=this.strategy.connect(u,function(N,B){B&&E.abort(),p(N,B)});return E}}function Bi(m){return function(){return m.isSupported()}}var Aw=function(m,u,p){var E={};function N(op,Lb,Ab,Ib,Fb){var ap=p(m,op,Lb,Ab,Ib,Fb);return E[op]=ap,ap}var B=Object.assign({},u,{hostNonTLS:m.wsHost+":"+m.wsPort,hostTLS:m.wsHost+":"+m.wssPort,httpPath:m.wsPath}),V=Object.assign({},B,{useTLS:!0}),ee=Object.assign({},u,{hostNonTLS:m.httpHost+":"+m.httpPort,hostTLS:m.httpHost+":"+m.httpsPort,httpPath:m.httpPath}),re={loop:!0,timeout:15e3,timeoutLimit:6e4},pe=new Kh({minPingDelay:1e4,maxPingDelay:m.activityTimeout}),ve=new Kh({lives:2,minPingDelay:1e4,maxPingDelay:m.activityTimeout}),Me=N("ws","ws",3,B,pe),Ca=N("wss","ws",3,V,pe),Rb=N("sockjs","sockjs",1,ee),ep=N("xhr_streaming","xhr_streaming",1,ee,ve),Pb=N("xdr_streaming","xdr_streaming",1,ee,ve),tp=N("xhr_polling","xhr_polling",1,ee),Tb=N("xdr_polling","xdr_polling",1,ee),np=new qr([Me],re),Ob=new qr([Ca],re),Db=new qr([Rb],re),rp=new qr([new $i(Bi(ep),ep,Pb)],re),sp=new qr([new $i(Bi(tp),tp,Tb)],re),ip=new qr([new $i(Bi(rp),new Vu([rp,new ba(sp,{delay:4e3})]),sp)],re),Yu=new $i(Bi(ip),ip,Db),Ju;return u.useTLS?Ju=new Vu([np,new ba(Yu,{delay:2e3})]):Ju=new Vu([np,new ba(Ob,{delay:2e3}),new ba(Yu,{delay:5e3})]),new Tw(new Lw(new $i(Bi(Me),Ju,Yu)),E,{ttl:18e5,timeline:u.timeline,useTLS:u.useTLS})},Iw=Aw,Fw=function(){var m=this;m.timeline.info(m.buildTimelineMessage({transport:m.name+(m.options.useTLS?"s":"")})),m.hooks.isInitialized()?m.changeState("initialized"):m.hooks.file?(m.changeState("initializing"),h.load(m.hooks.file,{useTLS:m.options.useTLS},function(u,p){m.hooks.isInitialized()?(m.changeState("initialized"),p(!0)):(u&&m.onError(u),m.onClose(),p(!1))})):m.onClose()},Mw={getRequest:function(m){var u=new window.XDomainRequest;return u.ontimeout=function(){m.emit("error",new y),m.close()},u.onerror=function(p){m.emit("error",p),m.close()},u.onprogress=function(){u.responseText&&u.responseText.length>0&&m.onChunk(200,u.responseText)},u.onload=function(){u.responseText&&u.responseText.length>0&&m.onChunk(200,u.responseText),m.emit("finished",200),m.close()},u},abortRequest:function(m){m.ontimeout=m.onerror=m.onprogress=m.onload=null,m.abort()}},zw=Mw;const Uw=256*1024;class $w extends Zt{constructor(u,p,E){super(),this.hooks=u,this.method=p,this.url=E}start(u){this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=()=>{this.close()},se.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(u)}close(){this.unloader&&(se.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)}onChunk(u,p){for(;;){var E=this.advanceBuffer(p);if(E)this.emit("chunk",{status:u,data:E});else break}this.isBufferTooLong(p)&&this.emit("buffer_too_long")}advanceBuffer(u){var p=u.slice(this.position),E=p.indexOf(`
`);return E!==-1?(this.position+=E+1,p.slice(0,E)):null}isBufferTooLong(u){return this.position===u.length&&u.length>Uw}}var Ku;(function(m){m[m.CONNECTING=0]="CONNECTING",m[m.OPEN=1]="OPEN",m[m.CLOSED=3]="CLOSED"})(Ku||(Ku={}));var Vr=Ku,Bw=1;class Hw{constructor(u,p){this.hooks=u,this.session=Yh(1e3)+"/"+Qw(8),this.location=Ww(p),this.readyState=Vr.CONNECTING,this.openStream()}send(u){return this.sendRaw(JSON.stringify([u]))}ping(){this.hooks.sendHeartbeat(this)}close(u,p){this.onClose(u,p,!0)}sendRaw(u){if(this.readyState===Vr.OPEN)try{return se.createSocketRequest("POST",Xh(qw(this.location,this.session))).start(u),!0}catch{return!1}else return!1}reconnect(){this.closeStream(),this.openStream()}onClose(u,p,E){this.closeStream(),this.readyState=Vr.CLOSED,this.onclose&&this.onclose({code:u,reason:p,wasClean:E})}onChunk(u){if(u.status===200){this.readyState===Vr.OPEN&&this.onActivity();var p,E=u.data.slice(0,1);switch(E){case"o":p=JSON.parse(u.data.slice(1)||"{}"),this.onOpen(p);break;case"a":p=JSON.parse(u.data.slice(1)||"[]");for(var N=0;N<p.length;N++)this.onEvent(p[N]);break;case"m":p=JSON.parse(u.data.slice(1)||"null"),this.onEvent(p);break;case"h":this.hooks.onHeartbeat(this);break;case"c":p=JSON.parse(u.data.slice(1)||"[]"),this.onClose(p[0],p[1],!0);break}}}onOpen(u){this.readyState===Vr.CONNECTING?(u&&u.hostname&&(this.location.base=Vw(this.location.base,u.hostname)),this.readyState=Vr.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)}onEvent(u){this.readyState===Vr.OPEN&&this.onmessage&&this.onmessage({data:u})}onActivity(){this.onactivity&&this.onactivity()}onError(u){this.onerror&&this.onerror(u)}openStream(){this.stream=se.createSocketRequest("POST",Xh(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",u=>{this.onChunk(u)}),this.stream.bind("finished",u=>{this.hooks.onFinished(this,u)}),this.stream.bind("buffer_too_long",()=>{this.reconnect()});try{this.stream.start()}catch(u){le.defer(()=>{this.onError(u),this.onClose(1006,"Could not start streaming",!1)})}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}}function Ww(m){var u=/([^\?]*)\/*(\??.*)/.exec(m);return{base:u[1],queryString:u[2]}}function qw(m,u){return m.base+"/"+u+"/xhr_send"}function Xh(m){var u=m.indexOf("?")===-1?"?":"&";return m+u+"t="+ +new Date+"&n="+Bw++}function Vw(m,u){var p=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(m);return p[1]+u+p[3]}function Yh(m){return se.randomInt(m)}function Qw(m){for(var u=[],p=0;p<m;p++)u.push(Yh(32).toString(32));return u.join("")}var Kw=Hw,Gw={getReceiveURL:function(m,u){return m.base+"/"+u+"/xhr_streaming"+m.queryString},onHeartbeat:function(m){m.sendRaw("[]")},sendHeartbeat:function(m){m.sendRaw("[]")},onFinished:function(m,u){m.onClose(1006,"Connection interrupted ("+u+")",!1)}},Xw=Gw,Yw={getReceiveURL:function(m,u){return m.base+"/"+u+"/xhr"+m.queryString},onHeartbeat:function(){},sendHeartbeat:function(m){m.sendRaw("[]")},onFinished:function(m,u){u===200?m.reconnect():m.onClose(1006,"Connection interrupted ("+u+")",!1)}},Jw=Yw,Zw={getRequest:function(m){var u=se.getXHRAPI(),p=new u;return p.onreadystatechange=p.onprogress=function(){switch(p.readyState){case 3:p.responseText&&p.responseText.length>0&&m.onChunk(p.status,p.responseText);break;case 4:p.responseText&&p.responseText.length>0&&m.onChunk(p.status,p.responseText),m.emit("finished",p.status),m.close();break}},p},abortRequest:function(m){m.onreadystatechange=null,m.abort()}},eb=Zw,tb={createStreamingSocket(m){return this.createSocket(Xw,m)},createPollingSocket(m){return this.createSocket(Jw,m)},createSocket(m,u){return new Kw(m,u)},createXHR(m,u){return this.createRequest(eb,m,u)},createRequest(m,u,p){return new $w(m,u,p)}},Jh=tb;Jh.createXDR=function(m,u){return this.createRequest(zw,m,u)};var nb=Jh,rb={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:o,DependenciesReceivers:f,getDefaultStrategy:Iw,Transports:vn,transportConnectionInitializer:Fw,HTTPFactory:nb,TimelineTransport:ya,getXHRAPI(){return window.XMLHttpRequest},getWebSocketAPI(){return window.WebSocket||window.MozWebSocket},setup(m){window.Pusher=m;var u=()=>{this.onDocumentBody(m.ready)};window.JSON?u():h.load("json2",{},u)},getDocument(){return document},getProtocol(){return this.getDocument().location.protocol},getAuthorizers(){return{ajax:I,jsonp:nr}},onDocumentBody(m){document.body?m():setTimeout(()=>{this.onDocumentBody(m)},0)},createJSONPRequest(m,u){return new Ur(m,u)},createScriptRequest(m){return new rr(m)},getLocalStorage(){try{return window.localStorage}catch{return}},createXHR(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest(){var m=this.getXHRAPI();return new m},createMicrosoftXHR(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork(){return Ui},createWebSocket(m){var u=this.getWebSocketAPI();return new u(m)},createSocketRequest(m,u){if(this.isXHRSupported())return this.HTTPFactory.createXHR(m,u);if(this.isXDRSupported(u.indexOf("https:")===0))return this.HTTPFactory.createXDR(m,u);throw"Cross-origin HTTP requests are not supported"},isXHRSupported(){var m=this.getXHRAPI();return!!m&&new m().withCredentials!==void 0},isXDRSupported(m){var u=m?"https:":"http:",p=this.getProtocol();return!!window.XDomainRequest&&p===u},addUnloadListener(m){window.addEventListener!==void 0?window.addEventListener("unload",m,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",m)},removeUnloadListener(m){window.addEventListener!==void 0?window.removeEventListener("unload",m,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",m)},randomInt(m){return Math.floor(function(){return(window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32)}()*m)}},se=rb,Gu;(function(m){m[m.ERROR=3]="ERROR",m[m.INFO=6]="INFO",m[m.DEBUG=7]="DEBUG"})(Gu||(Gu={}));var Sa=Gu;class sb{constructor(u,p,E){this.key=u,this.session=p,this.events=[],this.options=E||{},this.sent=0,this.uniqueID=0}log(u,p){u<=this.options.level&&(this.events.push(oe({},p,{timestamp:le.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error(u){this.log(Sa.ERROR,u)}info(u){this.log(Sa.INFO,u)}debug(u){this.log(Sa.DEBUG,u)}isEmpty(){return this.events.length===0}send(u,p){var E=oe({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],u(E,(N,B)=>{N||this.sent++,p&&p(N,B)}),!0}generateUniqueID(){return this.uniqueID++,this.uniqueID}}class ib{constructor(u,p,E,N){this.name=u,this.priority=p,this.transport=E,this.options=N||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect(u,p){if(this.isSupported()){if(this.priority<u)return Zh(new S,p)}else return Zh(new T,p);var E=!1,N=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),B=null,V=function(){N.unbind("initialized",V),N.connect()},ee=function(){B=An.createHandshake(N,function(Me){E=!0,ve(),p(null,Me)})},re=function(Me){ve(),p(Me)},pe=function(){ve();var Me;Me=zr(N),p(new _(Me))},ve=function(){N.unbind("initialized",V),N.unbind("open",ee),N.unbind("error",re),N.unbind("closed",pe)};return N.bind("initialized",V),N.bind("open",ee),N.bind("error",re),N.bind("closed",pe),N.initialize(),{abort:()=>{E||(ve(),B?B.close():N.close())},forceMinPriority:Me=>{E||this.priority<Me&&(B?B.close():N.close())}}}}function Zh(m,u){return le.defer(function(){u(m)}),{abort:function(){},forceMinPriority:function(){}}}const{Transports:ob}=se;var ab=function(m,u,p,E,N,B){var V=ob[p];if(!V)throw new R(p);var ee=(!m.enabledTransports||Qe(m.enabledTransports,u)!==-1)&&(!m.disabledTransports||Qe(m.disabledTransports,u)===-1),re;return ee?(N=Object.assign({ignoreNullOrigin:m.ignoreNullOrigin},N),re=new ib(u,E,B?B.getAssistant(V):V,N)):re=lb,re},lb={isSupported:function(){return!1},connect:function(m,u){var p=le.defer(function(){u(new T)});return{abort:function(){p.ensureAborted()},forceMinPriority:function(){}}}};function ub(m){if(m==null)throw"You must pass an options object";if(m.cluster==null)throw"Options object must provide a cluster";"disableStats"in m&&Ce.warn("The disableStats option is deprecated in favor of enableStats")}const cb=(m,u)=>{var p="socket_id="+encodeURIComponent(m.socketId);for(var E in u.params)p+="&"+encodeURIComponent(E)+"="+encodeURIComponent(u.params[E]);if(u.paramsProvider!=null){let N=u.paramsProvider();for(var E in N)p+="&"+encodeURIComponent(E)+"="+encodeURIComponent(N[E])}return p};var db=m=>{if(typeof se.getAuthorizers()[m.transport]>"u")throw`'${m.transport}' is not a recognized auth transport`;return(u,p)=>{const E=cb(u,m);se.getAuthorizers()[m.transport](se,E,m,C.UserAuthentication,p)}};const fb=(m,u)=>{var p="socket_id="+encodeURIComponent(m.socketId);p+="&channel_name="+encodeURIComponent(m.channelName);for(var E in u.params)p+="&"+encodeURIComponent(E)+"="+encodeURIComponent(u.params[E]);if(u.paramsProvider!=null){let N=u.paramsProvider();for(var E in N)p+="&"+encodeURIComponent(E)+"="+encodeURIComponent(N[E])}return p};var hb=m=>{if(typeof se.getAuthorizers()[m.transport]>"u")throw`'${m.transport}' is not a recognized auth transport`;return(u,p)=>{const E=fb(u,m);se.getAuthorizers()[m.transport](se,E,m,C.ChannelAuthorization,p)}};const pb=(m,u,p)=>{const E={authTransport:u.transport,authEndpoint:u.endpoint,auth:{params:u.params,headers:u.headers}};return(N,B)=>{const V=m.channel(N.channelName);p(V,E).authorize(N.socketId,B)}};function mb(m,u){let p={activityTimeout:m.activityTimeout||l.activityTimeout,cluster:m.cluster,httpPath:m.httpPath||l.httpPath,httpPort:m.httpPort||l.httpPort,httpsPort:m.httpsPort||l.httpsPort,pongTimeout:m.pongTimeout||l.pongTimeout,statsHost:m.statsHost||l.stats_host,unavailableTimeout:m.unavailableTimeout||l.unavailableTimeout,wsPath:m.wsPath||l.wsPath,wsPort:m.wsPort||l.wsPort,wssPort:m.wssPort||l.wssPort,enableStats:wb(m),httpHost:gb(m),useTLS:xb(m),wsHost:vb(m),userAuthenticator:bb(m),channelAuthorizer:Cb(m,u)};return"disabledTransports"in m&&(p.disabledTransports=m.disabledTransports),"enabledTransports"in m&&(p.enabledTransports=m.enabledTransports),"ignoreNullOrigin"in m&&(p.ignoreNullOrigin=m.ignoreNullOrigin),"timelineParams"in m&&(p.timelineParams=m.timelineParams),"nacl"in m&&(p.nacl=m.nacl),p}function gb(m){return m.httpHost?m.httpHost:m.cluster?`sockjs-${m.cluster}.pusher.com`:l.httpHost}function vb(m){return m.wsHost?m.wsHost:yb(m.cluster)}function yb(m){return`ws-${m}.pusher.com`}function xb(m){return se.getProtocol()==="https:"?!0:m.forceTLS!==!1}function wb(m){return"enableStats"in m?m.enableStats:"disableStats"in m?!m.disableStats:!1}function bb(m){const u=Object.assign(Object.assign({},l.userAuthentication),m.userAuthentication);return"customHandler"in u&&u.customHandler!=null?u.customHandler:db(u)}function Sb(m,u){let p;return"channelAuthorization"in m?p=Object.assign(Object.assign({},l.channelAuthorization),m.channelAuthorization):(p={transport:m.authTransport||l.authTransport,endpoint:m.authEndpoint||l.authEndpoint},"auth"in m&&("params"in m.auth&&(p.params=m.auth.params),"headers"in m.auth&&(p.headers=m.auth.headers)),"authorizer"in m&&(p.customHandler=pb(u,p,m.authorizer))),p}function Cb(m,u){const p=Sb(m,u);return"customHandler"in p&&p.customHandler!=null?p.customHandler:hb(p)}class kb extends Zt{constructor(u){super(function(p,E){Ce.debug(`No callbacks on watchlist events for ${p}`)}),this.pusher=u,this.bindWatchlistInternalEvent()}handleEvent(u){u.data.events.forEach(p=>{this.emit(p.name,p)})}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",u=>{var p=u.event;p==="pusher_internal:watchlist_events"&&this.handleEvent(u)})}}function Eb(){let m,u;return{promise:new Promise((E,N)=>{m=E,u=N}),resolve:m,reject:u}}var _b=Eb;class jb extends Zt{constructor(u){super(function(p,E){Ce.debug("No callbacks on user for "+p)}),this.signin_requested=!1,this.user_data=null,this.serverToUserChannel=null,this.signinDonePromise=null,this._signinDoneResolve=null,this._onAuthorize=(p,E)=>{if(p){Ce.warn(`Error during signin: ${p}`),this._cleanup();return}this.pusher.send_event("pusher:signin",{auth:E.auth,user_data:E.user_data})},this.pusher=u,this.pusher.connection.bind("state_change",({previous:p,current:E})=>{p!=="connected"&&E==="connected"&&this._signin(),p==="connected"&&E!=="connected"&&(this._cleanup(),this._newSigninPromiseIfNeeded())}),this.watchlist=new kb(u),this.pusher.connection.bind("message",p=>{var E=p.event;E==="pusher:signin_success"&&this._onSigninSuccess(p.data),this.serverToUserChannel&&this.serverToUserChannel.name===p.channel&&this.serverToUserChannel.handleEvent(p)})}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))}_onSigninSuccess(u){try{this.user_data=JSON.parse(u.user_data)}catch{Ce.error(`Failed parsing user data after signin: ${u.user_data}`),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){Ce.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()}_subscribeChannels(){const u=p=>{p.subscriptionPending&&p.subscriptionCancelled?p.reinstateSubscription():!p.subscriptionPending&&this.pusher.connection.state==="connected"&&p.subscribe()};this.serverToUserChannel=new Hu(`#server-to-user-${this.user_data.id}`,this.pusher),this.serverToUserChannel.bind_global((p,E)=>{p.indexOf("pusher_internal:")===0||p.indexOf("pusher:")===0||this.emit(p,E)}),u(this.serverToUserChannel)}_cleanup(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(!this.signin_requested||this.signinDonePromise&&!this.signinDonePromise.done)return;const{promise:u,resolve:p}=_b();u.done=!1;const E=()=>{u.done=!0};u.then(E).catch(E),this.signinDonePromise=u,this._signinDoneResolve=p}}class Je{static ready(){Je.isReady=!0;for(var u=0,p=Je.instances.length;u<p;u++)Je.instances[u].connect()}static getClientFeatures(){return ne(Ln({ws:se.Transports.ws},function(u){return u.isSupported({})}))}constructor(u,p){Nb(u),ub(p),this.key=u,this.config=mb(p,this),this.channels=An.createChannels(),this.global_emitter=new Zt,this.sessionID=se.randomInt(1e9),this.timeline=new sb(this.key,this.sessionID,{cluster:this.config.cluster,features:Je.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:Sa.INFO,version:l.VERSION}),this.config.enableStats&&(this.timelineSender=An.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+se.TimelineTransport.name}));var E=N=>se.getDefaultStrategy(this.config,N,ab);this.connection=An.createConnectionManager(this.key,{getStrategy:E,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",()=>{this.subscribeAll(),this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())}),this.connection.bind("message",N=>{var B=N.event,V=B.indexOf("pusher_internal:")===0;if(N.channel){var ee=this.channel(N.channel);ee&&ee.handleEvent(N)}V||this.global_emitter.emit(N.event,N.data)}),this.connection.bind("connecting",()=>{this.channels.disconnect()}),this.connection.bind("disconnected",()=>{this.channels.disconnect()}),this.connection.bind("error",N=>{Ce.warn(N)}),Je.instances.push(this),this.timeline.info({instances:Je.instances.length}),this.user=new jb(this),Je.isReady&&this.connect()}channel(u){return this.channels.find(u)}allChannels(){return this.channels.all()}connect(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var u=this.connection.isUsingTLS(),p=this.timelineSender;this.timelineSenderTimer=new me(6e4,function(){p.send(u)})}}disconnect(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind(u,p,E){return this.global_emitter.bind(u,p,E),this}unbind(u,p,E){return this.global_emitter.unbind(u,p,E),this}bind_global(u){return this.global_emitter.bind_global(u),this}unbind_global(u){return this.global_emitter.unbind_global(u),this}unbind_all(u){return this.global_emitter.unbind_all(),this}subscribeAll(){var u;for(u in this.channels.channels)this.channels.channels.hasOwnProperty(u)&&this.subscribe(u)}subscribe(u){var p=this.channels.add(u,this);return p.subscriptionPending&&p.subscriptionCancelled?p.reinstateSubscription():!p.subscriptionPending&&this.connection.state==="connected"&&p.subscribe(),p}unsubscribe(u){var p=this.channels.find(u);p&&p.subscriptionPending?p.cancelSubscription():(p=this.channels.remove(u),p&&p.subscribed&&p.unsubscribe())}send_event(u,p,E){return this.connection.send_event(u,p,E)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}Je.instances=[],Je.isReady=!1,Je.logToConsole=!1,Je.Runtime=se,Je.ScriptReceivers=se.ScriptReceivers,Je.DependenciesReceivers=se.DependenciesReceivers,Je.auth_callbacks=se.auth_callbacks;var Xu=r.default=Je;function Nb(m){if(m==null)throw"You must pass your app key when you instantiate Pusher."}se.setup(Je)}])})})(vx);var $j=vx.exports;const Bj=Cf($j);window.Pusher=Bj;const Hj="https://prismai-8kwe.onrender.com",Wj=new URL(Hj,window.location.origin),qj=()=>{const e=document.cookie.match(/(?:^|;\s*)XSRF-TOKEN=([^;]*)/);return e?decodeURIComponent(e[1]):void 0},Vj="prismai-8kwe.onrender.com",Qj="https",Oc=443,Ym=Number.isFinite(Oc)&&Oc>0?Oc:443,Kj=new URL("/broadcasting/auth",Wj).toString(),Gj={broadcaster:"reverb",key:"nej5uq99ibiys7qcwfra",wsHost:Vj,wsPort:Ym,wssPort:Ym,forceTLS:Qj==="https",enabledTransports:["ws","wss"],authEndpoint:Kj,auth:{withCredentials:!0,headers:{"X-XSRF-TOKEN":qj()??""}}},Jm=new Uj(Gj),Zm=e=>["project",e],eg=()=>["project","pending"],tg=(e,t)=>["projects","mine",e,t],lt={project:Zm,projectPending:eg,myProjects:tg,epics:e=>["epics",e],stories:e=>["stories",e],projects:{detail:Zm,pending:eg,listing:tg}},Xj=(e,t)=>{const n=t.status,r=t.progress??e.progress??0,s=Math.max(e.progress??0,r),i=t.stage??(n==="ready"||n==="failed"?n:e.stage??n);let o=e.message&&n==="failed"?e.message:null;return t.status==="failed"?o=t.message??e.message??null:t.message!==void 0&&(o=t.message),e.status!==n||e.progress!==s||e.stage!==i||e.message!==o?{...e,status:n,progress:s,stage:i,message:o}:e},Yj=e=>e?["generating","parsing"].includes(e):!1,Jj=e=>{const t=Tn(),n=x.useRef(!1),r=e?lt.project(e):lt.projectPending(),s=O0({queryKey:r,queryFn:async()=>{if(!e)throw new Error("projectId is required");return ix(e)},enabled:!!e,...e?{onSuccess:i=>{t.setQueryData(lt.project(e),o=>{const a=i.status==="ready"?"ready":i.status==="failed"?(o==null?void 0:o.stage)??"failed":i.status,l=i.status==="failed"?(o==null?void 0:o.message)??null:null;return{...i,stage:a,message:l}})}}:{},refetchInterval:i=>{if(n.current)return!1;const o=i.state.data;return o&&Yj(o.status)?xj:!1},refetchOnWindowFocus:!1,refetchOnReconnect:!1});return x.useEffect(()=>{if(!e)return;const i=`projects.${e}`,o="blueprint.status.updated";try{const a=Jm.private(i),l=c=>{console.log("WebSocket event received:",c),n.current=!0,t.setQueryData(lt.project(e),f=>f&&Xj(f,c)),(c.status==="ready"||c.status==="failed")&&t.invalidateQueries({queryKey:lt.project(e)})};return a.listen(o,l),()=>{n.current=!1,a.stopListening(o),Jm.leave(i)}}catch(a){console.error("Failed to subscribe to WebSocket channel:",a)}},[e,t]),s},Zj="blueprintReadySeen:",eN=e=>`${Zj}${e}`,tN=(e,t)=>{const[n,r]=x.useState(!1);return x.useEffect(()=>{if(!t){r(!1);return}if(t!=="ready"){r(!0);return}if(!e||typeof window>"u"){r(!0);return}const s=eN(e);if(window.localStorage.getItem(s)==="1"){r(!1);return}r(!0),window.localStorage.setItem(s,"1");const o=window.setTimeout(()=>{r(!1)},5e3);return()=>{window.clearTimeout(o)}},[e,t]),n},nN=e=>{const t=Tn(),{showToast:n}=Rs(),r=Nn({mutationFn:async()=>{if(!e)throw new Error("projectId is required to retry the blueprint");await pj(e)},onMutate:async()=>{if(!e)return{};const i=lt.project(e);await t.cancelQueries({queryKey:i});const o=t.getQueryData(i);return o&&t.setQueryData(i,{...o,status:"pending",progress:0,stage:"pending",message:null}),{previousProject:o}},onError:(i,o,a)=>{var c,f,h,g;if(!e||!(a!=null&&a.previousProject)){const w=((f=(c=i==null?void 0:i.response)==null?void 0:c.data)==null?void 0:f.message)||"Retry failed.";n({type:"error",message:w});return}t.setQueryData(lt.project(e),a.previousProject);const l=((g=(h=i==null?void 0:i.response)==null?void 0:h.data)==null?void 0:g.message)||"Retry failed.";n({type:"error",message:l})},onSettled:()=>{e&&t.invalidateQueries({queryKey:lt.project(e)})}});return{retry:()=>{!e||r.isPending||r.mutate()},isRetrying:r.isPending}},rN=()=>d.jsxs("div",{className:"rounded-2xl border border-stone/15 bg-white/90 p-4 shadow-sm animate-pulse",children:[d.jsx("div",{className:"h-4 rounded-full bg-stone/20 w-3/4 mb-4"}),d.jsx("div",{className:"h-3 rounded-full bg-stone/15 w-full mb-2"}),d.jsx("div",{className:"h-3 rounded-full bg-stone/15 w-5/6"})]}),sN=()=>d.jsx("div",{className:"grid grid-cols-1 gap-6 mt-8 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:3}).map((e,t)=>d.jsxs("div",{className:"rounded-3xl border border-stone/15 bg-frost/70 p-5 shadow-deep animate-pulse",children:[d.jsx("div",{className:"h-6 w-1/2 rounded-full bg-stone/20 mb-6"}),d.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((n,r)=>d.jsx(rN,{},r))})]},t))}),iN=()=>d.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((e,t)=>d.jsx("div",{className:"row-card px-5 py-4 md:px-6 md:py-5 animate-pulse",children:d.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[d.jsxs("div",{className:"flex-1 space-y-3",children:[d.jsx("div",{className:"h-5 w-48 rounded-full bg-stone/20"}),d.jsx("div",{className:"h-4 w-40 rounded-full bg-stone/15"})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"h-10 w-28 rounded-full bg-stone/15"}),d.jsx("div",{className:"h-10 w-10 rounded-2xl border border-stone/15 bg-white/80"})]})]})},t))});function oN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return x.useMemo(()=>r=>{t.forEach(s=>s(r))},t)}const Pu=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ti(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Ah(e){return"nodeType"in e}function wt(e){var t,n;return e?Ti(e)?e:Ah(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Ih(e){const{Document:t}=wt(e);return e instanceof t}function ca(e){return Ti(e)?!1:e instanceof wt(e).HTMLElement}function yx(e){return e instanceof wt(e).SVGElement}function Oi(e){return e?Ti(e)?e.document:Ah(e)?Ih(e)?e:ca(e)||yx(e)?e.ownerDocument:document:document:document}const fn=Pu?x.useLayoutEffect:x.useEffect;function Tu(e){const t=x.useRef(e);return fn(()=>{t.current=e}),x.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.current==null?void 0:t.current(...r)},[])}function aN(){const e=x.useRef(null),t=x.useCallback((r,s)=>{e.current=setInterval(r,s)},[]),n=x.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Uo(e,t){t===void 0&&(t=[e]);const n=x.useRef(e);return fn(()=>{n.current!==e&&(n.current=e)},t),n}function da(e,t){const n=x.useRef();return x.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function Vl(e){const t=Tu(e),n=x.useRef(null),r=x.useCallback(s=>{s!==n.current&&(t==null||t(s,n.current)),n.current=s},[]);return[n,r]}function Ql(e){const t=x.useRef();return x.useEffect(()=>{t.current=e},[e]),t.current}let Dc={};function fa(e,t){return x.useMemo(()=>{if(t)return t;const n=Dc[e]==null?0:Dc[e]+1;return Dc[e]=n,e+"-"+n},[e,t])}function xx(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((i,o)=>{const a=Object.entries(o);for(const[l,c]of a){const f=i[l];f!=null&&(i[l]=f+e*c)}return i},{...t})}}const Js=xx(1),$o=xx(-1);function lN(e){return"clientX"in e&&"clientY"in e}function Ou(e){if(!e)return!1;const{KeyboardEvent:t}=wt(e.target);return t&&e instanceof t}function uN(e){if(!e)return!1;const{TouchEvent:t}=wt(e.target);return t&&e instanceof t}function Kl(e){if(uN(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return lN(e)?{x:e.clientX,y:e.clientY}:null}const Ar=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Ar.Translate.toString(e),Ar.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),ng="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function cN(e){return e.matches(ng)?e:e.querySelector(ng)}const dN={display:"none"};function fN(e){let{id:t,value:n}=e;return we.createElement("div",{id:t,style:dN},n)}function hN(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return we.createElement("div",{id:t,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function pN(){const[e,t]=x.useState("");return{announce:x.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const wx=x.createContext(null);function mN(e){const t=x.useContext(wx);x.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function gN(){const[e]=x.useState(()=>new Set),t=x.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[x.useCallback(r=>{let{type:s,event:i}=r;e.forEach(o=>{var a;return(a=o[s])==null?void 0:a.call(o,i)})},[e]),t]}const vN={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},yN={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function xN(e){let{announcements:t=yN,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=vN}=e;const{announce:i,announcement:o}=pN(),a=fa("DndLiveRegion"),[l,c]=x.useState(!1);if(x.useEffect(()=>{c(!0)},[]),mN(x.useMemo(()=>({onDragStart(h){let{active:g}=h;i(t.onDragStart({active:g}))},onDragMove(h){let{active:g,over:w}=h;t.onDragMove&&i(t.onDragMove({active:g,over:w}))},onDragOver(h){let{active:g,over:w}=h;i(t.onDragOver({active:g,over:w}))},onDragEnd(h){let{active:g,over:w}=h;i(t.onDragEnd({active:g,over:w}))},onDragCancel(h){let{active:g,over:w}=h;i(t.onDragCancel({active:g,over:w}))}}),[i,t])),!l)return null;const f=we.createElement(we.Fragment,null,we.createElement(fN,{id:r,value:s.draggable}),we.createElement(hN,{id:a,announcement:o}));return n?es.createPortal(f,n):f}var He;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(He||(He={}));function Gl(){}function rg(e,t){return x.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function wN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return x.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const hn=Object.freeze({x:0,y:0});function bx(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function bN(e,t){const n=Kl(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function Sx(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function SN(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function sg(e){let{left:t,top:n,height:r,width:s}=e;return[{x:t,y:n},{x:t+s,y:n},{x:t,y:n+r},{x:t+s,y:n+r}]}function Cx(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function ig(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const CN=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=ig(t,t.left,t.top),i=[];for(const o of r){const{id:a}=o,l=n.get(a);if(l){const c=bx(ig(l),s);i.push({id:a,data:{droppableContainer:o,value:c}})}}return i.sort(Sx)},kN=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=sg(t),i=[];for(const o of r){const{id:a}=o,l=n.get(a);if(l){const c=sg(l),f=s.reduce((g,w,b)=>g+bx(c[b],w),0),h=Number((f/4).toFixed(4));i.push({id:a,data:{droppableContainer:o,value:h}})}}return i.sort(Sx)};function EN(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),o=s-r,a=i-n;if(r<s&&n<i){const l=t.width*t.height,c=e.width*e.height,f=o*a,h=f/(l+c-f);return Number(h.toFixed(4))}return 0}const _N=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=[];for(const i of r){const{id:o}=i,a=n.get(o);if(a){const l=EN(a,t);l>0&&s.push({id:o,data:{droppableContainer:i,value:l}})}}return s.sort(SN)};function jN(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function kx(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:hn}function NN(e){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return s.reduce((o,a)=>({...o,top:o.top+e*a.y,bottom:o.bottom+e*a.y,left:o.left+e*a.x,right:o.right+e*a.x}),{...n})}}const RN=NN(1);function Ex(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function PN(e,t,n){const r=Ex(t);if(!r)return e;const{scaleX:s,scaleY:i,x:o,y:a}=r,l=e.left-o-(1-s)*parseFloat(n),c=e.top-a-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),f=s?e.width/s:e.width,h=i?e.height/i:e.height;return{width:f,height:h,top:c,right:l+f,bottom:c+h,left:l}}const TN={ignoreTransform:!1};function Di(e,t){t===void 0&&(t=TN);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:c,transformOrigin:f}=wt(e).getComputedStyle(e);c&&(n=PN(n,c,f))}const{top:r,left:s,width:i,height:o,bottom:a,right:l}=n;return{top:r,left:s,width:i,height:o,bottom:a,right:l}}function og(e){return Di(e,{ignoreTransform:!0})}function ON(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function DN(e,t){return t===void 0&&(t=wt(e).getComputedStyle(e)),t.position==="fixed"}function LN(e,t){t===void 0&&(t=wt(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const i=t[s];return typeof i=="string"?n.test(i):!1})}function Du(e,t){const n=[];function r(s){if(t!=null&&n.length>=t||!s)return n;if(Ih(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!ca(s)||yx(s)||n.includes(s))return n;const i=wt(e).getComputedStyle(s);return s!==e&&LN(s,i)&&n.push(s),DN(s,i)?n:r(s.parentNode)}return e?r(e):n}function _x(e){const[t]=Du(e,1);return t??null}function Lc(e){return!Pu||!e?null:Ti(e)?e:Ah(e)?Ih(e)||e===Oi(e).scrollingElement?window:ca(e)?e:null:null}function jx(e){return Ti(e)?e.scrollX:e.scrollLeft}function Nx(e){return Ti(e)?e.scrollY:e.scrollTop}function sf(e){return{x:jx(e),y:Nx(e)}}var Xe;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Xe||(Xe={}));function Rx(e){return!Pu||!e?!1:e===document.scrollingElement}function Px(e){const t={x:0,y:0},n=Rx(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},s=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,o=e.scrollTop>=r.y,a=e.scrollLeft>=r.x;return{isTop:s,isLeft:i,isBottom:o,isRight:a,maxScroll:r,minScroll:t}}const AN={x:.2,y:.2};function IN(e,t,n,r,s){let{top:i,left:o,right:a,bottom:l}=n;r===void 0&&(r=10),s===void 0&&(s=AN);const{isTop:c,isBottom:f,isLeft:h,isRight:g}=Px(e),w={x:0,y:0},b={x:0,y:0},C={height:t.height*s.y,width:t.width*s.x};return!c&&i<=t.top+C.height?(w.y=Xe.Backward,b.y=r*Math.abs((t.top+C.height-i)/C.height)):!f&&l>=t.bottom-C.height&&(w.y=Xe.Forward,b.y=r*Math.abs((t.bottom-C.height-l)/C.height)),!g&&a>=t.right-C.width?(w.x=Xe.Forward,b.x=r*Math.abs((t.right-C.width-a)/C.width)):!h&&o<=t.left+C.width&&(w.x=Xe.Backward,b.x=r*Math.abs((t.left+C.width-o)/C.width)),{direction:w,speed:b}}function FN(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:t,left:n,right:r,bottom:s}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:s,width:e.clientWidth,height:e.clientHeight}}function Tx(e){return e.reduce((t,n)=>Js(t,sf(n)),hn)}function MN(e){return e.reduce((t,n)=>t+jx(n),0)}function zN(e){return e.reduce((t,n)=>t+Nx(n),0)}function Ox(e,t){if(t===void 0&&(t=Di),!e)return;const{top:n,left:r,bottom:s,right:i}=t(e);_x(e)&&(s<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const UN=[["x",["left","right"],MN],["y",["top","bottom"],zN]];class Fh{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Du(n),s=Tx(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,o,a]of UN)for(const l of o)Object.defineProperty(this,l,{get:()=>{const c=a(r),f=s[i]-c;return this.rect[l]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class vo{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var s;(s=this.target)==null||s.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function $N(e){const{EventTarget:t}=wt(e);return e instanceof t?e:Oi(e)}function Ac(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var Wt;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Wt||(Wt={}));function ag(e){e.preventDefault()}function BN(e){e.stopPropagation()}var fe;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(fe||(fe={}));const Dx={start:[fe.Space,fe.Enter],cancel:[fe.Esc],end:[fe.Space,fe.Enter,fe.Tab]},HN=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case fe.Right:return{...n,x:n.x+25};case fe.Left:return{...n,x:n.x-25};case fe.Down:return{...n,y:n.y+25};case fe.Up:return{...n,y:n.y-25}}};class Mh{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new vo(Oi(n)),this.windowListeners=new vo(wt(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Wt.Resize,this.handleCancel),this.windowListeners.add(Wt.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Wt.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&Ox(r),n(hn)}handleKeyDown(t){if(Ou(t)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:i=Dx,coordinateGetter:o=HN,scrollBehavior:a="smooth"}=s,{code:l}=t;if(i.end.includes(l)){this.handleEnd(t);return}if(i.cancel.includes(l)){this.handleCancel(t);return}const{collisionRect:c}=r.current,f=c?{x:c.left,y:c.top}:hn;this.referenceCoordinates||(this.referenceCoordinates=f);const h=o(t,{active:n,context:r.current,currentCoordinates:f});if(h){const g=$o(h,f),w={x:0,y:0},{scrollableAncestors:b}=r.current;for(const C of b){const k=t.code,{isTop:v,isRight:y,isLeft:S,isBottom:_,maxScroll:j,minScroll:R}=Px(C),T=FN(C),D={x:Math.min(k===fe.Right?T.right-T.width/2:T.right,Math.max(k===fe.Right?T.left:T.left+T.width/2,h.x)),y:Math.min(k===fe.Down?T.bottom-T.height/2:T.bottom,Math.max(k===fe.Down?T.top:T.top+T.height/2,h.y))},U=k===fe.Right&&!y||k===fe.Left&&!S,I=k===fe.Down&&!_||k===fe.Up&&!v;if(U&&D.x!==h.x){const L=C.scrollLeft+g.x,z=k===fe.Right&&L<=j.x||k===fe.Left&&L>=R.x;if(z&&!g.y){C.scrollTo({left:L,behavior:a});return}z?w.x=C.scrollLeft-L:w.x=k===fe.Right?C.scrollLeft-j.x:C.scrollLeft-R.x,w.x&&C.scrollBy({left:-w.x,behavior:a});break}else if(I&&D.y!==h.y){const L=C.scrollTop+g.y,z=k===fe.Down&&L<=j.y||k===fe.Up&&L>=R.y;if(z&&!g.x){C.scrollTo({top:L,behavior:a});return}z?w.y=C.scrollTop-L:w.y=k===fe.Down?C.scrollTop-j.y:C.scrollTop-R.y,w.y&&C.scrollBy({top:-w.y,behavior:a});break}}this.handleMove(t,Js($o(h,this.referenceCoordinates),w))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Mh.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Dx,onActivation:s}=t,{active:i}=n;const{code:o}=e.nativeEvent;if(r.start.includes(o)){const a=i.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),s==null||s({event:e.nativeEvent}),!0)}return!1}}];function lg(e){return!!(e&&"distance"in e)}function ug(e){return!!(e&&"delay"in e)}class zh{constructor(t,n,r){var s;r===void 0&&(r=$N(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:o}=i;this.props=t,this.events=n,this.document=Oi(o),this.documentListeners=new vo(this.document),this.listeners=new vo(r),this.windowListeners=new vo(wt(o)),this.initialCoordinates=(s=Kl(i))!=null?s:hn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Wt.Resize,this.handleCancel),this.windowListeners.add(Wt.DragStart,ag),this.windowListeners.add(Wt.VisibilityChange,this.handleCancel),this.windowListeners.add(Wt.ContextMenu,ag),this.documentListeners.add(Wt.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(ug(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(lg(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:s}=this.props;s(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Wt.Click,BN,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Wt.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:s,props:i}=this,{onMove:o,options:{activationConstraint:a}}=i;if(!s)return;const l=(n=Kl(t))!=null?n:hn,c=$o(s,l);if(!r&&a){if(lg(a)){if(a.tolerance!=null&&Ac(c,a.tolerance))return this.handleCancel();if(Ac(c,a.distance))return this.handleStart()}if(ug(a)&&Ac(c,a.tolerance))return this.handleCancel();this.handlePending(a,c);return}t.cancelable&&t.preventDefault(),o(l)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===fe.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const WN={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Uh extends zh{constructor(t){const{event:n}=t,r=Oi(n.target);super(t,WN,r)}}Uh.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const qN={move:{name:"mousemove"},end:{name:"mouseup"}};var of;(function(e){e[e.RightClick=2]="RightClick"})(of||(of={}));class VN extends zh{constructor(t){super(t,qN,Oi(t.event.target))}}VN.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===of.RightClick?!1:(r==null||r({event:n}),!0)}}];const Ic={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class QN extends zh{constructor(t){super(t,Ic)}static setup(){return window.addEventListener(Ic.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Ic.move.name,t)};function t(){}}}QN.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:s}=n;return s.length>1?!1:(r==null||r({event:n}),!0)}}];var yo;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(yo||(yo={}));var Xl;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Xl||(Xl={}));function KN(e){let{acceleration:t,activator:n=yo.Pointer,canScroll:r,draggingRect:s,enabled:i,interval:o=5,order:a=Xl.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:f,delta:h,threshold:g}=e;const w=XN({delta:h,disabled:!i}),[b,C]=aN(),k=x.useRef({x:0,y:0}),v=x.useRef({x:0,y:0}),y=x.useMemo(()=>{switch(n){case yo.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case yo.DraggableRect:return s}},[n,s,l]),S=x.useRef(null),_=x.useCallback(()=>{const R=S.current;if(!R)return;const T=k.current.x*v.current.x,D=k.current.y*v.current.y;R.scrollBy(T,D)},[]),j=x.useMemo(()=>a===Xl.TreeOrder?[...c].reverse():c,[a,c]);x.useEffect(()=>{if(!i||!c.length||!y){C();return}for(const R of j){if((r==null?void 0:r(R))===!1)continue;const T=c.indexOf(R),D=f[T];if(!D)continue;const{direction:U,speed:I}=IN(R,D,y,t,g);for(const L of["x","y"])w[L][U[L]]||(I[L]=0,U[L]=0);if(I.x>0||I.y>0){C(),S.current=R,b(_,o),k.current=I,v.current=U;return}}k.current={x:0,y:0},v.current={x:0,y:0},C()},[t,_,r,C,i,o,JSON.stringify(y),JSON.stringify(w),b,c,j,f,JSON.stringify(g)])}const GN={x:{[Xe.Backward]:!1,[Xe.Forward]:!1},y:{[Xe.Backward]:!1,[Xe.Forward]:!1}};function XN(e){let{delta:t,disabled:n}=e;const r=Ql(t);return da(s=>{if(n||!r||!s)return GN;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Xe.Backward]:s.x[Xe.Backward]||i.x===-1,[Xe.Forward]:s.x[Xe.Forward]||i.x===1},y:{[Xe.Backward]:s.y[Xe.Backward]||i.y===-1,[Xe.Forward]:s.y[Xe.Forward]||i.y===1}}},[n,t,r])}function YN(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return da(s=>{var i;return t==null?null:(i=r??s)!=null?i:null},[r,t])}function JN(e,t){return x.useMemo(()=>e.reduce((n,r)=>{const{sensor:s}=r,i=s.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,r)}));return[...n,...i]},[]),[e,t])}var Bo;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Bo||(Bo={}));var af;(function(e){e.Optimized="optimized"})(af||(af={}));const cg=new Map;function ZN(e,t){let{dragging:n,dependencies:r,config:s}=t;const[i,o]=x.useState(null),{frequency:a,measure:l,strategy:c}=s,f=x.useRef(e),h=k(),g=Uo(h),w=x.useCallback(function(v){v===void 0&&(v=[]),!g.current&&o(y=>y===null?v:y.concat(v.filter(S=>!y.includes(S))))},[g]),b=x.useRef(null),C=da(v=>{if(h&&!n)return cg;if(!v||v===cg||f.current!==e||i!=null){const y=new Map;for(let S of e){if(!S)continue;if(i&&i.length>0&&!i.includes(S.id)&&S.rect.current){y.set(S.id,S.rect.current);continue}const _=S.node.current,j=_?new Fh(l(_),_):null;S.rect.current=j,j&&y.set(S.id,j)}return y}return v},[e,i,n,h,l]);return x.useEffect(()=>{f.current=e},[e]),x.useEffect(()=>{h||w()},[n,h]),x.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),x.useEffect(()=>{h||typeof a!="number"||b.current!==null||(b.current=setTimeout(()=>{w(),b.current=null},a))},[a,h,w,...r]),{droppableRects:C,measureDroppableContainers:w,measuringScheduled:i!=null};function k(){switch(c){case Bo.Always:return!1;case Bo.BeforeDragging:return n;default:return!n}}}function $h(e,t){return da(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function eR(e,t){return $h(e,t)}function tR(e){let{callback:t,disabled:n}=e;const r=Tu(t),s=x.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return x.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Lu(e){let{callback:t,disabled:n}=e;const r=Tu(t),s=x.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return x.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function nR(e){return new Fh(Di(e),e)}function dg(e,t,n){t===void 0&&(t=nR);const[r,s]=x.useState(null);function i(){s(l=>{if(!e)return null;if(e.isConnected===!1){var c;return(c=l??n)!=null?c:null}const f=t(e);return JSON.stringify(l)===JSON.stringify(f)?l:f})}const o=tR({callback(l){if(e)for(const c of l){const{type:f,target:h}=c;if(f==="childList"&&h instanceof HTMLElement&&h.contains(e)){i();break}}}}),a=Lu({callback:i});return fn(()=>{i(),e?(a==null||a.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),o==null||o.disconnect())},[e]),r}function rR(e){const t=$h(e);return kx(e,t)}const fg=[];function sR(e){const t=x.useRef(e),n=da(r=>e?r&&r!==fg&&e&&t.current&&e.parentNode===t.current.parentNode?r:Du(e):fg,[e]);return x.useEffect(()=>{t.current=e},[e]),n}function iR(e){const[t,n]=x.useState(null),r=x.useRef(e),s=x.useCallback(i=>{const o=Lc(i.target);o&&n(a=>a?(a.set(o,sf(o)),new Map(a)):null)},[]);return x.useEffect(()=>{const i=r.current;if(e!==i){o(i);const a=e.map(l=>{const c=Lc(l);return c?(c.addEventListener("scroll",s,{passive:!0}),[c,sf(c)]):null}).filter(l=>l!=null);n(a.length?new Map(a):null),r.current=e}return()=>{o(e),o(i)};function o(a){a.forEach(l=>{const c=Lc(l);c==null||c.removeEventListener("scroll",s)})}},[s,e]),x.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,o)=>Js(i,o),hn):Tx(e):hn,[e,t])}function hg(e,t){t===void 0&&(t=[]);const n=x.useRef(null);return x.useEffect(()=>{n.current=null},t),x.useEffect(()=>{const r=e!==hn;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?$o(e,n.current):hn}function oR(e){x.useEffect(()=>{if(!Pu)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function aR(e,t){return x.useMemo(()=>e.reduce((n,r)=>{let{eventName:s,handler:i}=r;return n[s]=o=>{i(o,t)},n},{}),[e,t])}function Lx(e){return x.useMemo(()=>e?ON(e):null,[e])}const pg=[];function lR(e,t){t===void 0&&(t=Di);const[n]=e,r=Lx(n?wt(n):null),[s,i]=x.useState(pg);function o(){i(()=>e.length?e.map(l=>Rx(l)?r:new Fh(t(l),l)):pg)}const a=Lu({callback:o});return fn(()=>{a==null||a.disconnect(),o(),e.forEach(l=>a==null?void 0:a.observe(l))},[e]),s}function Ax(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return ca(t)?t:e}function uR(e){let{measure:t}=e;const[n,r]=x.useState(null),s=x.useCallback(c=>{for(const{target:f}of c)if(ca(f)){r(h=>{const g=t(f);return h?{...h,width:g.width,height:g.height}:g});break}},[t]),i=Lu({callback:s}),o=x.useCallback(c=>{const f=Ax(c);i==null||i.disconnect(),f&&(i==null||i.observe(f)),r(f?t(f):null)},[t,i]),[a,l]=Vl(o);return x.useMemo(()=>({nodeRef:a,rect:n,setRef:l}),[n,a,l])}const cR=[{sensor:Uh,options:{}},{sensor:Mh,options:{}}],dR={current:{}},ml={draggable:{measure:og},droppable:{measure:og,strategy:Bo.WhileDragging,frequency:af.Optimized},dragOverlay:{measure:Di}};class xo extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const fR={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new xo,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Gl},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:ml,measureDroppableContainers:Gl,windowRect:null,measuringScheduled:!1},Ix={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Gl,draggableNodes:new Map,over:null,measureDroppableContainers:Gl},ha=x.createContext(Ix),Fx=x.createContext(fR);function hR(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new xo}}}function pR(e,t){switch(t.type){case He.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case He.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case He.DragEnd:case He.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case He.RegisterDroppable:{const{element:n}=t,{id:r}=n,s=new xo(e.droppable.containers);return s.set(r,n),{...e,droppable:{...e.droppable,containers:s}}}case He.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const o=new xo(e.droppable.containers);return o.set(n,{...i,disabled:s}),{...e,droppable:{...e.droppable,containers:o}}}case He.UnregisterDroppable:{const{id:n,key:r}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const i=new xo(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function mR(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:s}=x.useContext(ha),i=Ql(r),o=Ql(n==null?void 0:n.id);return x.useEffect(()=>{if(!t&&!r&&i&&o!=null){if(!Ou(i)||document.activeElement===i.target)return;const a=s.get(o);if(!a)return;const{activatorNode:l,node:c}=a;if(!l.current&&!c.current)return;requestAnimationFrame(()=>{for(const f of[l.current,c.current]){if(!f)continue;const h=cN(f);if(h){h.focus();break}}})}},[r,t,s,o,i]),null}function Mx(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((s,i)=>i({transform:s,...r}),n):n}function gR(e){return x.useMemo(()=>({draggable:{...ml.draggable,...e==null?void 0:e.draggable},droppable:{...ml.droppable,...e==null?void 0:e.droppable},dragOverlay:{...ml.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function vR(e){let{activeNode:t,measure:n,initialRect:r,config:s=!0}=e;const i=x.useRef(!1),{x:o,y:a}=typeof s=="boolean"?{x:s,y:s}:s;fn(()=>{if(!o&&!a||!t){i.current=!1;return}if(i.current||!r)return;const c=t==null?void 0:t.node.current;if(!c||c.isConnected===!1)return;const f=n(c),h=kx(f,r);if(o||(h.x=0),a||(h.y=0),i.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const g=_x(c);g&&g.scrollBy({top:h.y,left:h.x})}},[t,o,a,r,n])}const Au=x.createContext({...hn,scaleX:1,scaleY:1});var ur;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(ur||(ur={}));const yR=x.memo(function(t){var n,r,s,i;let{id:o,accessibility:a,autoScroll:l=!0,children:c,sensors:f=cR,collisionDetection:h=_N,measuring:g,modifiers:w,...b}=t;const C=x.useReducer(pR,void 0,hR),[k,v]=C,[y,S]=gN(),[_,j]=x.useState(ur.Uninitialized),R=_===ur.Initialized,{draggable:{active:T,nodes:D,translate:U},droppable:{containers:I}}=k,L=T!=null?D.get(T):null,z=x.useRef({initial:null,translated:null}),O=x.useMemo(()=>{var Ne;return T!=null?{id:T,data:(Ne=L==null?void 0:L.data)!=null?Ne:dR,rect:z}:null},[T,L]),A=x.useRef(null),[W,Y]=x.useState(null),[q,M]=x.useState(null),$=Uo(b,Object.values(b)),Q=fa("DndDescribedBy",o),Z=x.useMemo(()=>I.getEnabled(),[I]),X=gR(g),{droppableRects:me,measureDroppableContainers:ce,measuringScheduled:le}=ZN(Z,{dragging:R,dependencies:[U.x,U.y],config:X.droppable}),oe=YN(D,T),Ve=x.useMemo(()=>q?Kl(q):null,[q]),Qe=Bu(),G=eR(oe,X.draggable.measure);vR({activeNode:T!=null?D.get(T):null,config:Qe.layoutShiftCompensation,initialRect:G,measure:X.draggable.measure});const ne=dg(oe,X.draggable.measure,G),xe=dg(oe?oe.parentElement:null),Se=x.useRef({activatorEvent:null,active:null,activeNode:oe,collisionRect:null,collisions:null,droppableRects:me,draggableNodes:D,draggingNode:null,draggingNodeRect:null,droppableContainers:I,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),On=I.getNodeFor((n=Se.current.over)==null?void 0:n.id),Jt=uR({measure:X.dragOverlay.measure}),Dn=(r=Jt.nodeRef.current)!=null?r:oe,Ln=R?(s=Jt.rect)!=null?s:ne:null,ma=!!(Jt.nodeRef.current&&Jt.rect),Li=rR(ma?null:ne),Ai=Lx(Dn?wt(Dn):null),mn=sR(R?On??oe:null),Ps=lR(mn),Ts=Mx(w,{transform:{x:U.x-Li.x,y:U.y-Li.y,scaleX:1,scaleY:1},activatorEvent:q,active:O,activeNodeRect:ne,containerNodeRect:xe,draggingNodeRect:Ln,over:Se.current.over,overlayNodeRect:Jt.rect,scrollableAncestors:mn,scrollableAncestorRects:Ps,windowRect:Ai}),zr=Ve?Js(Ve,U):null,ga=iR(mn),Ce=hg(ga),Uu=hg(ga,[ne]),nr=Js(Ts,Ce),rr=Ln?RN(Ln,Ts):null,Ur=O&&rr?h({active:O,collisionRect:rr,droppableRects:me,droppableContainers:Z,pointerCoordinates:zr}):null,va=Cx(Ur,"id"),[gn,ya]=x.useState(null),Ii=ma?Ts:Js(Ts,Uu),Fi=jN(Ii,(i=gn==null?void 0:gn.rect)!=null?i:null,ne),Mi=x.useRef(null),xa=x.useCallback((Ne,dt)=>{let{sensor:nt,options:en}=dt;if(A.current==null)return;const ft=D.get(A.current);if(!ft)return;const rt=Ne.nativeEvent,zt=new nt({active:A.current,activeNode:ft,event:rt,options:en,context:Se,onAbort(Ue){if(!D.get(Ue))return;const{onDragAbort:Ut}=$.current,$t={id:Ue};Ut==null||Ut($t),y({type:"onDragAbort",event:$t})},onPending(Ue,Pt,Ut,$t){if(!D.get(Ue))return;const{onDragPending:Br}=$.current,vn={id:Ue,constraint:Pt,initialCoordinates:Ut,offset:$t};Br==null||Br(vn),y({type:"onDragPending",event:vn})},onStart(Ue){const Pt=A.current;if(Pt==null)return;const Ut=D.get(Pt);if(!Ut)return;const{onDragStart:$t}=$.current,$r={activatorEvent:rt,active:{id:Pt,data:Ut.data,rect:z}};es.unstable_batchedUpdates(()=>{$t==null||$t($r),j(ur.Initializing),v({type:He.DragStart,initialCoordinates:Ue,active:Pt}),y({type:"onDragStart",event:$r}),Y(Mi.current),M(rt)})},onMove(Ue){v({type:He.DragMove,coordinates:Ue})},onEnd:sr(He.DragEnd),onCancel:sr(He.DragCancel)});Mi.current=zt;function sr(Ue){return async function(){const{active:Ut,collisions:$t,over:$r,scrollAdjustedTranslate:Br}=Se.current;let vn=null;if(Ut&&Br){const{cancelDrop:Hr}=$.current;vn={activatorEvent:rt,active:Ut,collisions:$t,delta:Br,over:$r},Ue===He.DragEnd&&typeof Hr=="function"&&await Promise.resolve(Hr(vn))&&(Ue=He.DragCancel)}A.current=null,es.unstable_batchedUpdates(()=>{v({type:Ue}),j(ur.Uninitialized),ya(null),Y(null),M(null),Mi.current=null;const Hr=Ue===He.DragEnd?"onDragEnd":"onDragCancel";if(vn){const Ui=$.current[Hr];Ui==null||Ui(vn),y({type:Hr,event:vn})}})}}},[D]),$u=x.useCallback((Ne,dt)=>(nt,en)=>{const ft=nt.nativeEvent,rt=D.get(en);if(A.current!==null||!rt||ft.dndKit||ft.defaultPrevented)return;const zt={active:rt};Ne(nt,dt.options,zt)===!0&&(ft.dndKit={capturedBy:dt.sensor},A.current=en,xa(nt,dt))},[D,xa]),wa=JN(f,$u);oR(f),fn(()=>{ne&&_===ur.Initializing&&j(ur.Initialized)},[ne,_]),x.useEffect(()=>{const{onDragMove:Ne}=$.current,{active:dt,activatorEvent:nt,collisions:en,over:ft}=Se.current;if(!dt||!nt)return;const rt={active:dt,activatorEvent:nt,collisions:en,delta:{x:nr.x,y:nr.y},over:ft};es.unstable_batchedUpdates(()=>{Ne==null||Ne(rt),y({type:"onDragMove",event:rt})})},[nr.x,nr.y]),x.useEffect(()=>{const{active:Ne,activatorEvent:dt,collisions:nt,droppableContainers:en,scrollAdjustedTranslate:ft}=Se.current;if(!Ne||A.current==null||!dt||!ft)return;const{onDragOver:rt}=$.current,zt=en.get(va),sr=zt&&zt.rect.current?{id:zt.id,rect:zt.rect.current,data:zt.data,disabled:zt.disabled}:null,Ue={active:Ne,activatorEvent:dt,collisions:nt,delta:{x:ft.x,y:ft.y},over:sr};es.unstable_batchedUpdates(()=>{ya(sr),rt==null||rt(Ue),y({type:"onDragOver",event:Ue})})},[va]),fn(()=>{Se.current={activatorEvent:q,active:O,activeNode:oe,collisionRect:rr,collisions:Ur,droppableRects:me,draggableNodes:D,draggingNode:Dn,draggingNodeRect:Ln,droppableContainers:I,over:gn,scrollableAncestors:mn,scrollAdjustedTranslate:nr},z.current={initial:Ln,translated:rr}},[O,oe,Ur,rr,D,Dn,Ln,me,I,gn,mn,nr]),KN({...Qe,delta:U,draggingRect:rr,pointerCoordinates:zr,scrollableAncestors:mn,scrollableAncestorRects:Ps});const zi=x.useMemo(()=>({active:O,activeNode:oe,activeNodeRect:ne,activatorEvent:q,collisions:Ur,containerNodeRect:xe,dragOverlay:Jt,draggableNodes:D,droppableContainers:I,droppableRects:me,over:gn,measureDroppableContainers:ce,scrollableAncestors:mn,scrollableAncestorRects:Ps,measuringConfiguration:X,measuringScheduled:le,windowRect:Ai}),[O,oe,ne,q,Ur,xe,Jt,D,I,me,gn,ce,mn,Ps,X,le,Ai]),Zt=x.useMemo(()=>({activatorEvent:q,activators:wa,active:O,activeNodeRect:ne,ariaDescribedById:{draggable:Q},dispatch:v,draggableNodes:D,over:gn,measureDroppableContainers:ce}),[q,wa,O,ne,v,Q,D,gn,ce]);return we.createElement(wx.Provider,{value:S},we.createElement(ha.Provider,{value:Zt},we.createElement(Fx.Provider,{value:zi},we.createElement(Au.Provider,{value:Fi},c)),we.createElement(mR,{disabled:(a==null?void 0:a.restoreFocus)===!1})),we.createElement(xN,{...a,hiddenTextDescribedById:Q}));function Bu(){const Ne=(W==null?void 0:W.autoScrollEnabled)===!1,dt=typeof l=="object"?l.enabled===!1:l===!1,nt=R&&!Ne&&!dt;return typeof l=="object"?{...l,enabled:nt}:{enabled:nt}}}),xR=x.createContext(null),mg="button",wR="Draggable";function bR(e){let{id:t,data:n,disabled:r=!1,attributes:s}=e;const i=fa(wR),{activators:o,activatorEvent:a,active:l,activeNodeRect:c,ariaDescribedById:f,draggableNodes:h,over:g}=x.useContext(ha),{role:w=mg,roleDescription:b="draggable",tabIndex:C=0}=s??{},k=(l==null?void 0:l.id)===t,v=x.useContext(k?Au:xR),[y,S]=Vl(),[_,j]=Vl(),R=aR(o,t),T=Uo(n);fn(()=>(h.set(t,{id:t,key:i,node:y,activatorNode:_,data:T}),()=>{const U=h.get(t);U&&U.key===i&&h.delete(t)}),[h,t]);const D=x.useMemo(()=>({role:w,tabIndex:C,"aria-disabled":r,"aria-pressed":k&&w===mg?!0:void 0,"aria-roledescription":b,"aria-describedby":f.draggable}),[r,w,C,k,b,f.draggable]);return{active:l,activatorEvent:a,activeNodeRect:c,attributes:D,isDragging:k,listeners:r?void 0:R,node:y,over:g,setNodeRef:S,setActivatorNodeRef:j,transform:v}}function zx(){return x.useContext(Fx)}const SR="Droppable",CR={timeout:25};function Ux(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:s}=e;const i=fa(SR),{active:o,dispatch:a,over:l,measureDroppableContainers:c}=x.useContext(ha),f=x.useRef({disabled:n}),h=x.useRef(!1),g=x.useRef(null),w=x.useRef(null),{disabled:b,updateMeasurementsFor:C,timeout:k}={...CR,...s},v=Uo(C??r),y=x.useCallback(()=>{if(!h.current){h.current=!0;return}w.current!=null&&clearTimeout(w.current),w.current=setTimeout(()=>{c(Array.isArray(v.current)?v.current:[v.current]),w.current=null},k)},[k]),S=Lu({callback:y,disabled:b||!o}),_=x.useCallback((D,U)=>{S&&(U&&(S.unobserve(U),h.current=!1),D&&S.observe(D))},[S]),[j,R]=Vl(_),T=Uo(t);return x.useEffect(()=>{!S||!j.current||(S.disconnect(),h.current=!1,S.observe(j.current))},[j,S]),x.useEffect(()=>(a({type:He.RegisterDroppable,element:{id:r,key:i,disabled:n,node:j,rect:g,data:T}}),()=>a({type:He.UnregisterDroppable,key:i,id:r})),[r]),x.useEffect(()=>{n!==f.current.disabled&&(a({type:He.SetDroppableDisabled,id:r,key:i,disabled:n}),f.current.disabled=n)},[r,i,n,a]),{active:o,rect:g,isOver:(l==null?void 0:l.id)===r,node:j,over:l,setNodeRef:R}}function kR(e){let{animation:t,children:n}=e;const[r,s]=x.useState(null),[i,o]=x.useState(null),a=Ql(n);return!n&&!r&&a&&s(a),fn(()=>{if(!i)return;const l=r==null?void 0:r.key,c=r==null?void 0:r.props.id;if(l==null||c==null){s(null);return}Promise.resolve(t(c,i)).then(()=>{s(null)})},[t,r,i]),we.createElement(we.Fragment,null,n,r?x.cloneElement(r,{ref:o}):null)}const ER={x:0,y:0,scaleX:1,scaleY:1};function _R(e){let{children:t}=e;return we.createElement(ha.Provider,{value:Ix},we.createElement(Au.Provider,{value:ER},t))}const jR={position:"fixed",touchAction:"none"},NR=e=>Ou(e)?"transform 250ms ease":void 0,RR=x.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:s,children:i,className:o,rect:a,style:l,transform:c,transition:f=NR}=e;if(!a)return null;const h=s?c:{...c,scaleX:1,scaleY:1},g={...jR,width:a.width,height:a.height,top:a.top,left:a.left,transform:Ar.Transform.toString(h),transformOrigin:s&&r?bN(r,a):void 0,transition:typeof f=="function"?f(r):f,...l};return we.createElement(n,{className:o,style:g,ref:t},i)}),PR=e=>t=>{let{active:n,dragOverlay:r}=t;const s={},{styles:i,className:o}=e;if(i!=null&&i.active)for(const[a,l]of Object.entries(i.active))l!==void 0&&(s[a]=n.node.style.getPropertyValue(a),n.node.style.setProperty(a,l));if(i!=null&&i.dragOverlay)for(const[a,l]of Object.entries(i.dragOverlay))l!==void 0&&r.node.style.setProperty(a,l);return o!=null&&o.active&&n.node.classList.add(o.active),o!=null&&o.dragOverlay&&r.node.classList.add(o.dragOverlay),function(){for(const[l,c]of Object.entries(s))n.node.style.setProperty(l,c);o!=null&&o.active&&n.node.classList.remove(o.active)}},TR=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:Ar.Transform.toString(t)},{transform:Ar.Transform.toString(n)}]},OR={duration:250,easing:"ease",keyframes:TR,sideEffects:PR({styles:{active:{opacity:"0"}}})};function DR(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:s}=e;return Tu((i,o)=>{if(t===null)return;const a=n.get(i);if(!a)return;const l=a.node.current;if(!l)return;const c=Ax(o);if(!c)return;const{transform:f}=wt(o).getComputedStyle(o),h=Ex(f);if(!h)return;const g=typeof t=="function"?t:LR(t);return Ox(l,s.draggable.measure),g({active:{id:i,data:a.data,node:l,rect:s.draggable.measure(l)},draggableNodes:n,dragOverlay:{node:o,rect:s.dragOverlay.measure(c)},droppableContainers:r,measuringConfiguration:s,transform:h})})}function LR(e){const{duration:t,easing:n,sideEffects:r,keyframes:s}={...OR,...e};return i=>{let{active:o,dragOverlay:a,transform:l,...c}=i;if(!t)return;const f={x:a.rect.left-o.rect.left,y:a.rect.top-o.rect.top},h={scaleX:l.scaleX!==1?o.rect.width*l.scaleX/a.rect.width:1,scaleY:l.scaleY!==1?o.rect.height*l.scaleY/a.rect.height:1},g={x:l.x-f.x,y:l.y-f.y,...h},w=s({...c,active:o,dragOverlay:a,transform:{initial:l,final:g}}),[b]=w,C=w[w.length-1];if(JSON.stringify(b)===JSON.stringify(C))return;const k=r==null?void 0:r({active:o,dragOverlay:a,...c}),v=a.node.animate(w,{duration:t,easing:n,fill:"forwards"});return new Promise(y=>{v.onfinish=()=>{k==null||k(),y()}})}}let gg=0;function AR(e){return x.useMemo(()=>{if(e!=null)return gg++,gg},[e])}const IR=we.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:s,transition:i,modifiers:o,wrapperElement:a="div",className:l,zIndex:c=999}=e;const{activatorEvent:f,active:h,activeNodeRect:g,containerNodeRect:w,draggableNodes:b,droppableContainers:C,dragOverlay:k,over:v,measuringConfiguration:y,scrollableAncestors:S,scrollableAncestorRects:_,windowRect:j}=zx(),R=x.useContext(Au),T=AR(h==null?void 0:h.id),D=Mx(o,{activatorEvent:f,active:h,activeNodeRect:g,containerNodeRect:w,draggingNodeRect:k.rect,over:v,overlayNodeRect:k.rect,scrollableAncestors:S,scrollableAncestorRects:_,transform:R,windowRect:j}),U=$h(g),I=DR({config:r,draggableNodes:b,droppableContainers:C,measuringConfiguration:y}),L=U?k.setRef:void 0;return we.createElement(_R,null,we.createElement(kR,{animation:I},h&&T?we.createElement(RR,{key:T,id:h.id,ref:L,as:a,activatorEvent:f,adjustScale:t,className:l,transition:i,rect:U,style:{zIndex:c,...s},transform:D},n):null))});function $x(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function FR(e,t){return e.reduce((n,r,s)=>{const i=t.get(r);return i&&(n[s]=i),n},Array(e.length))}function Va(e){return e!==null&&e>=0}function MR(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function zR(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Bx=e=>{let{rects:t,activeIndex:n,overIndex:r,index:s}=e;const i=$x(t,r,n),o=t[s],a=i[s];return!a||!o?null:{x:a.left-o.left,y:a.top-o.top,scaleX:a.width/o.width,scaleY:a.height/o.height}},Qa={scaleX:1,scaleY:1},UR=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:s,rects:i,overIndex:o}=e;const a=(t=i[n])!=null?t:r;if(!a)return null;if(s===n){const c=i[o];return c?{x:0,y:n<o?c.top+c.height-(a.top+a.height):c.top-a.top,...Qa}:null}const l=$R(i,s,n);return s>n&&s<=o?{x:0,y:-a.height-l,...Qa}:s<n&&s>=o?{x:0,y:a.height+l,...Qa}:{x:0,y:0,...Qa}};function $R(e,t,n){const r=e[t],s=e[t-1],i=e[t+1];return r?n<t?s?r.top-(s.top+s.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):s?r.top-(s.top+s.height):0:0}const Hx="Sortable",Wx=we.createContext({activeIndex:-1,containerId:Hx,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Bx,disabled:{draggable:!1,droppable:!1}});function BR(e){let{children:t,id:n,items:r,strategy:s=Bx,disabled:i=!1}=e;const{active:o,dragOverlay:a,droppableRects:l,over:c,measureDroppableContainers:f}=zx(),h=fa(Hx,n),g=a.rect!==null,w=x.useMemo(()=>r.map(R=>typeof R=="object"&&"id"in R?R.id:R),[r]),b=o!=null,C=o?w.indexOf(o.id):-1,k=c?w.indexOf(c.id):-1,v=x.useRef(w),y=!MR(w,v.current),S=k!==-1&&C===-1||y,_=zR(i);fn(()=>{y&&b&&f(w)},[y,w,b,f]),x.useEffect(()=>{v.current=w},[w]);const j=x.useMemo(()=>({activeIndex:C,containerId:h,disabled:_,disableTransforms:S,items:w,overIndex:k,useDragOverlay:g,sortedRects:FR(w,l),strategy:s}),[C,h,_.draggable,_.droppable,S,w,k,l,g,s]);return we.createElement(Wx.Provider,{value:j},t)}const HR=e=>{let{id:t,items:n,activeIndex:r,overIndex:s}=e;return $x(n,r,s).indexOf(t)},WR=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:s,items:i,newIndex:o,previousItems:a,previousContainerId:l,transition:c}=e;return!c||!r||a!==i&&s===o?!1:n?!0:o!==s&&t===l},qR={duration:200,easing:"ease"},qx="transform",VR=Ar.Transition.toString({property:qx,duration:0,easing:"linear"}),QR={roleDescription:"sortable"};function KR(e){let{disabled:t,index:n,node:r,rect:s}=e;const[i,o]=x.useState(null),a=x.useRef(n);return fn(()=>{if(!t&&n!==a.current&&r.current){const l=s.current;if(l){const c=Di(r.current,{ignoreTransform:!0}),f={x:l.left-c.left,y:l.top-c.top,scaleX:l.width/c.width,scaleY:l.height/c.height};(f.x||f.y)&&o(f)}}n!==a.current&&(a.current=n)},[t,n,r,s]),x.useEffect(()=>{i&&o(null)},[i]),i}function GR(e){let{animateLayoutChanges:t=WR,attributes:n,disabled:r,data:s,getNewIndex:i=HR,id:o,strategy:a,resizeObserverConfig:l,transition:c=qR}=e;const{items:f,containerId:h,activeIndex:g,disabled:w,disableTransforms:b,sortedRects:C,overIndex:k,useDragOverlay:v,strategy:y}=x.useContext(Wx),S=XR(r,w),_=f.indexOf(o),j=x.useMemo(()=>({sortable:{containerId:h,index:_,items:f},...s}),[h,s,_,f]),R=x.useMemo(()=>f.slice(f.indexOf(o)),[f,o]),{rect:T,node:D,isOver:U,setNodeRef:I}=Ux({id:o,data:j,disabled:S.droppable,resizeObserverConfig:{updateMeasurementsFor:R,...l}}),{active:L,activatorEvent:z,activeNodeRect:O,attributes:A,setNodeRef:W,listeners:Y,isDragging:q,over:M,setActivatorNodeRef:$,transform:Q}=bR({id:o,data:j,attributes:{...QR,...n},disabled:S.draggable}),Z=oN(I,W),X=!!L,me=X&&!b&&Va(g)&&Va(k),ce=!v&&q,le=ce&&me?Q:null,Ve=me?le??(a??y)({rects:C,activeNodeRect:O,activeIndex:g,overIndex:k,index:_}):null,Qe=Va(g)&&Va(k)?i({id:o,items:f,activeIndex:g,overIndex:k}):_,G=L==null?void 0:L.id,ne=x.useRef({activeId:G,items:f,newIndex:Qe,containerId:h}),xe=f!==ne.current.items,Se=t({active:L,containerId:h,isDragging:q,isSorting:X,id:o,index:_,items:f,newIndex:ne.current.newIndex,previousItems:ne.current.items,previousContainerId:ne.current.containerId,transition:c,wasDragging:ne.current.activeId!=null}),On=KR({disabled:!Se,index:_,node:D,rect:T});return x.useEffect(()=>{X&&ne.current.newIndex!==Qe&&(ne.current.newIndex=Qe),h!==ne.current.containerId&&(ne.current.containerId=h),f!==ne.current.items&&(ne.current.items=f)},[X,Qe,h,f]),x.useEffect(()=>{if(G===ne.current.activeId)return;if(G!=null&&ne.current.activeId==null){ne.current.activeId=G;return}const Dn=setTimeout(()=>{ne.current.activeId=G},50);return()=>clearTimeout(Dn)},[G]),{active:L,activeIndex:g,attributes:A,data:j,rect:T,index:_,newIndex:Qe,items:f,isOver:U,isSorting:X,isDragging:q,listeners:Y,node:D,overIndex:k,over:M,setNodeRef:Z,setActivatorNodeRef:$,setDroppableNodeRef:I,setDraggableNodeRef:W,transform:On??Ve,transition:Jt()};function Jt(){if(On||xe&&ne.current.newIndex===_)return VR;if(!(ce&&!Ou(z)||!c)&&(X||Se))return Ar.Transition.toString({...c,property:qx})}}function XR(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}function Yl(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const YR=[fe.Down,fe.Right,fe.Up,fe.Left],JR=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:s,droppableContainers:i,over:o,scrollableAncestors:a}}=t;if(YR.includes(e.code)){if(e.preventDefault(),!n||!r)return;const l=[];i.getEnabled().forEach(h=>{if(!h||h!=null&&h.disabled)return;const g=s.get(h.id);if(g)switch(e.code){case fe.Down:r.top<g.top&&l.push(h);break;case fe.Up:r.top>g.top&&l.push(h);break;case fe.Left:r.left>g.left&&l.push(h);break;case fe.Right:r.left<g.left&&l.push(h);break}});const c=kN({collisionRect:r,droppableRects:s,droppableContainers:l});let f=Cx(c,"id");if(f===(o==null?void 0:o.id)&&c.length>1&&(f=c[1].id),f!=null){const h=i.get(n.id),g=i.get(f),w=g?s.get(g.id):null,b=g==null?void 0:g.node.current;if(b&&w&&h&&g){const k=Du(b).some((R,T)=>a[T]!==R),v=Vx(h,g),y=ZR(h,g),S=k||!v?{x:0,y:0}:{x:y?r.width-w.width:0,y:y?r.height-w.height:0},_={x:w.left,y:w.top};return S.x&&S.y?_:$o(_,S)}}}};function Vx(e,t){return!Yl(e)||!Yl(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function ZR(e,t){return!Yl(e)||!Yl(t)||!Vx(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const e2=[{key:"google_h1",label:"Google H1"},{key:"google_desc",label:"Google Desc"},{key:"meta_primary",label:"Meta Primary"},{key:"lp_h1",label:"Landing H1"},{key:"email_subject",label:"Email Subject"},{key:"cta",label:"CTA"}],t2={high:"border border-rose-200 bg-rose-50 text-rose-700",medium:"border border-amber-200 bg-amber-50 text-amber-700",low:"border border-emerald-200 bg-emerald-50 text-emerald-700"},n2={compact:"gap-2 p-3",comfortable:"gap-3 p-4",cozy:"gap-4 p-5"},r2={compact:"text-sm",comfortable:"text-base",cozy:"text-base"},s2={compact:"text-[11px]",comfortable:"text-xs",cozy:"text-sm"},i2=({story:e,epicId:t,onSelect:n,density:r="comfortable",isHighlighted:s=!1})=>{const{attributes:i,listeners:o,setNodeRef:a,transform:l,transition:c,isDragging:f}=GR({id:e.id,data:{epicId:t}}),h=e.derived_fields,g=(h==null?void 0:h.meta)??{},w=(h==null?void 0:h.assets)??{},b=(h==null?void 0:h.limits)??{},C=(h==null?void 0:h.char_counts)??{},k=new Set((h==null?void 0:h.over_limit_fields)??[]),v=w.hook??"",y=w.cta??"",R={transform:`${Ar.Transform.toString(l)??""}${s&&!f?" scale(1.01)":""}`.trim()||void 0,transition:c},T=()=>e2.filter(({key:L})=>w[L]).filter(({key:L})=>L!=="hook"&&L!=="cta").map(({key:L,label:z})=>{const O=w[L];if(!O)return null;const A=b[L],W=C[L]??(typeof O=="string"?O.length:0),Y=k.has(L);return d.jsxs("div",{className:`flex min-w-0 items-center gap-2 rounded-full border px-3 py-1 text-xs font-medium transition ${Y?"border-rose-200 bg-rose-50 text-rose-700":"border-stone/20 bg-frost text-ink/70"}`,title:typeof O=="string"?O:void 0,children:[d.jsxs("span",{className:"truncate",children:[z,":"]}),d.jsxs("span",{className:"truncate text-ink/60",children:['"',o2(O),'"']}),A!==void 0&&d.jsxs("span",{className:`ml-auto inline-flex shrink-0 items-center rounded-full px-2 py-0.5 text-[10px] font-semibold ${Y?"bg-rose-100 text-rose-700":"bg-stone/20 text-stone"}`,children:[W,"/",A]})]},L)}),D=()=>{f||n==null||n(e)},I=f?"ring-2 ring-accent/40 opacity-80 z-20 bg-white":s?"border-emerald-400 bg-emerald-50/40 shadow-[0_0_25px_rgba(52,211,153,0.35)] ring-1 ring-emerald-400 z-10":"border-stone/20 bg-white/95 hover:border-accent/30";return d.jsxs("div",{ref:a,style:R,onClick:D,role:"button",tabIndex:0,onKeyDown:L=>{(L.key==="Enter"||L.key===" ")&&(L.preventDefault(),D())},className:`flex flex-col rounded-2xl border text-ink shadow-deep transition-all duration-1000 ease-out ${n2[r]} ${I} focus:outline-none focus-visible:ring-2 focus-visible:ring-accent/30`,children:[d.jsxs("div",{className:"flex items-start justify-between gap-3",children:[d.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.var_id&&d.jsx("span",{className:"rounded-md bg-pastel-mint/80 px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide text-ink/80",children:g.var_id}),d.jsx("span",{className:`rounded-full px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide ${t2[e.priority]}`,children:e.priority}),g.angle_name&&d.jsx("span",{className:"rounded-full border border-accent/20 bg-pastel-lilac/80 px-2 py-0.5 text-[11px] font-medium text-accent/80",children:g.angle_name})]}),d.jsx("button",{type:"button",className:"flex h-8 w-8 items-center justify-center rounded-xl border border-stone/20 bg-white text-stone transition hover:border-accent/30 active:cursor-grabbing","aria-label":"Drag story",onClick:L=>{L.stopPropagation()},...i,...o,children:d.jsx(bE,{className:"text-current"})})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("div",{className:`font-semibold text-ink ${r2[r]}`,style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},title:v||void 0,children:v||"No hook provided"}),d.jsx("div",{className:`flex flex-wrap ${r==="compact"?"gap-1.5":"gap-2"}`,children:T()})]}),y&&d.jsxs("div",{className:`mt-2 flex items-center justify-between ${s2[r]} text-stone`,children:[d.jsx("span",{className:"uppercase tracking-wide text-stone/70",children:"CTA"}),d.jsx("span",{className:"truncate font-medium text-ink",title:y,children:y})]})]})},o2=e=>e?e.length>20?`${e.slice(0,20)}...`:e:"",a2=we.memo(i2);var Qx=Symbol.for("immer-nothing"),vg=Symbol.for("immer-draftable"),At=Symbol.for("immer-state");function ln(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var xi=Object.getPrototypeOf;function wi(e){return!!e&&!!e[At]}function ks(e){var t;return e?Kx(e)||Array.isArray(e)||!!e[vg]||!!((t=e.constructor)!=null&&t[vg])||pa(e)||Fu(e):!1}var l2=Object.prototype.constructor.toString();function Kx(e){if(!e||typeof e!="object")return!1;const t=xi(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===l2}function Jl(e,t){Iu(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function Iu(e){const t=e[At];return t?t.type_:Array.isArray(e)?1:pa(e)?2:Fu(e)?3:0}function lf(e,t){return Iu(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Gx(e,t,n){const r=Iu(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function u2(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function pa(e){return e instanceof Map}function Fu(e){return e instanceof Set}function Gr(e){return e.copy_||e.base_}function uf(e,t){if(pa(e))return new Map(e);if(Fu(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Kx(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[At];let s=Reflect.ownKeys(r);for(let i=0;i<s.length;i++){const o=s[i],a=r[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[o]})}return Object.create(xi(e),r)}else{const r=xi(e);if(r!==null&&n)return{...e};const s=Object.create(r);return Object.assign(s,e)}}function Bh(e,t=!1){return Mu(e)||wi(e)||!ks(e)||(Iu(e)>1&&Object.defineProperties(e,{set:{value:Ka},add:{value:Ka},clear:{value:Ka},delete:{value:Ka}}),Object.freeze(e),t&&Object.values(e).forEach(n=>Bh(n,!0))),e}function Ka(){ln(2)}function Mu(e){return Object.isFrozen(e)}var c2={};function Es(e){const t=c2[e];return t||ln(0,e),t}var Ho;function Xx(){return Ho}function d2(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function yg(e,t){t&&(Es("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function cf(e){df(e),e.drafts_.forEach(f2),e.drafts_=null}function df(e){e===Ho&&(Ho=e.parent_)}function xg(e){return Ho=d2(Ho,e)}function f2(e){const t=e[At];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function wg(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[At].modified_&&(cf(t),ln(4)),ks(e)&&(e=Zl(t,e),t.parent_||eu(t,e)),t.patches_&&Es("Patches").generateReplacementPatches_(n[At].base_,e,t.patches_,t.inversePatches_)):e=Zl(t,n,[]),cf(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Qx?e:void 0}function Zl(e,t,n){if(Mu(t))return t;const r=t[At];if(!r)return Jl(t,(s,i)=>bg(e,r,t,s,i,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return eu(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let i=s,o=!1;r.type_===3&&(i=new Set(s),s.clear(),o=!0),Jl(i,(a,l)=>bg(e,r,s,a,l,n,o)),eu(e,s,!1),n&&e.patches_&&Es("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function bg(e,t,n,r,s,i,o){if(wi(s)){const a=i&&t&&t.type_!==3&&!lf(t.assigned_,r)?i.concat(r):void 0,l=Zl(e,s,a);if(Gx(n,r,l),wi(l))e.canAutoFreeze_=!1;else return}else o&&n.add(s);if(ks(s)&&!Mu(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Zl(e,s),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(pa(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&eu(e,s)}}function eu(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Bh(t,n)}function h2(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Xx(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,i=Hh;n&&(s=[r],i=Wo);const{revoke:o,proxy:a}=Proxy.revocable(s,i);return r.draft_=a,r.revoke_=o,a}var Hh={get(e,t){if(t===At)return e;const n=Gr(e);if(!lf(n,t))return p2(e,n,t);const r=n[t];return e.finalized_||!ks(r)?r:r===Fc(e.base_,t)?(Mc(e),e.copy_[t]=hf(r,e)):r},has(e,t){return t in Gr(e)},ownKeys(e){return Reflect.ownKeys(Gr(e))},set(e,t,n){const r=Yx(Gr(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const s=Fc(Gr(e),t),i=s==null?void 0:s[At];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(u2(n,s)&&(n!==void 0||lf(e.base_,t)))return!0;Mc(e),ff(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Fc(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Mc(e),ff(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Gr(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){ln(11)},getPrototypeOf(e){return xi(e.base_)},setPrototypeOf(){ln(12)}},Wo={};Jl(Hh,(e,t)=>{Wo[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Wo.deleteProperty=function(e,t){return Wo.set.call(this,e,t,void 0)};Wo.set=function(e,t,n){return Hh.set.call(this,e[0],t,n,e[0])};function Fc(e,t){const n=e[At];return(n?Gr(n):e)[t]}function p2(e,t,n){var s;const r=Yx(t,n);return r?"value"in r?r.value:(s=r.get)==null?void 0:s.call(e.draft_):void 0}function Yx(e,t){if(!(t in e))return;let n=xi(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=xi(n)}}function ff(e){e.modified_||(e.modified_=!0,e.parent_&&ff(e.parent_))}function Mc(e){e.copy_||(e.copy_=uf(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var m2=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const o=this;return function(l=i,...c){return o.produce(l,f=>n.call(this,f,...c))}}typeof n!="function"&&ln(6),r!==void 0&&typeof r!="function"&&ln(7);let s;if(ks(t)){const i=xg(this),o=hf(t,void 0);let a=!0;try{s=n(o),a=!1}finally{a?cf(i):df(i)}return yg(i,r),wg(s,i)}else if(!t||typeof t!="object"){if(s=n(t),s===void 0&&(s=t),s===Qx&&(s=void 0),this.autoFreeze_&&Bh(s,!0),r){const i=[],o=[];Es("Patches").generateReplacementPatches_(t,s,i,o),r(i,o)}return s}else ln(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...a)=>this.produceWithPatches(o,l=>t(l,...a));let r,s;return[this.produce(t,n,(o,a)=>{r=o,s=a}),r,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){ks(e)||ln(8),wi(e)&&(e=g2(e));const t=xg(this),n=hf(e,void 0);return n[At].isManual_=!0,df(t),n}finishDraft(e,t){const n=e&&e[At];(!n||!n.isManual_)&&ln(9);const{scope_:r}=n;return yg(r,t),wg(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const s=t[n];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}n>-1&&(t=t.slice(n+1));const r=Es("Patches").applyPatches_;return wi(e)?r(e,t):this.produce(e,s=>r(s,t))}};function hf(e,t){const n=pa(e)?Es("MapSet").proxyMap_(e,t):Fu(e)?Es("MapSet").proxySet_(e,t):h2(e,t);return(t?t.scope_:Xx()).drafts_.push(n),n}function g2(e){return wi(e)||ln(10,e),Jx(e)}function Jx(e){if(!ks(e)||Mu(e))return e;const t=e[At];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=uf(e,t.scope_.immer_.useStrictShallowCopy_)}else n=uf(e,!0);return Jl(n,(r,s)=>{Gx(n,r,Jx(s))}),t&&(t.finalized_=!1),n}var v2=new m2,zu=v2.produce;const y2=async e=>{await Mt();const{storyId:t,...n}=e;return(await ct.patch(`/user-stories/${t}`,n)).data.data},x2=async e=>{await Mt();const{projectId:t,...n}=e;await ct.post("/user-stories/reorder",n)},w2=async e=>(await Mt(),(await ct.post(`/epics/${e.epicId}/generate-story`,{},{timeout:12e4})).data.data),b2=async e=>(await Mt(),(await ct.post(`/user-stories/${e.storyId}/restore`)).data.data),S2=100,C2=100,Wh=(e,t)=>{for(const n of e.epics){const r=n.user_stories.findIndex(s=>s.id===t);if(r!==-1)return{epic:n,story:n.user_stories[r],storyIndex:r}}return null},Sg=e=>{let t=C2;e.user_stories.forEach(n=>{n.position=t,t+=S2})},k2=e=>{const t=Tn(),n=lt.project(e);return Nn({mutationFn:b2,onMutate:async r=>(await t.cancelQueries({queryKey:n}),{previousProject:t.getQueryData(n)}),onError:(r,s,i)=>{i!=null&&i.previousProject&&t.setQueryData(n,i.previousProject)},onSuccess:r=>{const s=t.getQueryData(n);if(!s)return;const i=zu(s,o=>{const a=Wh(o,r.id);a&&Object.assign(a.story,r)});t.setQueryData(n,i)},onSettled:()=>{t.invalidateQueries({queryKey:n})}})},E2=e=>{const t=Tn(),n=lt.project(e),{showToast:r}=Rs();return Nn({mutationFn:y2,onMutate:async s=>{await t.cancelQueries({queryKey:n});const i=t.getQueryData(n);if(!i)return;const o=zu(i,a=>{const l=Wh(a,s.storyId);if(l){const{storyId:c,...f}=s,{assets:h,reasoning:g,meta:w,limits:b,...C}=f;Object.assign(l.story,{...C,is_ai_generated:!1});const k=l.story.derived_fields??{meta:{},assets:{},reasoning:{},limits:{},char_counts:{},over_limit_fields:[],over_limit_count:0};h&&(k.assets={...k.assets,...h},k.char_counts={...k.char_counts,...Object.fromEntries(Object.entries(h).map(([y,S])=>[y,S?S.length:0]))}),g&&(k.reasoning={...k.reasoning,...g}),w&&(k.meta={...k.meta,...w}),b&&(k.limits={...k.limits,...b});const v=[];Object.entries(k.assets??{}).forEach(([y,S])=>{var R;const _=(R=k.limits)==null?void 0:R[y],j=typeof S=="string"?S.length:void 0;typeof _=="number"&&typeof j=="number"&&j>_&&v.push(y)}),k.over_limit_fields=v,k.over_limit_count=v.length,l.story.derived_fields=k}});return t.setQueryData(n,o),{previousProject:i}},onError:(s,i,o)=>{var l,c;o!=null&&o.previousProject&&t.setQueryData(n,o.previousProject);let a="Failed to save changes.";if(s instanceof ua){const f=(c=(l=s.response)==null?void 0:l.data)==null?void 0:c.message;typeof f=="string"&&(a=f)}r({type:"error",message:a})},onSettled:()=>{t.invalidateQueries({queryKey:n})}})},_2=()=>{const e=Tn();return Nn({mutationFn:x2,onMutate:async t=>{const n=lt.project(t.projectId);await e.cancelQueries({queryKey:n});const r=e.getQueryData(n);if(!r)return;const s=zu(r,i=>{const o=Wh(i,t.storyId);if(!o)return;const[a]=o.epic.user_stories.splice(o.storyIndex,1);if(!a)return;a.is_ai_generated=!1,a.epic_id=t.targetEpicId;const l=i.epics.find(g=>g.id===t.targetEpicId);if(!l)return;const c=t.afterStoryId?l.user_stories.findIndex(g=>g.id===t.afterStoryId):-1,f=t.beforeStoryId?l.user_stories.findIndex(g=>g.id===t.beforeStoryId):-1;let h=0;t.afterStoryId&&c!==-1?h=c+1:t.beforeStoryId&&f!==-1?h=f:h=0,l.user_stories.splice(h,0,a),Sg(l),o.epic.id!==l.id&&Sg(o.epic)});return e.setQueryData(n,s),{previousProject:r,projectQueryKey:n}},onError:(t,n,r)=>{r!=null&&r.previousProject&&r.projectQueryKey&&e.setQueryData(r.projectQueryKey,r.previousProject)},onSettled:(t,n,r,s)=>{s!=null&&s.projectQueryKey&&e.invalidateQueries({queryKey:s.projectQueryKey})}})},j2=e=>{const t=Tn(),n=lt.project(e),{showToast:r}=Rs();return Nn({mutationFn:w2,onSuccess:(s,i)=>{const o=t.getQueryData(n);if(o&&(i!=null&&i.epicId)){const a=zu(o,l=>{const c=l.epics.find(f=>f.id===i.epicId);c&&c.user_stories.push(s)});t.setQueryData(n,a)}t.invalidateQueries({queryKey:n})},onError:s=>{var o,a;let i="Failed to generate a new story.";if(s instanceof ua){const l=(a=(o=s.response)==null?void 0:o.data)==null?void 0:a.message;typeof l=="string"&&(i=l)}r({type:"error",message:i})}})};let zc=null;const N2=()=>(zc||(zc=gE(()=>import("./confetti.module-BUXTfpA_.js"),[]).then(e=>e.default??e)),zc),Zx=async e=>{const t=(e==null?void 0:e.isCancelled)??(()=>!1),n=await N2();if(t())return;const r=200,s={origin:{y:.7}},i=(o,a)=>{n({...s,...a,particleCount:Math.floor(r*o)})};i(.25,{spread:26,startVelocity:55}),i(.2,{spread:60}),i(.35,{spread:100,decay:.91,scalar:.8}),i(.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2}),i(.1,{spread:120,startVelocity:45})},R2=500,P2=2500,T2=({projectId:e,epic:t,onCardSelect:n,density:r="comfortable"})=>{const{setNodeRef:s}=Ux({id:t.id}),i=x.useRef(null),o=x.useRef(t.user_stories.length),[a,l]=x.useState(null),c=x.useRef(!1),f=x.useRef(null),h=x.useRef(null),g=j2(e);x.useEffect(()=>{var b;if(t.user_stories.length>o.current){const C=(b=i.current)==null?void 0:b.lastElementChild,k=t.user_stories[t.user_stories.length-1];if(C&&(C.scrollIntoView({behavior:"smooth",block:"nearest"}),c.current)){k&&(l(k.id),h.current&&clearTimeout(h.current),h.current=window.setTimeout(()=>{l(null),h.current=null},P2));const v=window.setTimeout(()=>{Zx(),c.current=!1,f.current=null},R2);f.current=v}}return o.current=t.user_stories.length,()=>{f.current&&(clearTimeout(f.current),f.current=null),h.current&&(clearTimeout(h.current),h.current=null)}},[t.user_stories.length]);const w=()=>{c.current=!0,g.mutate({epicId:t.id},{onError:()=>{c.current=!1}})};return d.jsxs("div",{ref:s,className:`flex flex-col rounded-3xl border border-stone/20 bg-white/90 p-5 text-ink shadow-deep ${r==="compact"?"gap-3":r==="cozy"?"gap-5":"gap-4"}`,children:[d.jsx("div",{children:d.jsx("h3",{className:"font-display text-xl font-semibold text-ink",children:t.title})}),d.jsx(BR,{id:t.id,items:t.user_stories.map(b=>b.id),strategy:UR,children:d.jsx("div",{ref:i,className:r==="compact"?"space-y-2":r==="cozy"?"space-y-4":"space-y-3",children:t.user_stories.map(b=>d.jsx(a2,{story:b,epicId:t.id,onSelect:n,density:r,isHighlighted:b.id===a},b.id))})}),t.user_stories.length<5&&d.jsx("button",{type:"button",onClick:w,disabled:g.isPending,className:"mt-2 inline-flex items-center justify-center rounded-xl border border-accent/40 bg-accent/10 px-3 py-2 text-sm font-semibold text-accent transition hover:bg-accent/20 disabled:cursor-not-allowed disabled:opacity-60",children:g.isPending?"Generating...":"Generate another"})]})},O2=we.memo(T2),pf=(e,t)=>{for(const n of e){const r=n.user_stories.findIndex(s=>s.id===t);if(r!==-1)return{story:n.user_stories[r],epic:n,index:r}}return null},D2=(e,t)=>{var k;const{active:n,over:r}=e;if(!r)return null;const s=String(n.id),i=pf(t.epics,s);if(!i)return null;const o=(k=r.data.current)==null?void 0:k.sortable,a=(typeof(o==null?void 0:o.containerId)=="string"?o.containerId:void 0)??String(r.id),l=t.epics.find(v=>v.id===a);if(!l)return null;const c=l.user_stories.map(v=>v.id),f=c.filter(v=>v!==s),h=a===i.epic.id;if(String(r.id)===s)return null;const g=o&&c.includes(String(r.id));let w=f.length;if(g){const v=String(r.id),y=f.indexOf(v),S=c.indexOf(v);y!==-1&&S!==-1&&(h?w=i.index<S?y+1:y:w=y)}else f.length===0&&(w=0);if(w<0?w=0:w>f.length&&(w=f.length),h){const v=i.epic.user_stories.map(S=>S.id),y=[...f];if(y.splice(w,0,s),JSON.stringify(v)===JSON.stringify(y))return null;f.splice(0,f.length,...y)}else f.splice(w,0,s);const b=f[w+1]??null,C=f[w-1]??null;return{storyId:s,targetEpicId:a,beforeStoryId:b,afterStoryId:C}},L2={high:"border border-rose-200 bg-rose-50 text-rose-700",medium:"border border-amber-200 bg-amber-50 text-amber-700",low:"border border-emerald-200 bg-emerald-50 text-emerald-700"},A2=({project:e,onCardSelect:t,visibleEpics:n,density:r="comfortable",onManualSort:s})=>{var C,k,v,y;const[i,o]=x.useState(null),a=_2(),l=x.useRef(null),c=wN(rg(Uh,{activationConstraint:{distance:6}}),rg(Mh,{coordinateGetter:JR})),f=S=>{const _=String(S.active.id),j=pf(e.epics,_);j&&o(j.story)},h=S=>{var T;const{over:_,active:j}=S;if(!_)return;const R=(T=_.data.current)==null?void 0:T.sortable;R&&typeof R.containerId=="string"&&String(_.id)!==String(j.id)&&(l.current={id:String(_.id),containerId:R.containerId,index:typeof R.index=="number"?R.index:null})},g=S=>{var T,D,U,I,L;o(null),console.log("[drag:end] raw event",{overId:(T=S.over)==null?void 0:T.id,overData:(U=(D=S.over)==null?void 0:D.data.current)==null?void 0:U.sortable,lastFallback:l.current});let _=S;if(!((L=(I=S.over)==null?void 0:I.data.current)!=null&&L.sortable)||typeof S.over.data.current.sortable.containerId!="string"){const z=l.current;z&&(_={...S,over:{id:z.id,data:{current:{sortable:z.index===null?{containerId:z.containerId}:{containerId:z.containerId,index:z.index}}}}})}const j=D2(_,e);if(console.log("[drag:end] intent + local order",{intent:j,epicOrder:e.epics.map(z=>({epic:z.id,stories:z.user_stories.map(({id:O,position:A})=>({id:O,position:A}))}))}),l.current=null,!j)return;a.mutate({projectId:e.id,...j});const R=pf(e.epics,j.storyId);R&&R.epic.id===j.targetEpicId&&(s==null||s())},w=S=>{o(null),l.current=null},b=n??e.epics;return d.jsxs(yR,{sensors:c,collisionDetection:CN,onDragStart:f,onDragOver:h,onDragEnd:g,onDragCancel:w,children:[b.length===0?d.jsx("div",{className:"mt-10 rounded-2xl border border-stone/20 bg-white/90 p-6 text-center text-sm text-stone shadow-deep",children:"No stories match the current filters."}):d.jsx("div",{className:"mt-8 grid grid-cols-1 items-start gap-6 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:b.map(S=>d.jsx(O2,{projectId:e.id,epic:S,onCardSelect:t,density:r},S.id))}),d.jsx(IR,{children:i?d.jsxs("div",{className:"min-w-[240px] max-w-[280px] rounded-2xl border border-stone/20 bg-white/95 p-4 text-ink shadow-deep ring-2 ring-accent/20",children:[d.jsxs("div",{className:"mb-2 flex items-center gap-2 text-[11px] uppercase tracking-wide text-stone",children:[((k=(C=i.derived_fields)==null?void 0:C.meta)==null?void 0:k.var_id)&&d.jsx("span",{className:"rounded-md bg-pastel-mint/80 px-2 py-0.5 font-semibold text-ink/80",children:i.derived_fields.meta.var_id}),d.jsx("span",{className:`rounded-full px-2 py-0.5 font-semibold ${L2[i.priority]}`,children:i.priority})]}),d.jsx("p",{className:"text-sm font-semibold text-ink",style:{display:"-webkit-box",WebkitLineClamp:1,WebkitBoxOrient:"vertical",overflow:"hidden"},children:((y=(v=i.derived_fields)==null?void 0:v.assets)==null?void 0:y.hook)||"No hook provided"})]}):null})]})},I2=(e,t=!0,n)=>{const[r,s]=x.useState(0),i=x.useRef(0),o=x.useRef(),a=x.useRef(),l=x.useRef(n);return x.useEffect(()=>{const c=e??0;let f=0;c===100?f=100:c>=90?f=99:c>=50?f=98:c>=10?f=95:f=Math.max(c,5);const h=n!==l.current,g=f<i.current;(h||g)&&(s(0),l.current=n),i.current=f},[e,n]),x.useEffect(()=>{if(typeof window>"u"||!t)return;const c=f=>{if(o.current!==void 0){const h=f-o.current;s(g=>{const w=i.current;if(w===100){if(g>=100)return 100;const y=Sj*h;return Math.min(g+y,100)}let C=(w-g)*wj*h;const k=bj*h;C<k&&(C=k);let v=g+C;return v>99&&(v=99),v})}o.current=f,a.current=window.requestAnimationFrame(c)};return a.current=window.requestAnimationFrame(c),()=>{a.current!==void 0&&window.cancelAnimationFrame(a.current),o.current=void 0}},[t]),r},F2={info:{container:"border-accent/30",accent:"bg-accent",message:"text-accent/80"},success:{container:"border-emerald-200",accent:"bg-emerald-400",message:"text-emerald-700"},danger:{container:"border-rose-200",accent:"bg-rose-500",message:"text-rose-700"}},M2={pending:{title:"Queued for generation",description:"We'll start crafting your blueprint momentarily.",tone:"info"},generating:{title:"Generating blueprint",description:"AI is drafting the overall product scope...",tone:"info"},parsing:{title:"Structuring details",description:"Organising epics and user stories from the AI output...",tone:"info"},ready:{title:"Blueprint ready",description:"Drag cards to refine the plan or iterate with AI again.",tone:"success"},failed:{title:"Generation failed",description:"You can try again or tweak your idea before retrying.",tone:"danger"}},Cg={generating:{title:"Thinking through the idea",description:"Gathering requirements and outlining the blueprint."},parsing:{title:"Cleaning up AI output",description:"Validating and normalising epics, stories, and schema suggestions."},ready:{title:"Blueprint ready",description:"Everything is synced. Start prioritising your backlog."},failed:{title:"Generation failed",description:"We hit an error while producing the blueprint."}},z2=({status:e,progress:t,stage:n,message:r,onRetry:s,isRetrying:i=!1,projectId:o})=>{const a=["generating","parsing","ready"].includes(e),l=e==="ready",c=I2(t,a,o);x.useEffect(()=>{if(!l)return;let _=!1;return Zx({isCancelled:()=>_}),()=>{_=!0}},[l]);const f=M2[e],h=n&&Cg[n.toLowerCase()]?Cg[n.toLowerCase()]:void 0,g=h?{title:h.title,description:h.description??f.description,tone:f.tone}:f,w=g.tone,b=F2[w],C=l?100:Math.min(Math.floor(c),99),k=l?100:c,v=l?"border-emerald-500/30 bg-emerald-50/50 shadow-emerald-100 scale-[1.01]":b.container,y=l?"bg-gradient-to-r from-emerald-400 to-teal-400 shadow-[0_0_15px_rgba(52,211,153,0.6)]":b.accent,S=e==="failed"&&typeof s=="function";return d.jsxs("section",{role:"status","aria-live":"polite",className:`surface-panel surface-panel--muted mt-6 px-5 py-6 transition-all duration-500 ${v}`,children:[d.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:`text-xs font-semibold uppercase tracking-[0.3em] transition-colors ${l?"text-emerald-600/80":"text-stone/70"}`,children:l?"COMPLETE":"Blueprint status"}),d.jsx("h2",{className:"font-display text-xl font-semibold text-ink",children:l?"Blueprint successfully created":g.title}),d.jsx("p",{className:"text-sm text-stone",children:g.description})]}),(a||S)&&d.jsxs("div",{className:"flex items-center gap-3",children:[a&&d.jsx("div",{className:`inline-flex items-center gap-2 rounded-full px-4 py-2 text-sm font-semibold shadow-sm transition-all duration-500 ${l?"bg-emerald-100 text-emerald-800":"bg-white/85 text-ink/80"}`,children:l?d.jsxs("span",{className:"flex items-center gap-2 animate-pop",children:[d.jsx(DE,{className:"h-4 w-4"}),"Done"]}):d.jsxs(d.Fragment,{children:[d.jsx("span",{children:"Progress"}),d.jsxs("span",{className:"min-w-[3ch] text-right tabular-nums",children:[C,"%"]})]})}),S&&d.jsx("button",{type:"button",onClick:s,disabled:i,className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-rose-100 bg-white/90 text-rose-600 transition hover:bg-white disabled:cursor-not-allowed disabled:opacity-60","aria-label":i?"Retrying blueprint generation":"Retry blueprint generation",children:d.jsx(_E,{className:`h-5 w-5 ${i?"animate-spin":""}`})})]})]}),a&&d.jsx("div",{className:"mt-5 h-2 w-full overflow-hidden rounded-full bg-stone/20",children:d.jsx("div",{className:`relative h-full rounded-full ${y}`,style:{width:`${k}%`,transition:"none"},children:l&&d.jsx("div",{className:"absolute inset-0 h-full w-full animate-[shimmer_1.5s_infinite]",children:d.jsx("div",{className:"h-full w-1/2 bg-gradient-to-r from-transparent via-white/40 to-transparent skew-x-[-20deg]"})})})}),r&&d.jsx("p",{className:`mt-4 text-sm font-medium ${b.message}`,children:r})]})},U2=({project:e})=>{const t=e.schema_suggestions??[],n=e.telemetry,r=e.metrics,s=t.length>0,i=(n==null?void 0:n.warnings)??{},o=i.trimmed_schemas??0,a=i.trimmed_schema_columns??0,l=i.trimmed_column_tokens??0,c=i.invalid_schema_tokens??0,f=i.dedup_schemas??0,h=(n==null?void 0:n.schema_dropped)??!1,g=h||o>0||f>0||a>0||l>0||c>0,w=r&&typeof r=="object"?[{label:"Total Assets",value:r.assets_total??0,accent:"border-stone/20 bg-white/95"},{label:"High Priority",value:r.high_priority_total??0,accent:"border-rose-100 bg-rose-50 text-rose-700"},{label:"Over Limit",value:r.over_limit_total??0,accent:"border-amber-100 bg-amber-50 text-amber-700"}]:[];return d.jsxs("section",{className:"surface-panel surface-panel--muted flex flex-col gap-6 p-6 text-ink shadow-deep",children:[d.jsxs("header",{children:[d.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-stone/70",children:"Insights"}),d.jsx("h2",{className:"mt-2 font-display text-2xl font-semibold",children:"Persona Snapshot"}),d.jsx("p",{className:"mt-2 text-sm text-stone",children:"A concise view of the target audience for this project: who they are, what they want, and which pains to address across six quick blocks."})]}),w.length>0&&d.jsx("div",{className:"grid gap-4 sm:grid-cols-3",children:w.map(({label:b,value:C,accent:k})=>d.jsxs("div",{className:`rounded-2xl border px-4 py-4 text-center text-ink shadow-sm ${k}`,children:[d.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-stone/70",children:b}),d.jsx("p",{className:"mt-2 text-3xl font-display",children:C})]},b))}),g&&d.jsx("div",{className:"rounded-2xl border border-amber-200 bg-amber-50/90 p-4 text-sm text-amber-900",children:h?d.jsx("p",{children:"Schema suggestions were omitted because the AI output did not pass validation. Try regenerating the blueprint or adjusting your prompt."}):d.jsxs("p",{children:["Some schema suggestions were adjusted by the sanitizer",o>0?` (trimmed ${o})`:"",f>0?` (deduplicated ${f})`:"",a>0?` (columns trimmed ${a})`:"",l>0?` (tokens trimmed ${l})`:"",c>0?` (tokens removed ${c})`:"","."]})}),s?d.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:t.map(b=>{const C={persona_core:"Persona Overview",persona_goals:"Goals & Motivations",persona_pains:"Pains & Frustrations",persona_objections:"Objections & Barriers",persona_triggers:"Purchase Triggers",persona_messaging:"Messaging & Tone"},k=S=>S.replace(/_/g," ").replace(/\s+/g," ").trim().replace(/\b\w/g,_=>_.toUpperCase()),v=C[b.table_name]??k(b.table_name),y=S=>{const _=S.indexOf(":");if(_===-1)return{label:"",text:S.trim()};const j=S.slice(0,_).trim(),R=S.slice(_+1).trim();return{label:k(j),text:R}};return d.jsxs("article",{className:"rounded-2xl border border-stone/20 bg-white/95 p-4 shadow-sm",children:[d.jsxs("header",{className:"flex items-center justify-between",children:[d.jsx("h3",{className:"text-lg font-semibold text-ink",children:v}),d.jsxs("span",{className:"text-xs uppercase tracking-[0.3em] text-stone/70",children:[b.columns.length," ",b.columns.length===1?"column":"columns"]})]}),d.jsx("ul",{className:"mt-4 space-y-2 text-sm text-stone",children:b.columns.map((S,_)=>{const{label:j,text:R}=y(S??"");return d.jsx("li",{className:"rounded-2xl border border-stone/15 bg-frost/80 px-3 py-2",children:j?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"font-semibold text-ink/90",children:j}),R?d.jsxs("span",{children:[": ",R]}):null]}):d.jsx(d.Fragment,{children:R})},`${b.table_name}-${_}`)})})]},b.table_name)})}):d.jsx("p",{className:"text-sm text-stone",children:"Schema suggestions are not available yet. Generate or refresh the blueprint to populate this section."})]})};var qh={exports:{}};/*!
* tabbable 6.3.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var ew=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],tu=ew.join(","),tw=typeof Element>"u",_s=tw?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,nu=!tw&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},qo=function(t,n){var r;n===void 0&&(n=!0);var s=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),i=s===""||s==="true",o=i||n&&t&&qo(t.parentNode);return o},$2=function(t){var n,r=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return r===""||r==="true"},nw=function(t,n,r){if(qo(t))return[];var s=Array.prototype.slice.apply(t.querySelectorAll(tu));return n&&_s.call(t,tu)&&s.unshift(t),s=s.filter(r),s},ru=function(t,n,r){for(var s=[],i=Array.from(t);i.length;){var o=i.shift();if(!qo(o,!1))if(o.tagName==="SLOT"){var a=o.assignedElements(),l=a.length?a:o.children,c=ru(l,!0,r);r.flatten?s.push.apply(s,c):s.push({scopeParent:o,candidates:c})}else{var f=_s.call(o,tu);f&&r.filter(o)&&(n||!t.includes(o))&&s.push(o);var h=o.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(o),g=!qo(h,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(o));if(h&&g){var w=ru(h===!0?o.children:h.children,!0,r);r.flatten?s.push.apply(s,w):s.push({scopeParent:o,candidates:w})}else i.unshift.apply(i,o.children)}}return s},rw=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},fr=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||$2(t))&&!rw(t)?0:t.tabIndex},B2=function(t,n){var r=fr(t);return r<0&&n&&!rw(t)?0:r},H2=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},sw=function(t){return t.tagName==="INPUT"},W2=function(t){return sw(t)&&t.type==="hidden"},q2=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return n},V2=function(t,n){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===n)return t[r]},Q2=function(t){if(!t.name)return!0;var n=t.form||nu(t),r=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},s;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")s=r(window.CSS.escape(t.name));else try{s=r(t.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var i=V2(s,t.form);return!i||i===t},K2=function(t){return sw(t)&&t.type==="radio"},G2=function(t){return K2(t)&&!Q2(t)},X2=function(t){var n,r=t&&nu(t),s=(n=r)===null||n===void 0?void 0:n.host,i=!1;if(r&&r!==t){var o,a,l;for(i=!!((o=s)!==null&&o!==void 0&&(a=o.ownerDocument)!==null&&a!==void 0&&a.contains(s)||t!=null&&(l=t.ownerDocument)!==null&&l!==void 0&&l.contains(t));!i&&s;){var c,f,h;r=nu(s),s=(c=r)===null||c===void 0?void 0:c.host,i=!!((f=s)!==null&&f!==void 0&&(h=f.ownerDocument)!==null&&h!==void 0&&h.contains(s))}}return i},kg=function(t){var n=t.getBoundingClientRect(),r=n.width,s=n.height;return r===0&&s===0},Y2=function(t,n){var r=n.displayCheck,s=n.getShadowRoot;if(r==="full-native"&&"checkVisibility"in t){var i=t.checkVisibility({checkOpacity:!1,opacityProperty:!1,contentVisibilityAuto:!0,visibilityProperty:!0,checkVisibilityCSS:!0});return!i}if(getComputedStyle(t).visibility==="hidden")return!0;var o=_s.call(t,"details>summary:first-of-type"),a=o?t.parentElement:t;if(_s.call(a,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="full-native"||r==="legacy-full"){if(typeof s=="function"){for(var l=t;t;){var c=t.parentElement,f=nu(t);if(c&&!c.shadowRoot&&s(c)===!0)return kg(t);t.assignedSlot?t=t.assignedSlot:!c&&f!==t.ownerDocument?t=f.host:t=c}t=l}if(X2(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return kg(t);return!1},J2=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var s=n.children.item(r);if(s.tagName==="LEGEND")return _s.call(n,"fieldset[disabled] *")?!0:!s.contains(t)}return!0}n=n.parentElement}return!1},su=function(t,n){return!(n.disabled||qo(n)||W2(n)||Y2(n,t)||q2(n)||J2(n))},mf=function(t,n){return!(G2(n)||fr(n)<0||!su(t,n))},Z2=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},iw=function(t){var n=[],r=[];return t.forEach(function(s,i){var o=!!s.scopeParent,a=o?s.scopeParent:s,l=B2(a,o),c=o?iw(s.candidates):a;l===0?o?n.push.apply(n,c):n.push(a):r.push({documentOrder:i,tabIndex:l,item:s,isScope:o,content:c})}),r.sort(H2).reduce(function(s,i){return i.isScope?s.push.apply(s,i.content):s.push(i.content),s},[]).concat(n)},ow=function(t,n){n=n||{};var r;return n.getShadowRoot?r=ru([t],n.includeContainer,{filter:mf.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Z2}):r=nw(t,n.includeContainer,mf.bind(null,n)),iw(r)},aw=function(t,n){n=n||{};var r;return n.getShadowRoot?r=ru([t],n.includeContainer,{filter:su.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):r=nw(t,n.includeContainer,su.bind(null,n)),r},Xr=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return _s.call(t,tu)===!1?!1:mf(n,t)},eP=ew.concat("iframe").join(","),gl=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return _s.call(t,eP)===!1?!1:su(n,t)};const tP=Object.freeze(Object.defineProperty({__proto__:null,focusable:aw,getTabIndex:fr,isFocusable:gl,isTabbable:Xr,tabbable:ow},Symbol.toStringTag,{value:"Module"}));/*!
* focus-trap 7.6.6
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function gf(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function nP(e){if(Array.isArray(e))return gf(e)}function rP(e,t,n){return(t=lP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sP(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function iP(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function _g(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Eg(Object(n),!0).forEach(function(r){rP(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oP(e){return nP(e)||sP(e)||uP(e)||iP()}function aP(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lP(e){var t=aP(e,"string");return typeof t=="symbol"?t:t+""}function uP(e,t){if(e){if(typeof e=="string")return gf(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gf(e,t):void 0}}var jg={activateTrap:function(t,n){if(t.length>0){var r=t[t.length-1];r!==n&&r._setPausedState(!0)}var s=t.indexOf(n);s===-1||t.splice(s,1),t.push(n)},deactivateTrap:function(t,n){var r=t.indexOf(n);r!==-1&&t.splice(r,1),t.length>0&&!t[t.length-1]._isManuallyPaused()&&t[t.length-1]._setPausedState(!1)}},cP=function(t){return t.tagName&&t.tagName.toLowerCase()==="input"&&typeof t.select=="function"},dP=function(t){return(t==null?void 0:t.key)==="Escape"||(t==null?void 0:t.key)==="Esc"||(t==null?void 0:t.keyCode)===27},wo=function(t){return(t==null?void 0:t.key)==="Tab"||(t==null?void 0:t.keyCode)===9},fP=function(t){return wo(t)&&!t.shiftKey},hP=function(t){return wo(t)&&t.shiftKey},Ng=function(t){return setTimeout(t,0)},Zi=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return typeof t=="function"?t.apply(void 0,r):t},Ga=function(t){return t.target.shadowRoot&&typeof t.composedPath=="function"?t.composedPath()[0]:t.target},pP=[],mP=function(t,n){var r=(n==null?void 0:n.document)||document,s=(n==null?void 0:n.trapStack)||pP,i=_g({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:fP,isKeyBackward:hP},n),o={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,l=function(O,A,W){return O&&O[A]!==void 0?O[A]:i[W||A]},c=function(O,A){var W=typeof(A==null?void 0:A.composedPath)=="function"?A.composedPath():void 0;return o.containerGroups.findIndex(function(Y){var q=Y.container,M=Y.tabbableNodes;return q.contains(O)||(W==null?void 0:W.includes(q))||M.find(function($){return $===O})})},f=function(O){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},W=A.hasFallback,Y=W===void 0?!1:W,q=A.params,M=q===void 0?[]:q,$=i[O];if(typeof $=="function"&&($=$.apply(void 0,oP(M))),$===!0&&($=void 0),!$){if($===void 0||$===!1)return $;throw new Error("`".concat(O,"` was specified but was not a node, or did not return a node"))}var Q=$;if(typeof $=="string"){try{Q=r.querySelector($)}catch(Z){throw new Error("`".concat(O,'` appears to be an invalid selector; error="').concat(Z.message,'"'))}if(!Q&&!Y)throw new Error("`".concat(O,"` as selector refers to no known node"))}return Q},h=function(){var O=f("initialFocus",{hasFallback:!0});if(O===!1)return!1;if(O===void 0||O&&!gl(O,i.tabbableOptions))if(c(r.activeElement)>=0)O=r.activeElement;else{var A=o.tabbableGroups[0],W=A&&A.firstTabbableNode;O=W||f("fallbackFocus")}else O===null&&(O=f("fallbackFocus"));if(!O)throw new Error("Your focus-trap needs to have at least one focusable element");return O},g=function(){if(o.containerGroups=o.containers.map(function(O){var A=ow(O,i.tabbableOptions),W=aw(O,i.tabbableOptions),Y=A.length>0?A[0]:void 0,q=A.length>0?A[A.length-1]:void 0,M=W.find(function(Z){return Xr(Z)}),$=W.slice().reverse().find(function(Z){return Xr(Z)}),Q=!!A.find(function(Z){return fr(Z)>0});return{container:O,tabbableNodes:A,focusableNodes:W,posTabIndexesFound:Q,firstTabbableNode:Y,lastTabbableNode:q,firstDomTabbableNode:M,lastDomTabbableNode:$,nextTabbableNode:function(X){var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ce=A.indexOf(X);return ce<0?me?W.slice(W.indexOf(X)+1).find(function(le){return Xr(le)}):W.slice(0,W.indexOf(X)).reverse().find(function(le){return Xr(le)}):A[ce+(me?1:-1)]}}}),o.tabbableGroups=o.containerGroups.filter(function(O){return O.tabbableNodes.length>0}),o.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(o.containerGroups.find(function(O){return O.posTabIndexesFound})&&o.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},w=function(O){var A=O.activeElement;if(A)return A.shadowRoot&&A.shadowRoot.activeElement!==null?w(A.shadowRoot):A},b=function(O){if(O!==!1&&O!==w(document)){if(!O||!O.focus){b(h());return}O.focus({preventScroll:!!i.preventScroll}),o.mostRecentlyFocusedNode=O,cP(O)&&O.select()}},C=function(O){var A=f("setReturnFocus",{params:[O]});return A||(A===!1?!1:O)},k=function(O){var A=O.target,W=O.event,Y=O.isBackward,q=Y===void 0?!1:Y;A=A||Ga(W),g();var M=null;if(o.tabbableGroups.length>0){var $=c(A,W),Q=$>=0?o.containerGroups[$]:void 0;if($<0)q?M=o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:M=o.tabbableGroups[0].firstTabbableNode;else if(q){var Z=o.tabbableGroups.findIndex(function(Ve){var Qe=Ve.firstTabbableNode;return A===Qe});if(Z<0&&(Q.container===A||gl(A,i.tabbableOptions)&&!Xr(A,i.tabbableOptions)&&!Q.nextTabbableNode(A,!1))&&(Z=$),Z>=0){var X=Z===0?o.tabbableGroups.length-1:Z-1,me=o.tabbableGroups[X];M=fr(A)>=0?me.lastTabbableNode:me.lastDomTabbableNode}else wo(W)||(M=Q.nextTabbableNode(A,!1))}else{var ce=o.tabbableGroups.findIndex(function(Ve){var Qe=Ve.lastTabbableNode;return A===Qe});if(ce<0&&(Q.container===A||gl(A,i.tabbableOptions)&&!Xr(A,i.tabbableOptions)&&!Q.nextTabbableNode(A))&&(ce=$),ce>=0){var le=ce===o.tabbableGroups.length-1?0:ce+1,oe=o.tabbableGroups[le];M=fr(A)>=0?oe.firstTabbableNode:oe.firstDomTabbableNode}else wo(W)||(M=Q.nextTabbableNode(A))}}else M=f("fallbackFocus");return M},v=function(O){var A=Ga(O);if(!(c(A,O)>=0)){if(Zi(i.clickOutsideDeactivates,O)){a.deactivate({returnFocus:i.returnFocusOnDeactivate});return}Zi(i.allowOutsideClick,O)||O.preventDefault()}},y=function(O){var A=Ga(O),W=c(A,O)>=0;if(W||A instanceof Document)W&&(o.mostRecentlyFocusedNode=A);else{O.stopImmediatePropagation();var Y,q=!0;if(o.mostRecentlyFocusedNode)if(fr(o.mostRecentlyFocusedNode)>0){var M=c(o.mostRecentlyFocusedNode),$=o.containerGroups[M].tabbableNodes;if($.length>0){var Q=$.findIndex(function(Z){return Z===o.mostRecentlyFocusedNode});Q>=0&&(i.isKeyForward(o.recentNavEvent)?Q+1<$.length&&(Y=$[Q+1],q=!1):Q-1>=0&&(Y=$[Q-1],q=!1))}}else o.containerGroups.some(function(Z){return Z.tabbableNodes.some(function(X){return fr(X)>0})})||(q=!1);else q=!1;q&&(Y=k({target:o.mostRecentlyFocusedNode,isBackward:i.isKeyBackward(o.recentNavEvent)})),b(Y||o.mostRecentlyFocusedNode||h())}o.recentNavEvent=void 0},S=function(O){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o.recentNavEvent=O;var W=k({event:O,isBackward:A});W&&(wo(O)&&O.preventDefault(),b(W))},_=function(O){(i.isKeyForward(O)||i.isKeyBackward(O))&&S(O,i.isKeyBackward(O))},j=function(O){dP(O)&&Zi(i.escapeDeactivates,O)!==!1&&(O.preventDefault(),a.deactivate())},R=function(O){var A=Ga(O);c(A,O)>=0||Zi(i.clickOutsideDeactivates,O)||Zi(i.allowOutsideClick,O)||(O.preventDefault(),O.stopImmediatePropagation())},T=function(){if(o.active)return jg.activateTrap(s,a),o.delayInitialFocusTimer=i.delayInitialFocus?Ng(function(){b(h())}):b(h()),r.addEventListener("focusin",y,!0),r.addEventListener("mousedown",v,{capture:!0,passive:!1}),r.addEventListener("touchstart",v,{capture:!0,passive:!1}),r.addEventListener("click",R,{capture:!0,passive:!1}),r.addEventListener("keydown",_,{capture:!0,passive:!1}),r.addEventListener("keydown",j),a},D=function(){if(o.active)return r.removeEventListener("focusin",y,!0),r.removeEventListener("mousedown",v,!0),r.removeEventListener("touchstart",v,!0),r.removeEventListener("click",R,!0),r.removeEventListener("keydown",_,!0),r.removeEventListener("keydown",j),a},U=function(O){var A=O.some(function(W){var Y=Array.from(W.removedNodes);return Y.some(function(q){return q===o.mostRecentlyFocusedNode})});A&&b(h())},I=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(U):void 0,L=function(){I&&(I.disconnect(),o.active&&!o.paused&&o.containers.map(function(O){I.observe(O,{subtree:!0,childList:!0})}))};return a={get active(){return o.active},get paused(){return o.paused},activate:function(O){if(o.active)return this;var A=l(O,"onActivate"),W=l(O,"onPostActivate"),Y=l(O,"checkCanFocusTrap");Y||g(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=w(r),A==null||A();var q=function(){Y&&g(),T(),L(),W==null||W()};return Y?(Y(o.containers.concat()).then(q,q),this):(q(),this)},deactivate:function(O){if(!o.active)return this;var A=_g({onDeactivate:i.onDeactivate,onPostDeactivate:i.onPostDeactivate,checkCanReturnFocus:i.checkCanReturnFocus},O);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,D(),o.active=!1,o.paused=!1,L(),jg.deactivateTrap(s,a);var W=l(A,"onDeactivate"),Y=l(A,"onPostDeactivate"),q=l(A,"checkCanReturnFocus"),M=l(A,"returnFocus","returnFocusOnDeactivate");W==null||W();var $=function(){Ng(function(){M&&b(C(o.nodeFocusedBeforeActivation)),Y==null||Y()})};return M&&q?(q(C(o.nodeFocusedBeforeActivation)).then($,$),this):($(),this)},pause:function(O){return o.active?(o.manuallyPaused=!0,this._setPausedState(!0,O)):this},unpause:function(O){return o.active?(o.manuallyPaused=!1,s[s.length-1]!==this?this:this._setPausedState(!1,O)):this},updateContainerElements:function(O){var A=[].concat(O).filter(Boolean);return o.containers=A.map(function(W){return typeof W=="string"?r.querySelector(W):W}),o.active&&g(),L(),this}},Object.defineProperties(a,{_isManuallyPaused:{value:function(){return o.manuallyPaused}},_setPausedState:{value:function(O,A){if(o.paused===O)return this;if(o.paused=O,O){var W=l(A,"onPause"),Y=l(A,"onPostPause");W==null||W(),D(),L(),Y==null||Y()}else{var q=l(A,"onUnpause"),M=l(A,"onPostUnpause");q==null||q(),g(),T(),L(),M==null||M()}return this}}}),a.updateContainerElements(t),a};const gP=Object.freeze(Object.defineProperty({__proto__:null,createFocusTrap:mP},Symbol.toStringTag,{value:"Module"})),vP=Wg(gP),yP=Wg(tP);function bi(e){"@babel/helpers - typeof";return bi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bi(e)}var Uc,$c;function xP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uw(r.key),r)}}function bP(e,t,n){return t&&wP(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function SP(e,t,n){return t=iu(t),CP(e,lw()?Reflect.construct(t,n||[],iu(e).constructor):t.apply(e,n))}function CP(e,t){if(t&&(bi(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kP(e)}function kP(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lw(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lw=function(){return!!e})()}function iu(e){return iu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},iu(e)}function EP(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vf(e,t)}function vf(e,t){return vf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},vf(e,t)}function _P(e,t,n){return(t=uw(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uw(e){var t=jP(e,"string");return bi(t)=="symbol"?t:t+""}function jP(e,t){if(bi(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(bi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var io=x,NP=vP,RP=NP.createFocusTrap,PP=yP,TP=PP.isFocusable,OP=parseInt((Uc=($c=/^(\d+)\./.exec(io.version))===null||$c===void 0?void 0:$c[1])!==null&&Uc!==void 0?Uc:0,10),Vh=function(e){function t(n){var r;xP(this,t),r=SP(this,t,[n]),_P(r,"getNodeForOption",function(o){var a,l=(a=this.internalOptions[o])!==null&&a!==void 0?a:this.originalOptions[o];if(typeof l=="function"){for(var c=arguments.length,f=new Array(c>1?c-1:0),h=1;h<c;h++)f[h-1]=arguments[h];l=l.apply(void 0,f)}if(l===!0&&(l=void 0),!l){if(l===void 0||l===!1)return l;throw new Error("`".concat(o,"` was specified but was not a node, or did not return a node"))}var g=l;if(typeof l=="string"){var w;if(g=(w=this.getDocument())===null||w===void 0?void 0:w.querySelector(l),!g)throw new Error("`".concat(o,"` as selector refers to no known node"))}return g}),r.handleDeactivate=r.handleDeactivate.bind(r),r.handlePostDeactivate=r.handlePostDeactivate.bind(r),r.handleClickOutsideDeactivates=r.handleClickOutsideDeactivates.bind(r),r.internalOptions={returnFocusOnDeactivate:!1,checkCanReturnFocus:null,onDeactivate:r.handleDeactivate,onPostDeactivate:r.handlePostDeactivate,clickOutsideDeactivates:r.handleClickOutsideDeactivates},r.originalOptions={returnFocusOnDeactivate:!0,onDeactivate:null,onPostDeactivate:null,checkCanReturnFocus:null,clickOutsideDeactivates:!1};var s=n.focusTrapOptions;for(var i in s)if(Object.prototype.hasOwnProperty.call(s,i)){if(i==="returnFocusOnDeactivate"||i==="onDeactivate"||i==="onPostDeactivate"||i==="checkCanReturnFocus"||i==="clickOutsideDeactivates"){r.originalOptions[i]=s[i];continue}r.internalOptions[i]=s[i]}return r.outsideClick=null,r.focusTrapElements=n.containerElements||[],r.updatePreviousElement(),r}return EP(t,e),bP(t,[{key:"getDocument",value:function(){return this.props.focusTrapOptions.document||(typeof document<"u"?document:void 0)}},{key:"getReturnFocusNode",value:function(){var r=this.getNodeForOption("setReturnFocus",this.previouslyFocusedElement);return r||(r===!1?!1:this.previouslyFocusedElement)}},{key:"updatePreviousElement",value:function(){var r=this.getDocument();r&&(this.previouslyFocusedElement=r.activeElement)}},{key:"deactivateTrap",value:function(){!this.focusTrap||!this.focusTrap.active||this.focusTrap.deactivate({returnFocus:!1,checkCanReturnFocus:null,onDeactivate:this.originalOptions.onDeactivate})}},{key:"handleClickOutsideDeactivates",value:function(r){var s=typeof this.originalOptions.clickOutsideDeactivates=="function"?this.originalOptions.clickOutsideDeactivates.call(null,r):this.originalOptions.clickOutsideDeactivates;return s&&(this.outsideClick={target:r.target,allowDeactivation:s}),s}},{key:"handleDeactivate",value:function(){this.originalOptions.onDeactivate&&this.originalOptions.onDeactivate.call(null),this.deactivateTrap()}},{key:"handlePostDeactivate",value:function(){var r=this,s=function(){var o=r.getReturnFocusNode(),a=!!(r.originalOptions.returnFocusOnDeactivate&&o!==null&&o!==void 0&&o.focus&&(!r.outsideClick||r.outsideClick.allowDeactivation&&!TP(r.outsideClick.target,r.internalOptions.tabbableOptions))),l=r.internalOptions.preventScroll,c=l===void 0?!1:l;a&&o.focus({preventScroll:c}),r.originalOptions.onPostDeactivate&&r.originalOptions.onPostDeactivate.call(null),r.outsideClick=null};this.originalOptions.checkCanReturnFocus?this.originalOptions.checkCanReturnFocus.call(null,this.getReturnFocusNode()).then(s,s):s()}},{key:"setupFocusTrap",value:function(){if(this.focusTrap)this.props.active&&!this.focusTrap.active&&(this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause());else{var r=this.focusTrapElements.some(Boolean);r&&(this.focusTrap=this.props._createFocusTrap(this.focusTrapElements,this.internalOptions),this.props.active&&this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause())}}},{key:"componentDidMount",value:function(){this.props.active&&this.setupFocusTrap()}},{key:"componentDidUpdate",value:function(r){if(this.focusTrap){r.containerElements!==this.props.containerElements&&this.focusTrap.updateContainerElements(this.props.containerElements);var s=!r.active&&this.props.active,i=r.active&&!this.props.active,o=!r.paused&&this.props.paused,a=r.paused&&!this.props.paused;if(s&&(this.updatePreviousElement(),this.focusTrap.activate()),i){this.deactivateTrap();return}o&&this.focusTrap.pause(),a&&this.focusTrap.unpause()}else r.containerElements!==this.props.containerElements&&(this.focusTrapElements=this.props.containerElements),this.props.active&&(this.updatePreviousElement(),this.setupFocusTrap())}},{key:"componentWillUnmount",value:function(){this.deactivateTrap()}},{key:"render",value:function(){var r=this,s=this.props.children?io.Children.only(this.props.children):void 0;if(s){if(s.type&&s.type===io.Fragment)throw new Error("A focus-trap cannot use a Fragment as its child container. Try replacing it with a <div> element.");var i=function(l){var c=r.props.containerElements;s&&(OP>=19?typeof s.props.ref=="function"?s.props.ref(l):s.props.ref&&(s.props.ref.current=l):typeof s.ref=="function"?s.ref(l):s.ref&&(s.ref.current=l)),r.focusTrapElements=c||[l]},o=io.cloneElement(s,{ref:i});return o}return null}}])}(io.Component);Vh.defaultProps={active:!0,paused:!1,focusTrapOptions:{},_createFocusTrap:RP};qh.exports=Vh;qh.exports.FocusTrap=Vh;var DP=qh.exports;const LP=Cf(DP),cw=({title:e,description:t,confirmLabel:n="Confirm",cancelLabel:r="Cancel",open:s,loading:i,onConfirm:o,onCancel:a})=>{if(x.useEffect(()=>{if(!s)return;const c=f=>{f.key==="Escape"&&a()};return document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)},[s,a]),!s)return null;const l=d.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 py-8 sm:py-0",children:[d.jsx("div",{className:"absolute inset-0 bg-ink/30 backdrop-blur-sm animate-fade",onClick:a}),d.jsxs("div",{className:"relative z-10 w-full max-w-md rounded-3xl border border-stone/15 bg-white p-6 shadow-deep animate-pop",children:[d.jsx("h2",{className:"font-display text-xl font-semibold text-ink",children:e}),d.jsx("p",{className:"mt-3 text-sm text-stone",children:t}),d.jsxs("div",{className:"mt-6 flex flex-col gap-3 sm:flex-row sm:justify-end",children:[d.jsx("button",{type:"button",className:"w-full rounded-xl border border-stone/30 bg-white px-4 py-2.5 text-sm font-semibold text-ink transition hover:bg-stone/10 sm:w-auto",onClick:a,disabled:i,children:r}),d.jsx("button",{type:"button",className:"w-full rounded-xl bg-ink px-4 py-2.5 text-sm font-semibold text-white transition hover:opacity-90 disabled:opacity-60 disabled:pointer-events-none sm:w-auto",onClick:o,disabled:i,children:i?"Deleting":n})]})]})]});return es.createPortal(l,document.body)},AP={copy:Jd,compare:xE,column:L0,download:wE,spinner:TE,refresh:EE,save:NE},Bc=({label:e,onClick:t,icon:n,variant:r="primary",disabled:s=!1,className:i=""})=>d.jsxs("button",{type:"button",onClick:t,disabled:s,className:`inline-flex items-center gap-2 rounded-full px-4 py-2 text-sm font-semibold transition ${s?"cursor-not-allowed border-transparent bg-stone/20 text-stone/60":r==="primary"?"bg-ink text-white hover:opacity-90":"border border-stone/20 bg-white text-stone hover:border-accent/30"} ${i}`,children:[d.jsx(yf,{name:n}),e]}),yf=({name:e})=>{const t=AP[e]??L0;return d.jsx(t,{width:14,height:14})},Rg=({onClick:e,copied:t,disabled:n,variant:r="default"})=>r==="icon"?d.jsx("button",{type:"button",onClick:e,disabled:n,className:`flex h-8 w-8 items-center justify-center rounded-full border text-[0px] shadow-sm transition ${n?"cursor-not-allowed border-stone/20 bg-stone/10 text-stone/40":t?"border-emerald-200 bg-emerald-50 text-emerald-700":"border-stone/20 bg-white text-stone hover:border-accent/40"}`,"aria-label":t?"Field copied":"Copy field",title:t?"Copied!":"Copy",children:d.jsx(Jd,{className:"text-current",width:14,height:14})}):d.jsxs("button",{type:"button",onClick:e,disabled:n,className:`inline-flex items-center gap-1 rounded-md border px-2 py-1 text-[11px] font-semibold uppercase tracking-wide transition ${n?"cursor-not-allowed border-stone/20 bg-stone/10 text-stone/50":t?"border-emerald-200 bg-emerald-50 text-emerald-700":"border-stone/20 bg-white text-stone hover:border-accent/30"}`,"aria-label":"Copy field",children:[d.jsx(Jd,{className:"text-current",width:12,height:12}),t?"Copied":"Copy"]}),Hc=({label:e,value:t,limit:n,count:r,overLimit:s,onCopy:i,copied:o,accent:a=!1,variant:l="default",editable:c=!1,onChange:f,isDirty:h=!1,onRestore:g,isEditing:w=!1,onEnterEdit:b,onExitEdit:C})=>{const k=!!t,v=typeof r=="number"?r:t?t.length:0,y=l==="compact",S=n!==void 0?`${v}/${n}`:`${v} chars`,_=n!==void 0&&s?"text-rose-600":"text-stone",j=x.useRef(null);x.useEffect(()=>{if(w&&j.current){j.current.focus();const L=j.current.value.length;j.current.setSelectionRange(L,L),j.current.style.height="auto",j.current.style.height=j.current.scrollHeight+"px"}},[w]);const R=L=>{f==null||f(L.target.value),L.target.style.height="auto",L.target.style.height=L.target.scrollHeight+"px"},T=()=>!c||!w?k?d.jsx("div",{className:"animate-in fade-in duration-200",children:t}):d.jsx("span",{className:"text-stone/70",children:"No content available."}):d.jsx("textarea",{ref:j,className:"mt-2 block w-full resize-none rounded-xl border border-stone/30 bg-white px-3 py-2 text-sm text-ink outline-none transition-all focus:border-accent/40 focus:ring-2 focus:ring-accent/20 animate-in fade-in zoom-in-95 duration-200",value:t??"",onChange:R,rows:1,style:{overflow:"hidden"},onKeyDown:L=>{L.key==="Escape"&&(L.stopPropagation(),C==null||C())},onBlur:C}),D=c&&h&&g?d.jsx("button",{type:"button",onClick:L=>{L.stopPropagation(),g()},className:"text-xs font-semibold text-accent underline-offset-4 hover:underline",children:"Restore"}):null,U="rounded-2xl border px-4 py-4 transition-all duration-200 ease-out transform cursor-text",I=w?"border-accent/50 bg-white shadow-md ring-1 ring-accent/20 scale-[1.01]":s?"border-rose-200 bg-rose-50 hover:border-rose-300":a?"border-accent/30 bg-pastel-lilac/70 hover:border-accent/40":"border-stone/20 bg-white hover:border-accent/30 hover:shadow-sm";return y?d.jsxs("div",{className:`${U} ${I}`,onClick:()=>!w&&(b==null?void 0:b()),children:[d.jsxs("div",{className:"mb-2 flex items-start justify-between",children:[d.jsx("p",{className:"select-none text-xs font-semibold uppercase tracking-[0.2em] text-stone/70",children:e}),D]}),d.jsx("div",{className:"min-h-[1.5em] whitespace-pre-wrap text-sm leading-relaxed text-ink",children:T()}),d.jsxs("div",{className:"mt-4 flex items-center justify-between text-[11px] font-semibold uppercase tracking-[0.2em] text-stone/70 select-none",children:[d.jsx("span",{className:_,children:S}),d.jsx("div",{onClick:L=>L.stopPropagation(),children:d.jsx(Rg,{disabled:!k,onClick:i,copied:o,variant:"icon"})})]})]}):d.jsxs("div",{className:`${U} ${I}`,onClick:()=>!w&&(b==null?void 0:b()),children:[d.jsxs("div",{className:"mb-2 flex items-start justify-between gap-3",children:[d.jsxs("div",{children:[d.jsx("p",{className:"select-none text-xs font-semibold uppercase tracking-[0.2em] text-stone/70",children:e}),D]}),d.jsxs("div",{className:"flex items-center gap-2 select-none",children:[d.jsx("span",{className:`text-xs font-semibold ${_}`,children:S}),d.jsx("div",{onClick:L=>L.stopPropagation(),children:d.jsx(Rg,{disabled:!k,onClick:i,copied:o})})]})]}),d.jsx("div",{className:"min-h-[1.5em] whitespace-pre-wrap text-sm leading-relaxed text-ink",children:T()})]})},IP=e=>{const t=Object.entries(e??{}).filter(([n])=>!n.startsWith("_")).map(([n,r])=>[n,typeof r=="string"||r===null||r===void 0?r:String(r)]);return Object.fromEntries(t)},FP=({story:e,projectId:t,assetKeys:n,reasoningKeys:r})=>{const s=e==null?void 0:e.derived_fields,i=(e==null?void 0:e.original_derived_fields)??(e==null?void 0:e.derived_fields),o=x.useCallback(L=>IP(L),[]),a=x.useCallback((L,z)=>{const O=i==null?void 0:i[L],A=O==null?void 0:O[z];return typeof A=="string"?A:A==null?"":String(A)},[i]),[l,c]=x.useState(()=>(s==null?void 0:s.assets)??{}),[f,h]=x.useState(()=>(s==null?void 0:s.reasoning)??{}),[g,w]=x.useState(()=>o(s==null?void 0:s.meta)),[b,C]=x.useState(!1);x.useEffect(()=>{c((s==null?void 0:s.assets)??{}),h((s==null?void 0:s.reasoning)??{}),w(o(s==null?void 0:s.meta)),C(!1)},[e==null?void 0:e.id,o]);const k=E2(t),v=k2(t),y=x.useCallback((L,z,O)=>{C(!1),L==="assets"?c(A=>({...A,[z]:O})):L==="reasoning"?h(A=>({...A,[z]:O})):w(A=>({...A,[z]:O}))},[]),S=x.useCallback((L,z)=>{const O=a(L,z);L==="assets"?c(A=>({...A,[z]:O})):L==="reasoning"?h(A=>({...A,[z]:O})):w(A=>({...A,[z]:O}))},[a]),_=x.useCallback((L,z)=>{const O=L==="assets"?l[z]:L==="reasoning"?f[z]:g[z],A=a(L,z);return(O??"")!==(A??"")},[l,g,f,a]),j=x.useMemo(()=>{if(!i)return!1;const L=n.some(O=>_("assets",O)),z=r.some(O=>_("reasoning",O));return L||z},[n,r,_,i]),R=x.useMemo(()=>{if(!s)return!1;const L=(A,W)=>(A??"")!==(W??""),z=n.some(A=>{var W;return L(l[A],(W=s.assets)==null?void 0:W[A])}),O=r.some(A=>{var W;return L(f[A],(W=s.reasoning)==null?void 0:W[A])});return z||O},[n,r,s,l,f]);x.useEffect(()=>{j&&C(!1)},[j]);const T=x.useMemo(()=>{if(!s||!i)return!1;const L=(O,A)=>{const W=O;return((W==null?void 0:W[A])??"").trim()},z=(O,A)=>A.every(W=>{const Y=L(O==="assets"?s.assets:s.reasoning,W),q=L(O==="assets"?i.assets:i.reasoning,W);return Y===q});return z("assets",n)&&z("reasoning",r)},[n,r,s,i]),D=x.useCallback(()=>{e&&k.mutate({storyId:e.id,assets:l,reasoning:f,meta:o(g),priority:e.priority},{onSuccess:L=>{var z,O,A;c(((z=L.derived_fields)==null?void 0:z.assets)??{}),h(((O=L.derived_fields)==null?void 0:O.reasoning)??{}),w(o((A=L.derived_fields)==null?void 0:A.meta))}})},[l,g,f,e,k,o]),U=x.useCallback(()=>{e&&v.mutate({storyId:e.id},{onSuccess:L=>{var z,O,A;c(((z=L.derived_fields)==null?void 0:z.assets)??{}),h(((O=L.derived_fields)==null?void 0:O.reasoning)??{}),w(o((A=L.derived_fields)==null?void 0:A.meta)),C(!0)}})},[v,e]),I=x.useCallback((L,z)=>typeof L=="string"?L.length:typeof z=="number"?z:0,[]);return{derived:s,originalDerived:i,draftAssets:l,draftReasoning:f,draftMeta:g,recentlyRestored:b,setRecentlyRestored:C,handleFieldChange:y,handleFieldRestore:S,isFieldDirty:_,hasUnsavedChanges:j,hasPendingSave:R,isPersistedContentIdentical:T,handleSave:D,handleRestoreOriginal:U,updateStoryMutation:k,restoreStoryMutation:v,computeCount:I,filterEditableMeta:o}},xf=[{key:"hook",label:"Hook"},{key:"google_h1",label:"Google Headline 1"},{key:"google_desc",label:"Google Description"},{key:"meta_primary",label:"Meta Primary Text"},{key:"lp_h1",label:"Landing Page H1"},{key:"email_subject",label:"Email Subject"}],$e={key:"cta",label:"Call To Action"},wf=[{key:"proof",label:"Proof"},{key:"objection",label:"Objection"}],MP=[...xf.map(e=>e.key),$e.key],zP=wf.map(e=>e.key),UP=({story:e,isOpen:t,onClose:n,onDownloadCsv:r,isDownloading:s,projectId:i})=>{var me,ce,le,oe,Ve,Qe;const{derived:o,draftAssets:a,draftReasoning:l,recentlyRestored:c,setRecentlyRestored:f,handleFieldChange:h,handleFieldRestore:g,isFieldDirty:w,hasPendingSave:b,isPersistedContentIdentical:C,handleSave:k,handleRestoreOriginal:v,updateStoryMutation:y,restoreStoryMutation:S,computeCount:_}=FP({story:e,projectId:i,assetKeys:MP,reasoningKeys:zP}),j=(o==null?void 0:o.limits)??{},R=(o==null?void 0:o.char_counts)??{},[T,D]=x.useState(null),[U,I]=x.useState(!1),[L,z]=x.useState(null),O=x.useRef(null),A=x.useRef(null),W=x.useCallback((G,ne)=>`${G}:${ne}`,[]),Y=x.useCallback(()=>{b?I(!0):n()},[b,n]),q=x.useCallback(()=>{I(!1),n()},[n]),M=x.useCallback(()=>{I(!1)},[]);x.useEffect(()=>{f(!1),D(null)},[e==null?void 0:e.id,t,f]),x.useEffect(()=>{if(typeof window>"u")return;const G=document.documentElement,ne=G.style.overflow,xe=G.style.paddingRight;if(t){const Se=window.innerWidth-G.clientWidth;G.style.overflow="hidden",Se>0&&(G.style.paddingRight=`${Se}px`)}else G.style.overflow=ne||"",G.style.paddingRight=xe||"";return()=>{G.style.overflow=ne||"",G.style.paddingRight=xe||""}},[t]),x.useEffect(()=>{},[t]),x.useEffect(()=>{t||z(null)},[t]),x.useEffect(()=>{if(!t)return;const G=ne=>{ne.key==="Escape"&&(U||Y())};return window.addEventListener("keydown",G),()=>window.removeEventListener("keydown",G)},[t,U,Y]),x.useEffect(()=>()=>{O.current&&window.clearTimeout(O.current)},[]);const $=x.useCallback((G,ne)=>{if(ne){if(navigator.clipboard)navigator.clipboard.writeText(ne);else{const xe=document.createElement("textarea");xe.value=ne,xe.style.position="fixed",xe.style.opacity="0",document.body.appendChild(xe),xe.focus(),xe.select();try{document.execCommand("copy")}finally{document.body.removeChild(xe)}}O.current&&window.clearTimeout(O.current),z(G),O.current=window.setTimeout(()=>{z(null)},1800)}},[]),Q=x.useCallback(()=>{if(!o)return;const G=[];for(const{key:ne,label:xe}of[...xf,$e]){const Se=a==null?void 0:a[ne];Se&&G.push(`${xe}: ${Se}`)}for(const{key:ne,label:xe}of wf){const Se=l==null?void 0:l[ne];Se&&G.push(`${xe}: ${Se}`)}G.length!==0&&$("ALL",G.join(`

`))},[$,o,a,l]),Z=!!(e!=null&&e.original_content)&&!C&&!c,X=d.jsx("div",{className:"mt-auto border-t border-stone/20 bg-stone-50/50 p-6",children:d.jsxs("div",{className:"flex flex-col-reverse gap-4 sm:flex-row sm:items-center sm:justify-between",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:flex sm:items-center sm:gap-2",children:[o&&d.jsx(Bc,{label:L==="ALL"?"Copied!":"Copy",onClick:Q,icon:"copy",variant:"secondary",className:"w-full justify-center sm:w-auto"}),r&&d.jsx(Bc,{label:s?"Exporting...":"CSV",onClick:r,icon:s?"spinner":"download",variant:"secondary",disabled:s,className:"w-full justify-center sm:w-auto"})]}),d.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-end",children:[Z&&d.jsxs("button",{type:"button",onClick:v,disabled:S.isPending,className:"flex w-full items-center justify-center gap-2 rounded-lg px-3 py-2 text-xs font-bold uppercase tracking-wider text-rose-600 transition hover:bg-rose-50 hover:underline disabled:opacity-50 sm:w-auto sm:justify-start",title:"Revert to original AI content",children:[S.isPending?d.jsx(yf,{name:"spinner"}):d.jsx(yf,{name:"refresh"}),d.jsx("span",{className:"sm:hidden",children:"Revert to Original"}),d.jsx("span",{className:"hidden sm:inline",children:"Revert to AI"})]}),d.jsx("div",{className:"w-full sm:w-auto",children:d.jsx(Bc,{label:y.isPending?"Saving...":"Save Changes",onClick:k,icon:y.isPending?"spinner":"save",variant:"primary",disabled:!b||y.isPending||!e,className:"w-full justify-center sm:w-auto"})})]})]})});return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:`fixed inset-0 z-40 transition ${t?"pointer-events-auto":"pointer-events-none"}`,children:[d.jsx("div",{className:`absolute inset-0 bg-ink/40 transition-opacity duration-300 ${t?"opacity-100":"opacity-0"}`,onClick:Y}),d.jsx(LP,{active:t,focusTrapOptions:{fallbackFocus:()=>A.current??document.body,allowOutsideClick:!0,returnFocusOnDeactivate:!0,escapeDeactivates:!1},children:d.jsx("aside",{ref:A,className:`absolute right-0 top-0 h-full w-full max-w-xl transform transition-transform duration-300 ease-out ${t?"translate-x-0":"translate-x-full"} border-l border-stone/20 bg-white text-ink shadow-deep`,children:d.jsxs("div",{className:"flex h-full flex-col",children:[d.jsxs("header",{className:"flex items-start justify-between border-b border-stone/20 px-6 py-5",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs uppercase tracking-[0.2em] text-stone",children:[((ce=(me=e==null?void 0:e.derived_fields)==null?void 0:me.meta)==null?void 0:ce.var_id)&&d.jsx("span",{className:"rounded bg-pastel-lilac px-2 py-0.5 font-semibold text-ink",children:e.derived_fields.meta.var_id}),((oe=(le=e==null?void 0:e.derived_fields)==null?void 0:le.meta)==null?void 0:oe.angle_name)&&d.jsx("span",{className:"rounded-full border border-accent/20 bg-pastel-lilac/80 px-2 py-0.5 text-[11px] font-medium text-accent/80",children:e.derived_fields.meta.angle_name})]}),d.jsx("h2",{className:"font-display text-xl font-semibold text-ink",children:((Qe=(Ve=e==null?void 0:e.derived_fields)==null?void 0:Ve.assets)==null?void 0:Qe.hook)??"No hook available"}),d.jsx("div",{className:"flex flex-wrap items-center gap-2 text-xs font-semibold uppercase tracking-[0.2em] text-stone",children:e&&d.jsx(d.Fragment,{children:d.jsxs("span",{className:`rounded-full px-2 py-0.5 ${e.priority==="high"?"border border-rose-200 bg-rose-50 text-rose-700":e.priority==="medium"?"border border-amber-200 bg-amber-50 text-amber-700":"border border-emerald-200 bg-emerald-50 text-emerald-700"}`,children:["Priority: ",e.priority]})})})]}),d.jsx("button",{type:"button",className:"rounded-xl border border-stone/20 bg-white/90 p-2 text-stone transition hover:border-accent/40",onClick:Y,"aria-label":"Close reader panel",children:d.jsx(D0,{width:18,height:18})})]}),d.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-6",children:o?d.jsx("div",{className:"space-y-6",children:d.jsxs("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,2fr)_minmax(0,1fr)]",children:[d.jsx("div",{className:"space-y-4",children:xf.map(({key:G,label:ne})=>d.jsx(Hc,{label:ne,value:a[G]??"",limit:j[G],count:_(a[G],R[G]),overLimit:j[G]!==void 0&&_(a[G],R[G])>(j[G]??0),onCopy:()=>$(G,a[G]??void 0),copied:L===G,editable:!0,onChange:xe=>h("assets",G,xe),isDirty:w("assets",G),onRestore:()=>g("assets",G),isEditing:T===W("assets",G),onEnterEdit:()=>D(W("assets",G)),onExitEdit:()=>D(null)},G))}),d.jsxs("div",{className:"space-y-4",children:[d.jsx(Hc,{label:$e.label,value:a[$e.key]??"",limit:j[$e.key],count:_(a[$e.key],R[$e.key]),overLimit:j[$e.key]!==void 0&&_(a[$e.key],R[$e.key])>(j[$e.key]??0),onCopy:()=>$($e.key,a[$e.key]??void 0),copied:L===$e.key,accent:!0,variant:"compact",editable:!0,onChange:G=>h("assets",$e.key,G),isDirty:w("assets",$e.key),onRestore:()=>g("assets",$e.key),isEditing:T===W("assets",$e.key),onEnterEdit:()=>D(W("assets",$e.key)),onExitEdit:()=>D(null)}),wf.map(({key:G,label:ne})=>d.jsx(Hc,{label:ne,value:l[G]??"",onCopy:()=>$(G,l[G]??void 0),copied:L===G,variant:"compact",editable:!0,onChange:xe=>h("reasoning",G,xe),isDirty:w("reasoning",G),onRestore:()=>g("reasoning",G),isEditing:T===W("reasoning",G),onEnterEdit:()=>D(W("reasoning",G)),onExitEdit:()=>D(null)},G))]})]})}):d.jsx("div",{className:"rounded-2xl border border-stone/20 bg-frost px-4 py-6 text-sm text-stone",children:"Select a story to inspect its details."})}),X]})})})]}),d.jsx(cw,{open:U,title:"Unsaved changes",description:"You have unsaved changes. Close the panel and discard them?",confirmLabel:"Discard changes",cancelLabel:"Keep editing",onConfirm:q,onCancel:M})]})},bf=[{key:"hook",label:"Hook"},{key:"google_h1",label:"Google H1"},{key:"google_desc",label:"Google Description"},{key:"meta_primary",label:"Meta Primary"},{key:"lp_h1",label:"Landing Page H1"},{key:"email_subject",label:"Email Subject"},{key:"cta",label:"CTA"}],$P=({selectedStories:e,onRemove:t})=>d.jsx("div",{className:"relative",children:d.jsx("div",{className:"h-scroll w-full relative z-[1] pb-2",children:d.jsxs("table",{className:"min-w-[1100px] border-separate border-spacing-y-3 text-sm text-ink",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{className:"sticky left-0 z-10 rounded-l-xl bg-white px-4 py-3 text-left text-xs font-semibold uppercase tracking-[0.2em] text-stone shadow-[1px_0_0_rgba(15,23,42,0.08)]",children:"Variation"}),bf.map(({key:n,label:r})=>d.jsx("th",{className:"min-w-[240px] px-4 py-3 text-left text-xs font-semibold uppercase tracking-[0.2em] text-stone/80",children:r},n))]})}),d.jsx("tbody",{children:e.map(({story:n,varId:r})=>{var l;const s=n.derived_fields,i=(s==null?void 0:s.limits)??{},o=(s==null?void 0:s.char_counts)??{},a=new Set((s==null?void 0:s.over_limit_fields)??[]);return d.jsxs("tr",{children:[d.jsx("th",{className:"sticky left-0 z-10 rounded-l-xl bg-white px-4 py-4 text-left text-sm font-semibold text-ink shadow-[1px_0_0_rgba(15,23,42,0.08)]",children:d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsx("span",{children:r}),d.jsx("button",{type:"button",onClick:()=>t(n.id),className:"text-xs font-semibold uppercase tracking-[0.2em] text-stone/70 hover:text-ink",children:"Remove"})]}),d.jsxs("div",{className:"text-xs uppercase tracking-[0.2em] text-stone/60",children:["Priority: ",n.priority,(((l=n.derived_fields)==null?void 0:l.over_limit_count)??0)>0?" - Over limit":""]})]})}),bf.map(({key:c})=>d.jsx(BP,{assetKey:c,limits:i,counts:o,overSet:a,story:n},c))]},n.id)})})]})})}),BP=({assetKey:e,limits:t,counts:n,overSet:r,story:s})=>{var f;const i=s.derived_fields,o=((f=i==null?void 0:i.assets)==null?void 0:f[e])??"",a=t[e],l=n[e]??(typeof o=="string"?o.length:0),c=r.has(e);return d.jsxs("td",{className:`align-top rounded-xl border px-4 py-4 text-sm leading-relaxed ${c?"border-rose-200 bg-rose-50":"border-stone/15 bg-white"}`,children:[d.jsxs("div",{className:"flex items-center justify-between text-xs font-semibold uppercase tracking-[0.2em] text-stone/70",children:[d.jsx("span",{children:"Content"}),a!==void 0&&d.jsxs("span",{className:c?"text-rose-600":"text-stone",children:[l,"/",a]})]}),d.jsx("div",{className:"mt-2 whitespace-pre-wrap text-ink",children:o||d.jsx("span",{className:"text-stone/60",children:"-"})})]})},HP=({selectedStories:e,onRemove:t})=>d.jsx("div",{className:"space-y-4",children:e.map(({story:n,varId:r})=>{var l;const s=n.derived_fields,i=new Set((s==null?void 0:s.over_limit_fields)??[]),o=(s==null?void 0:s.limits)??{},a=(s==null?void 0:s.char_counts)??{};return d.jsxs("article",{className:"rounded-3xl border border-stone/20 bg-white p-5 text-sm shadow-sm",children:[d.jsxs("header",{className:"flex flex-wrap items-center gap-3",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-stone/70",children:"Variation"}),d.jsx("h3",{className:"font-display text-xl text-ink",children:r})]}),d.jsxs("div",{className:"ml-auto flex flex-wrap items-center gap-2 text-xs font-semibold uppercase tracking-[0.2em] text-stone/70",children:[d.jsxs("span",{className:"rounded-full border border-stone/30 px-3 py-1 text-ink/80",children:["Priority: ",n.priority]}),(((l=n.derived_fields)==null?void 0:l.over_limit_count)??0)>0&&d.jsx("span",{className:"rounded-full border border-rose-200 bg-rose-50 px-3 py-1 text-rose-700",children:"Over limit"}),d.jsx("button",{type:"button",onClick:()=>t(n.id),className:"rounded-full border border-stone/30 px-3 py-1 text-stone transition hover:border-rose-300 hover:text-rose-700",children:"Remove"})]})]}),d.jsx("div",{className:"mt-4 grid gap-3 md:grid-cols-2",children:bf.map(({key:c,label:f})=>{var C;const h=((C=s==null?void 0:s.assets)==null?void 0:C[c])??"",g=o[c],w=a[c]??(typeof h=="string"?h.length:0),b=i.has(c);return d.jsxs("div",{className:`rounded-2xl border px-4 py-3 transition ${b?"border-rose-200 bg-rose-50":"border-stone/20 bg-white"}`,children:[d.jsxs("div",{className:"flex items-start justify-between gap-3",children:[d.jsx("div",{children:d.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-stone/70",children:f})}),g!==void 0&&d.jsxs("span",{className:`text-xs font-semibold ${b?"text-rose-600":"text-stone"}`,children:[w,"/",g]})]}),d.jsx("p",{className:"mt-2 whitespace-pre-wrap text-base leading-relaxed text-ink",children:h||d.jsx("span",{className:"text-stone/60",children:"-"})})]},c)})})]},n.id)})}),WP=({project:e})=>{const t=x.useMemo(()=>e.epics.flatMap(j=>j.user_stories.map(R=>{var D,U,I,L,z;const T=(()=>{const O=`Story ${R.position??""}`.trim();return O!==""?O:R.id})();return{story:R,epic:j,varId:((U=(D=R.derived_fields)==null?void 0:D.meta)==null?void 0:U.var_id)??T,angle:((L=(I=R.derived_fields)==null?void 0:I.meta)==null?void 0:L.angle_name)??"Unknown",overLimit:(((z=R.derived_fields)==null?void 0:z.over_limit_count)??0)>0?"over":"within"}})),[e.epics]),n=x.useMemo(()=>{const j=new Set;return t.forEach(({angle:R})=>{R&&j.add(R)}),Array.from(j).sort()},[t]),[r,s]=x.useState([]),[i,o]=x.useState([]),[a,l]=x.useState("all"),[c,f]=x.useState("all"),[h,g]=x.useState("table"),[w,b]=x.useState(()=>typeof window<"u"?window.innerWidth>=1024:!0),C=x.useMemo(()=>t.filter(({story:j,angle:R,overLimit:T})=>!(i.length>0&&!i.includes(R)||a!=="all"&&j.priority!==a||c!=="all"&&T!==c)),[t,i,a,c]);x.useEffect(()=>{s(j=>j.filter(R=>C.some(({story:T})=>T.id===R)))},[C]);const k=j=>{s(R=>R.includes(j)?R.filter(T=>T!==j):[...R,j])},v=j=>{s(R=>R.filter(T=>T!==j))},y=x.useMemo(()=>t.filter(({story:j})=>r.includes(j.id)),[t,r]),S=j=>{o(R=>R.includes(j)?R.filter(T=>T!==j):[...R,j])};x.useEffect(()=>{if(typeof window>"u")return;const j=window.matchMedia("(min-width: 1024px)"),R=()=>{b(j.matches),j.matches||g("stack")};return R(),j.addEventListener("change",R),()=>j.removeEventListener("change",R)},[]);const _=()=>y.length<2?d.jsx("div",{className:"flex h-full min-h-[240px] flex-col items-center justify-center gap-2 text-center text-sm text-stone",children:d.jsx("p",{children:"Select at least two variations to compare."})}):(w?h:"stack")==="table"?d.jsx($P,{selectedStories:y,onRemove:v}):d.jsx(HP,{selectedStories:y,onRemove:v});return d.jsxs("section",{className:"surface-panel surface-panel--muted flex flex-col gap-6 p-6 text-ink shadow-deep",children:[d.jsxs("header",{className:"flex flex-col gap-2 lg:flex-row lg:items-center lg:justify-between",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"font-display text-2xl font-semibold text-ink",children:"Compare Variations"}),d.jsx("p",{className:"text-sm text-stone",children:"Select two or more variations to inspect their copy side by side."})]}),w&&d.jsxs("div",{className:"inline-flex items-center gap-1 rounded-full border border-stone/20 bg-white p-1 text-xs font-semibold uppercase tracking-[0.2em] text-stone",children:[d.jsx("button",{type:"button",className:`rounded-full px-3 py-1 transition ${h==="table"?"bg-ink text-white shadow-sm":"text-stone"}`,onClick:()=>g("table"),children:"Table"}),d.jsx("button",{type:"button",className:`rounded-full px-3 py-1 transition ${h==="stack"?"bg-ink text-white shadow-sm":"text-stone"}`,onClick:()=>g("stack"),children:"Reader"})]})]}),d.jsxs("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,1fr)_minmax(0,2fr)]",children:[d.jsxs("div",{className:"min-w-0 space-y-6 rounded-2xl border border-stone/20 bg-white/95 p-4 shadow-sm",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-semibold uppercase tracking-[0.25em] text-stone/70",children:"Filters"}),d.jsxs("div",{className:"mt-3 space-y-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-stone/70",children:"Angle"}),d.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:n.length===0?d.jsx("span",{className:"text-xs text-stone",children:"No angles available."}):n.map(j=>{const R=i.includes(j);return d.jsx("button",{type:"button",onClick:()=>S(j),className:`rounded-full px-3 py-1 text-xs font-semibold transition ${R?"border border-accent/40 bg-accent text-white shadow-deep":"border border-stone/20 bg-pastel-lilac text-ink/80 hover:border-accent/30"}`,children:j},j)})})]}),d.jsxs("div",{className:"flex flex-wrap gap-4",children:[d.jsxs("label",{className:"flex flex-col text-xs font-semibold uppercase tracking-[0.2em] text-stone/70",children:["Priority",d.jsxs("select",{value:a,onChange:j=>l(j.target.value),className:"mt-1 rounded-xl border border-stone/20 bg-white px-3 py-2 text-sm text-ink outline-none transition focus:border-accent/40 focus:ring-2 focus:ring-accent/15",children:[d.jsx("option",{value:"all",children:"All"}),d.jsx("option",{value:"high",children:"High"}),d.jsx("option",{value:"medium",children:"Medium"}),d.jsx("option",{value:"low",children:"Low"})]})]}),d.jsxs("label",{className:"flex flex-col text-xs font-semibold uppercase tracking-[0.2em] text-stone/70",children:["Over limit",d.jsxs("select",{value:c,onChange:j=>f(j.target.value),className:"mt-1 rounded-xl border border-stone/20 bg-white px-3 py-2 text-sm text-ink outline-none transition focus:border-accent/40 focus:ring-2 focus:ring-accent/15",children:[d.jsx("option",{value:"all",children:"All"}),d.jsx("option",{value:"over",children:"Over limit"}),d.jsx("option",{value:"within",children:"Within limit"})]})]})]})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-semibold uppercase tracking-[0.25em] text-stone/70",children:"Variations"}),d.jsx("div",{className:"mt-3 max-h-64 space-y-2 overflow-y-auto pr-2",children:C.length===0?d.jsx("p",{className:"rounded-2xl border border-stone/20 bg-frost px-3 py-3 text-xs text-stone",children:"No variations match the selected filters."}):C.map(({story:j,varId:R})=>{var U;const T=r.includes(j.id),D=(((U=j.derived_fields)==null?void 0:U.over_limit_count)??0)>0;return d.jsxs("label",{className:`flex cursor-pointer items-center justify-between rounded-2xl border px-3 py-2 text-sm transition ${T?"border-accent/40 bg-pastel-lilac":"border-stone/20 bg-white hover:border-accent/30"}`,children:[d.jsxs("div",{children:[d.jsx("span",{className:"font-semibold text-ink",children:R}),d.jsxs("p",{className:"text-xs text-stone/70",children:["Priority: ",j.priority,D?" - Over limit":""]})]}),d.jsx("input",{type:"checkbox",checked:T,onChange:()=>k(j.id),className:"h-4 w-4 accent-ink"})]},j.id)})})]})]}),d.jsx("div",{className:"min-w-0 rounded-2xl border border-stone/20 bg-white/95 p-4 shadow-sm",children:_()})]})]})},qP=[{label:"All",value:"all"},{label:"High",value:"high"},{label:"Medium",value:"medium"},{label:"Low",value:"low"}],VP=[{label:"All",value:"all"},{label:"Yes",value:"over"},{label:"No",value:"within"}],QP=[{label:"Priority",value:"priority"},{label:"Var ID",value:"var_id"},{label:"Over Limit Count",value:"over_limit"},{label:"Updated Date",value:"updated_at"},{label:"Board Order",value:"board"}],KP=[{label:"Cozy",value:"cozy"},{label:"Comfort",value:"comfortable"},{label:"Dense",value:"compact"}],GP=({searchTerm:e,onSearchTermChange:t,filters:n,onFiltersChange:r,sortBy:s,onSortByChange:i,density:o,onDensityChange:a,availableAngles:l,onClearFilters:c})=>{const f=x.useMemo(()=>{const b=[];return n.priority!=="all"&&b.push({label:`Priority: ${XP(n.priority)}`,onRemove:()=>r({...n,priority:"all"})}),n.overLimit!=="all"&&b.push({label:`Over Limit: ${n.overLimit==="over"?"Yes":"No"}`,onRemove:()=>r({...n,overLimit:"all"})}),n.angles.forEach(C=>{b.push({label:`Angle: ${C}`,onRemove:()=>r({...n,angles:n.angles.filter(k=>k!==C)})})}),b},[n,r]),h=b=>{t(b.currentTarget.value)},g=b=>{n.angles.includes(b)?r({...n,angles:n.angles.filter(C=>C!==b)}):r({...n,angles:[...n.angles,b]})},w=n.priority!=="all"||n.overLimit!=="all"||n.angles.length>0||e.trim()!=="";return d.jsxs("section",{className:"surface-panel surface-panel--muted mt-8 px-5 py-6 shadow-deep",children:[d.jsxs("div",{className:"flex flex-col gap-5 lg:flex-row lg:items-center lg:justify-between",children:[d.jsx("div",{className:"flex-1",children:d.jsxs("label",{className:"flex w-full items-center gap-3 rounded-2xl border border-stone/20 bg-white px-4 py-2.5 text-sm text-stone shadow-sm focus-within:border-accent/40 focus-within:ring-2 focus-within:ring-accent/10",children:[d.jsx(RE,{className:"text-stone"}),d.jsx("input",{type:"search",value:e,onInput:h,className:"flex-1 bg-transparent text-base text-ink placeholder:text-stone focus:outline-none",placeholder:"Search hooks, assets, angles..."})]})}),d.jsxs("div",{className:"grid w-full gap-3 sm:grid-cols-2 lg:w-auto lg:grid-cols-4",children:[d.jsx(Xa,{label:"Priority",options:qP,value:n.priority,onChange:b=>r({...n,priority:b})}),d.jsx(Xa,{label:"Over limit",options:VP,value:n.overLimit,onChange:b=>r({...n,overLimit:b})}),d.jsx(Xa,{label:"Sort by",options:QP,value:s,onChange:i}),d.jsx(Xa,{label:"Density",options:KP,value:o,onChange:a})]})]}),d.jsxs("div",{className:"mt-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.25em] text-stone/70",children:"Angles"}),d.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:l.length>0?l.map(b=>{const C=n.angles.includes(b);return d.jsx("button",{type:"button",onClick:()=>g(b),className:`rounded-full px-3 py-1 text-xs font-semibold transition ${C?"border border-accent/40 bg-accent text-white shadow-deep":"border border-stone/20 bg-pastel-lilac text-ink/80 hover:border-accent/30"}`,children:b},b)}):d.jsx("span",{className:"text-xs text-stone",children:"No angles detected yet."})})]}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[f.map(b=>d.jsxs("button",{type:"button",onClick:b.onRemove,className:"flex items-center gap-2 rounded-full border border-stone/20 bg-white px-3 py-1 text-xs font-semibold text-ink transition hover:border-accent/30",children:[b.label,d.jsx(D0,{className:"text-stone"})]},b.label)),w&&d.jsx("button",{type:"button",onClick:c,className:"rounded-full border border-stone/30 px-3 py-1 text-xs font-semibold text-stone transition hover:border-ink/30",children:"Clear filters"})]})]})]})},Xa=({label:e,options:t,value:n,onChange:r})=>d.jsxs("label",{className:"flex flex-col text-xs font-semibold uppercase tracking-[0.2em] text-stone/70",children:[e,d.jsx("select",{value:n,onChange:s=>r(s.currentTarget.value),className:"mt-1 rounded-xl border border-stone/20 bg-white px-3 py-2 text-sm text-ink outline-none transition focus:border-accent/40 focus:ring-2 focus:ring-accent/15",children:t.map(s=>d.jsx("option",{value:s.value,children:s.label},s.value))})]}),XP=e=>e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "),YP=e=>{const[t,n]=x.useState(""),[r,s]=x.useState({priority:"all",overLimit:"all",angles:[]}),[i,o]=x.useState("priority"),[a,l]=x.useState("comfortable"),c=x.useMemo(()=>{if(!e)return[];const w=new Set;return e.epics.forEach(b=>{b.user_stories.forEach(C=>{var v,y,S;const k=(S=(y=(v=C.derived_fields)==null?void 0:v.meta)==null?void 0:y.angle_name)==null?void 0:S.trim();k&&w.add(k)})}),Array.from(w).sort((b,C)=>b.localeCompare(C))},[e]),f=x.useMemo(()=>{if(!e)return[];const w=t.trim().toLowerCase(),b={high:0,medium:1,low:2},C=(R,T)=>(R.position??0)-(T.position??0),v={priority:(R,T)=>{const D=b[R.priority]-b[T.priority];return D!==0?D:C(R,T)},var_id:(R,T)=>{var L,z,O,A;const D=((z=(L=R.derived_fields)==null?void 0:L.meta)==null?void 0:z.var_id)??"",U=((A=(O=T.derived_fields)==null?void 0:O.meta)==null?void 0:A.var_id)??"",I=D.localeCompare(U);return I!==0?I:C(R,T)},over_limit:(R,T)=>{var U,I;const D=(((U=T.derived_fields)==null?void 0:U.over_limit_count)??0)-(((I=R.derived_fields)==null?void 0:I.over_limit_count)??0);return D!==0?D:C(R,T)},updated_at:(R,T)=>{const D=I=>{if(!I)return 0;const L=new Date(I).getTime();return Number.isNaN(L)?0:L},U=D(T.updated_at)-D(R.updated_at);return U!==0?U:C(R,T)},board:C},y=R=>{var U,I;if(!w)return!0;const T=R.derived_fields,D=[];return T!=null&&T.assets&&D.push(...Object.values(T.assets).filter(L=>typeof L=="string")),(U=T==null?void 0:T.meta)!=null&&U.var_id&&D.push(T.meta.var_id),(I=T==null?void 0:T.meta)!=null&&I.angle_name&&D.push(T.meta.angle_name),R.content&&D.push(R.content),D.some(L=>L.toLowerCase().includes(w))},S=R=>{var T,D,U;if(r.priority!=="all"&&R.priority!==r.priority)return!1;if(r.overLimit!=="all"){const I=(((T=R.derived_fields)==null?void 0:T.over_limit_count)??0)>0?"over":"within";if(r.overLimit!==I)return!1}if(r.angles.length>0){const I=(U=(D=R.derived_fields)==null?void 0:D.meta)==null?void 0:U.angle_name;if(!I||!r.angles.includes(I))return!1}return!0},_=w.length>0||r.priority!=="all"||r.overLimit!=="all"||r.angles.length>0,j=e.epics.map(R=>{const T=R.user_stories.filter(y).filter(S).slice().sort(v[i]);return{...R,user_stories:T}});return _?j.filter(R=>R.user_stories.length>0):j},[e,t,r,i]);return{searchTerm:t,setSearchTerm:n,filters:r,setFilters:s,sortBy:i,setSortBy:o,density:a,setDensity:l,availableAngles:c,filteredEpics:f,handleManualSort:()=>o("board"),clearFilters:()=>{n(""),s({priority:"all",overLimit:"all",angles:[]})}}},JP=e=>e==null?"":`"${String(e).replace(/"/g,'""')}"`,ZP=async(e,t=",")=>{const r=[["Epic / Angle","User Story ID","Content","Priority","Var ID","Google H1","Google Description","Meta Primary","LP H1","Email Subject","CTA","Proof","Objection","Is AI Generated"].join(t)],s=e.epics||[];let i=0;for(const o of s){const a=o.user_stories||[];for(const l of a){i++%50===0&&await new Promise(b=>setTimeout(b,0));const c=l.derived_fields,f=c==null?void 0:c.meta,h=c==null?void 0:c.assets,g=c==null?void 0:c.reasoning,w=[o.title,l.id,l.content,l.priority,f==null?void 0:f.var_id,h==null?void 0:h.google_h1,h==null?void 0:h.google_desc,h==null?void 0:h.meta_primary,h==null?void 0:h.lp_h1,h==null?void 0:h.email_subject,h==null?void 0:h.cta,g==null?void 0:g.proof,g==null?void 0:g.objection,l.is_ai_generated?"Yes":"No"].map(JP).join(t);r.push(w)}}return r.join(`\r
`)},eT=(e,t)=>{if(typeof window>"u")return;const n=new Blob(["\uFEFF"+e],{type:"text/csv;charset=utf-8;"}),r=URL.createObjectURL(n),s=document.createElement("a");s.setAttribute("href",r),s.setAttribute("download",t),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(r)},tT=e=>{const[t,n]=x.useState(!1),{showToast:r}=Rs(),s=x.useCallback(async()=>{if(e)try{n(!0);const i=await ZP(e,","),a=new Date().toISOString().replace(/[:.]/g,"-").slice(0,19);let l=e.name.replace(/[^a-z0-9]/gi,"_").toLowerCase();l||(l=e.id||"blueprint_export");const c=`${l.slice(0,50)}_${a}.csv`;eT(i,c),r({type:"success",message:"CSV exported."})}catch(i){console.error("CSV export failed:",i),r({type:"error",message:"Failed to export CSV."})}finally{n(!1)}},[e,r]);return{isDownloading:t,handleDownloadAllCsv:s}};function nT(){const{projectId:e}=MC(),t=tr(),[n,r]=x.useState(!1),{data:s,isLoading:i,error:o,isFetching:a}=Jj(e),{user:l,isAuthLoading:c}=Pi(),[f,h]=x.useState(!1),[g,w]=x.useState(null),{searchTerm:b,setSearchTerm:C,filters:k,setFilters:v,sortBy:y,setSortBy:S,density:_,setDensity:j,availableAngles:R,filteredEpics:T,handleManualSort:D,clearFilters:U}=YP(s),{handleDownloadAllCsv:I,isDownloading:L}=tT(s),z=tN(s==null?void 0:s.id,s==null?void 0:s.status),{retry:O,isRetrying:A}=nN(s==null?void 0:s.id);x.useEffect(()=>{var $;if(($=t.state)!=null&&$.claimed){r(!0);const Q=setTimeout(()=>r(!1),5e3);return()=>clearTimeout(Q)}},[t.state]),x.useEffect(()=>{const $=localStorage.getItem(go);h(!!($&&$===e))},[e]);const W=x.useMemo(()=>{if(!s||!g)return null;for(const $ of s.epics){const Q=$.user_stories.find(Z=>Z.id===g);if(Q)return Q}return null},[s,g]);x.useEffect(()=>{!g||W||w(null)},[W,g]);const Y=x.useCallback($=>{w($.id)},[]),q=()=>{var Q,Z;if(i||c)return d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"surface-panel surface-panel--muted p-6 animate-pulse",children:[d.jsx("div",{className:"h-5 w-2/5 rounded-full bg-stone/20"}),d.jsx("div",{className:"mt-3 h-4 w-3/5 rounded-full bg-stone/15"}),d.jsx("div",{className:"mt-6 h-3 w-1/3 rounded-full bg-stone/15"})]}),d.jsx(sN,{})]});if(o){const X=(Q=o.response)==null?void 0:Q.data,ce=(typeof X=="string"?X:typeof X=="object"&&X!==null&&"message"in X?X.message:void 0)??o.message??"Could not load project data.";return d.jsxs("div",{className:"surface-panel surface-panel--muted mt-10 px-6 py-8 text-center shadow-deep",children:[d.jsx("h1",{className:"font-display text-2xl font-semibold text-ink",children:"Something went wrong"}),d.jsx("p",{className:"mt-3 text-base text-stone",children:ce})]})}if(!s)return d.jsx("div",{className:"surface-panel surface-panel--muted mt-10 px-6 py-10 text-center shadow-deep",children:d.jsx("p",{className:"text-base text-stone",children:"We couldn't find this blueprint. Try refreshing the page or returning to your dashboard."})});const $=(Z=s.idea_text)==null?void 0:Z.trim();return d.jsxs(d.Fragment,{children:[d.jsxs("header",{className:"space-y-3",children:[d.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-stone/70",children:"Blueprint overview"}),d.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[d.jsx("h1",{className:"font-display text-3xl font-semibold text-ink md:text-4xl",children:s.name}),a&&d.jsx("span",{className:"text-sm font-medium text-stone",children:"Syncing data..."})]}),d.jsxs("p",{className:"text-base text-stone",children:["Idea:"," ",$?d.jsx("span",{className:"font-medium text-ink/80",children:$}):d.jsx("span",{className:"text-stone/80",children:"No idea provided yet."})]})]}),z&&d.jsx(z2,{status:s.status,progress:s.progress,stage:s.stage,message:s.message,onRetry:s.status==="failed"?O:void 0,isRetrying:A,projectId:s.id}),d.jsx(GP,{searchTerm:b,onSearchTermChange:C,filters:k,onFiltersChange:X=>v(X),sortBy:y,onSortByChange:S,density:_,onDensityChange:j,availableAngles:R,onClearFilters:U}),d.jsx(A2,{project:s,onCardSelect:Y,visibleEpics:T,density:_,onManualSort:D}),d.jsxs("div",{className:"mt-12 space-y-10",children:[d.jsx(U2,{project:s}),d.jsx(WP,{project:s})]})]})},M=!l&&f;return d.jsxs("main",{className:"relative min-h-screen bg-frost text-ink",children:[d.jsx("div",{className:"grain"}),d.jsx("div",{className:"pointer-events-none fixed inset-0 bg-minimal"}),n&&d.jsx("div",{className:"fixed left-1/2 top-6 z-40 w-11/12 max-w-lg -translate-x-1/2",children:d.jsx("div",{className:"rounded-2xl border border-emerald-200 bg-white/95 px-5 py-4 text-center text-sm font-semibold text-emerald-900 shadow-deep",children:"Project successfully saved to your account!"})}),d.jsx("div",{className:"relative z-10 mx-auto max-w-7xl px-4 pb-24 pt-12 sm:px-6 lg:px-8",children:q()}),d.jsx(UP,{story:W,isOpen:!!g,onClose:()=>w(null),onDownloadCsv:I,isDownloading:L,projectId:(s==null?void 0:s.id)??e}),M&&d.jsx(Oj,{})]})}function dw({title:e,subtitle:t,toggle:n,children:r,footer:s,className:i}){return d.jsxs(lx,{className:Gt("w-full max-w-md px-6 py-8 shadow-deep sm:px-8 animate-authRise",i),children:[n&&d.jsx("div",{className:"mb-6 flex items-center justify-center",children:n}),d.jsxs("div",{className:"space-y-3 text-center",children:[d.jsx("div",{className:"mx-auto h-1 w-16 rounded-full bg-gradient-to-r from-pastel-lilac via-accent/40 to-pastel-mint"}),d.jsx("h2",{className:"font-display text-2xl font-semibold text-ink",children:e}),d.jsx("p",{className:"text-sm text-stone",children:t})]}),d.jsx("div",{className:"mt-8",children:r}),s&&d.jsx("div",{className:"mt-6",children:s})]})}function fw({active:e}){const t="flex-1 rounded-full px-4 py-2 text-center text-sm font-semibold transition-all duration-200";return d.jsxs("nav",{className:"flex w-full max-w-xs items-center gap-2 rounded-full bg-white/70 p-1 text-stone shadow-inner",children:[d.jsx(Ae,{to:_e.login,className:Gt(t,e==="login"?"bg-ink text-white shadow-lg":"text-ink/50 hover:text-ink"),children:"Sign in"}),d.jsx(Ae,{to:_e.register,className:Gt(t,e==="register"?"bg-ink text-white shadow-lg":"text-ink/50 hover:text-ink"),children:"Create account"})]})}function hw(e,t){var r,s,i,o;if(!e)return"";const n=e;return(s=(r=n==null?void 0:n.response)==null?void 0:r.data)!=null&&s.errors?Object.values(n.response.data.errors).flat().join(" "):(o=(i=n==null?void 0:n.response)==null?void 0:i.data)!=null&&o.message?n.response.data.message:e instanceof Error&&e.message?e.message:t}const rT=()=>{const[e,t]=x.useState(""),[n,r]=x.useState(""),{login:s}=Pi(),i=Nn({mutationFn:s}),o=async l=>{l.preventDefault(),i.reset();try{await i.mutateAsync({email:e,password:n})}catch(c){console.error("Login failed:",c)}},a=i.error?hw(i.error,"Invalid credentials."):null;return d.jsxs("main",{className:"relative min-h-screen bg-frost text-ink",children:[d.jsx("div",{className:"grain"}),d.jsx("div",{className:"fixed inset-0 bg-minimal"}),d.jsx("div",{className:"relative z-10 flex min-h-screen items-start justify-center px-4 py-10 sm:items-center sm:px-8",children:d.jsx(dw,{title:"Sign in",subtitle:"Pick up where you left off and continue refining your launch plan.",toggle:d.jsx(fw,{active:"login"}),footer:d.jsxs("p",{className:"hint-text",children:["Need an account?"," ",d.jsx(Ae,{to:_e.register,className:"text-accent",children:"Create one"})]}),children:d.jsxs("form",{onSubmit:o,className:"space-y-6",children:[d.jsx(rs,{id:"login-email",label:"Email address",inputProps:{type:"email",name:"email",autoComplete:"email",required:!0,value:e,onChange:l=>t(l.target.value),disabled:i.isPending}}),d.jsx(rs,{id:"login-password",label:"Password",inputProps:{type:"password",name:"password",autoComplete:"current-password",required:!0,value:n,onChange:l=>r(l.target.value),disabled:i.isPending}}),a&&d.jsx("div",{className:"rounded-2xl border border-red-200 bg-red-50/80 p-4 text-sm text-red-700",role:"alert","aria-live":"polite",children:a}),d.jsxs("div",{className:"space-y-3",children:[d.jsx(Th,{type:"submit",className:"disabled:pointer-events-none disabled:opacity-60",disabled:i.isPending,children:i.isPending?"Signing in...":"Sign in"}),d.jsxs("p",{className:"hint-text",children:["Forgot your password?"," ",d.jsx("a",{href:"mailto:support@marketingblueprint.ai",className:"text-accent",children:"Contact support"}),"."]})]})]})})})]})},sT=()=>{const[e,t]=x.useState(""),[n,r]=x.useState(""),[s,i]=x.useState(""),[o,a]=x.useState(""),[l,c]=x.useState(null),{register:f}=Pi(),h=Nn({mutationFn:f}),g=async C=>{if(C.preventDefault(),c(null),h.reset(),s!==o){c("Passwords do not match.");return}try{await h.mutateAsync({name:e,email:n,password:s,password_confirmation:o})}catch(k){console.error("Registration failed:",k)}},w=h.error?hw(h.error,"An error occurred during registration."):null,b=l??w;return d.jsxs("main",{className:"relative min-h-screen bg-frost text-ink",children:[d.jsx("div",{className:"grain"}),d.jsx("div",{className:"fixed inset-0 bg-minimal"}),d.jsx("div",{className:"relative z-10 flex min-h-screen items-start justify-center px-4 py-10 sm:items-center sm:px-8",children:d.jsx(dw,{title:"Create an account",subtitle:"Launch with confidencesave briefs, channel plans, and KPIs inside one workspace.",toggle:d.jsx(fw,{active:"register"}),footer:d.jsxs("p",{className:"hint-text",children:["Already onboard?"," ",d.jsx(Ae,{to:_e.login,className:"text-accent",children:"Sign in"}),"."]}),children:d.jsxs("form",{onSubmit:g,className:"space-y-6",children:[d.jsx(rs,{id:"register-name",label:"Full name",inputProps:{type:"text",name:"name",autoComplete:"name",required:!0,value:e,onChange:C=>t(C.target.value),disabled:h.isPending}}),d.jsx(rs,{id:"register-email",label:"Work email",inputProps:{type:"email",name:"email",autoComplete:"email",required:!0,value:n,onChange:C=>r(C.target.value),disabled:h.isPending}}),d.jsx(rs,{id:"register-password",label:"Password",inputProps:{type:"password",name:"password",autoComplete:"new-password",required:!0,value:s,onChange:C=>i(C.target.value),disabled:h.isPending}}),d.jsx(rs,{id:"register-password-confirmation",label:"Confirm password",inputProps:{type:"password",name:"password_confirmation",autoComplete:"new-password",required:!0,value:o,onChange:C=>a(C.target.value),disabled:h.isPending}}),b&&d.jsx("div",{className:"rounded-2xl border border-red-200 bg-red-50/80 p-4 text-sm text-red-700",role:"alert","aria-live":"polite",children:b}),d.jsx(Th,{type:"submit",className:"disabled:pointer-events-none disabled:opacity-60",disabled:h.isPending,children:h.isPending?"Creating account...":"Create account"})]})})})]})},pw=10,iT=({page:e,perPage:t=pw})=>{const{user:n}=Pi();return O0({queryKey:lt.myProjects(e,t),queryFn:()=>fj({page:e,perPage:t}),enabled:!!n,staleTime:60*1e3,placeholderData:Mk,retry:(r,s)=>{var i;return((i=s.response)==null?void 0:i.status)===401?!1:r<2}})},Pg=["projects","mine"],Tg=(e,t)=>{var n;if(e instanceof ua){const r=(n=e.response)!=null&&n.data&&typeof e.response.data=="object"&&e.response.data!==null&&"message"in e.response.data?e.response.data.message:void 0;if(r)return r;if(typeof e.message=="string"&&e.message.length>0)return e.message}return e&&typeof e=="object"&&"message"in e&&typeof e.message=="string"?e.message:t};function oT(e){const t=Tn(),{showToast:n}=Rs(),r=Nn({mutationFn:i=>cj(e,{name:i.trim()}),onSuccess:async i=>{t.setQueryData(lt.project(e),o=>o&&{...o,name:i.name,updated_at:i.updated_at}),await t.invalidateQueries({queryKey:Pg,exact:!1}),n({type:"success",message:"Project renamed."})},onError:i=>{n({type:"error",message:Tg(i,"Unable to rename project.")})}}),s=Nn({mutationFn:()=>dj(e),onSuccess:async()=>{await t.invalidateQueries({queryKey:Pg,exact:!1}),t.removeQueries({queryKey:lt.project(e),exact:!0}),n({type:"success",message:"Project deleted."})},onError:i=>{n({type:"error",message:Tg(i,"Unable to delete project.")})}});return{renameProject:r.mutateAsync,isRenaming:r.isPending,deleteProject:s.mutateAsync,isDeleting:s.isPending}}function aT({project:e,blueprintHref:t,lastUpdatedLabel:n,isMenuOpen:r,onToggleMenu:s,onCloseMenu:i,onPrefetch:o}){const[a,l]=x.useState(e.name),[c,f]=x.useState(e.name),[h,g]=x.useState(!1),w=x.useRef(null),[b,C]=x.useState(!1),{renameProject:k,deleteProject:v,isRenaming:y,isDeleting:S}=oT(e.id);x.useEffect(()=>{l(e.name),h||f(e.name)},[e.name,h]);const _=()=>{g(!0),f(a),i()},j=()=>{f(a),g(!1)},R=async z=>{z.preventDefault();const O=c.trim();if(!O||O===a){f(a),g(!1);return}try{const A=await k(O);l(A.name),f(A.name),g(!1)}catch{}},T=()=>{i(),C(!0)},D=async()=>{if(!S)try{await v(),C(!1)}catch{}},U=()=>{S||C(!1)},I=h?"true":void 0,L=r?"true":"false";return d.jsxs("li",{className:"row-card px-5 py-4 md:px-6 md:py-5","data-row":!0,"data-editing":I,children:[d.jsxs("div",{className:"relative flex flex-col gap-4 md:flex-row md:items-center md:gap-6",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"title-wrap flex items-center gap-3",children:d.jsx("h3",{className:"font-display text-[18px] md:text-[19px] font-semibold tracking-tight truncate",children:a})}),d.jsxs("p",{className:"mt-1 text-sm text-stone/90",children:["Last updated: ",n]}),d.jsx("div",{className:"rename-wrap mt-2",children:d.jsxs("form",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",onSubmit:R,children:[d.jsx("input",{className:"inline-input",value:c,onChange:z=>f(z.target.value),"aria-label":"Rename project",disabled:y}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{type:"submit",className:"px-3 py-2 rounded-lg bg-ink text-white text-sm disabled:opacity-60 disabled:pointer-events-none",disabled:y,children:"Save"}),d.jsx("button",{type:"button",className:"px-3 py-2 rounded-lg border border-stone/30 bg-white text-sm disabled:opacity-60 disabled:pointer-events-none",onClick:j,disabled:y,children:"Cancel"})]})]})})]}),d.jsxs("div",{className:"row-actions gap-2 sm:gap-3","data-menu-root":!0,children:[d.jsxs("div",{className:"action-rail","data-open":L,children:[d.jsxs("button",{type:"button",className:"action-chip action-chip--rename",onClick:_,ref:w,disabled:y||S,children:[d.jsx(SE,{}),d.jsx("span",{className:"hidden sm:inline",children:"Rename"})]}),d.jsxs("button",{type:"button",className:"action-chip action-chip--delete",onClick:T,disabled:S,children:[d.jsx(LE,{}),d.jsx("span",{className:"hidden sm:inline",children:"Delete"})]})]}),d.jsx("div",{className:"row-actions__cta",children:d.jsxs(Ae,{to:t,className:"open-btn",onMouseEnter:o,children:[d.jsx(yE,{}),d.jsx("span",{className:"hidden sm:inline",children:"Open Blueprint"}),d.jsx("span",{className:"sm:hidden",children:"Open"})]})}),d.jsx("button",{type:"button",className:"kebab","aria-haspopup":"menu","aria-expanded":r,"data-open":L,onClick:z=>{z.stopPropagation(),s()},children:d.jsx(kE,{})})]})]}),d.jsx(cw,{open:b,title:"Delete project?",description:`This will permanently remove "${a}". This action cannot be undone.`,confirmLabel:"Delete project",onCancel:U,onConfirm:D,loading:S})]})}function lT(){const[e,t]=x.useState(null);x.useEffect(()=>{if(!e)return;const i=a=>{const l=a.target;l!=null&&l.closest("[data-menu-root]")||t(null)},o=a=>{a.key==="Escape"&&t(null)};return document.addEventListener("click",i),document.addEventListener("keydown",o),()=>{document.removeEventListener("click",i),document.removeEventListener("keydown",o)}},[e]);const n=x.useCallback(i=>{t(o=>o===i?null:i)},[]),r=x.useCallback(()=>{t(null)},[]),s=x.useCallback(i=>e===i,[e]);return{openMenuId:e,isMenuOpen:s,toggleMenu:n,closeMenu:r}}const uT=new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}),cT=()=>{const{user:e}=Pi(),{showToast:t}=Rs(),n=Tn(),[r,s]=x.useState(1),[i,o]=x.useState(""),{openMenuId:a,toggleMenu:l,closeMenu:c}=lT(),{data:f,isLoading:h,isError:g,error:w,refetch:b,isFetching:C}=iT({page:r,perPage:pw}),k=x.useRef(null),v=f==null?void 0:f.meta,y=(f==null?void 0:f.data)??[],{currentPage:S,lastPage:_,total:j,rangeStart:R,rangeEnd:T,canPrevious:D,canNext:U}=x.useMemo(()=>{const q=(v==null?void 0:v.current_page)??r,M=Math.max((v==null?void 0:v.last_page)??1,1),$=(v==null?void 0:v.total)??0,Q=$===0?0:(v==null?void 0:v.from)??0,Z=$===0?0:(v==null?void 0:v.to)??0;return{currentPage:q,lastPage:M,total:$,rangeStart:Q,rangeEnd:Z,canPrevious:q>1,canNext:q<M}},[v,r]);x.useEffect(()=>{v&&r>_&&s(_)},[v,r,_]),x.useEffect(()=>{!e&&r!==1&&s(1)},[e,r]),x.useEffect(()=>{a&&(y.some(q=>q.id===a)||c())},[a,y,c]);const I=x.useCallback(q=>{n.prefetchQuery({queryKey:lt.project(q),queryFn:()=>ix(q),staleTime:10*60*1e3})},[n]),L=x.useCallback(()=>{if(!w)return"Unable to load projects.";if(!w.response)return"Network error. Please check your connection.";const q=w.response.data;if(typeof q=="string")return q;if(q&&typeof q=="object"){const M=q;if(M.errors&&typeof M.errors=="object"){const $=Object.values(M.errors).find(Q=>Array.isArray(Q)&&Q[0]);if(Array.isArray($)&&typeof $[0]=="string")return $[0]}if(typeof M.message=="string")return M.message;if(typeof M.error=="string")return M.error}return w.message||"Unable to load projects."},[w]);x.useEffect(()=>{var $;if(!g||!w){k.current=null;return}if((($=w.response)==null?void 0:$.status)===401){k.current=null;return}const M=L();M&&k.current!==M&&(t({message:M,type:"error"}),k.current=M)},[g,w,L,t]);const z=x.useCallback(()=>{s(q=>q>1?q-1:q)},[]),O=x.useCallback(()=>{s(q=>q<_?q+1:q)},[_]),A=x.useMemo(()=>{if(!i.trim())return y;const q=i.trim().toLowerCase();return y.filter(M=>M.name.toLowerCase().includes(q))},[y,i]),W=x.useMemo(()=>i.trim()?`Showing ${A.length} of ${y.length} results`:j?`Showing ${R}-${T} of ${j} projects`:"No projects to display",[A.length,y.length,R,T,j,i]),Y=()=>{var q;return e?h?d.jsxs("div",{className:"rounded-2xl bg-white/70 p-6 shadow-deep",role:"status","aria-live":"polite",children:[d.jsx("span",{className:"sr-only",children:"Loading projects..."}),d.jsx(iN,{})]}):g?((q=w==null?void 0:w.response)==null?void 0:q.status)===401?d.jsxs("div",{className:"text-center text-stone",children:[d.jsx("p",{children:"You need to sign in to view your projects."}),d.jsx(Ae,{to:_e.login,className:"mt-4 inline-flex justify-center open-btn bg-pastel-lilac",children:"Go to Login"})]}):d.jsxs("div",{className:"text-center text-red-600",children:[d.jsxs("p",{children:["Error loading projects: ",L()]}),d.jsx("button",{type:"button",onClick:()=>b(),className:"mt-4 inline-flex justify-center open-btn bg-pastel-rose text-ink border border-stone/20 hover:text-white hover:bg-accent hover:border-transparent",children:"Retry"})]}):y.length?A.length?d.jsxs(d.Fragment,{children:[d.jsx("ul",{className:"space-y-4",children:A.map(M=>d.jsx(aT,{project:M,blueprintHref:_e.blueprint(M.id),lastUpdatedLabel:uT.format(new Date(M.updated_at)),isMenuOpen:a===M.id,onToggleMenu:()=>l(M.id),onCloseMenu:c,onPrefetch:()=>I(M.id)},M.id))}),d.jsxs("div",{className:"mt-8 flex flex-col gap-3 text-sm text-stone sm:flex-row sm:items-center sm:justify-between",children:[d.jsx("div",{children:W}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{type:"button",className:"open-btn bg-pastel-mint text-ink border border-stone/20 hover:text-white hover:bg-accent hover:border-transparent",onClick:z,disabled:!D,children:"Previous"}),d.jsxs("span",{className:"px-3 py-2 rounded-lg border border-stone/20 bg-white",children:["Page ",S," of ",_]}),d.jsx("button",{type:"button",className:"open-btn bg-pastel-lilac text-ink border border-stone/20 hover:text-white hover:bg-accent hover:border-transparent",onClick:O,disabled:!U,children:"Next"})]})]}),C&&!h&&d.jsx("p",{className:"mt-2 text-center text-xs text-stone/70",children:"Updating"})]}):d.jsx("div",{className:"text-center text-stone",children:d.jsxs("p",{children:["No projects match ",i,". Try a different keyword."]})}):d.jsxs("div",{className:"text-center text-stone",children:[d.jsx("p",{children:"You don't have any saved projects yet."}),d.jsx(Ae,{to:_e.home,className:"mt-4 inline-flex justify-center open-btn bg-pastel-mint text-ink border border-stone/20 hover:text-white hover:bg-accent hover:border-transparent",children:"Create Your First Project"})]}):d.jsxs("div",{className:"text-center text-stone",children:[d.jsx("p",{children:"You need to sign in to view your projects."}),d.jsx(Ae,{to:_e.login,className:"mt-4 inline-flex justify-center open-btn bg-pastel-lilac",children:"Go to Login"})]})};return d.jsxs("main",{className:"relative z-10 font-body text-ink",children:[d.jsx("div",{className:"grain"}),d.jsx("div",{className:"fixed inset-0 bg-minimal pointer-events-none"}),d.jsxs("section",{className:"max-w-6xl mx-auto px-4 sm:px-6 pt-12 pb-16",children:[d.jsxs("div",{className:"flex items-end justify-between gap-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h1",{className:"font-display text-4xl md:text-5xl font-bold tracking-tight",children:"My Projects"}),d.jsx("div",{className:"mt-2 soft-sep"})]}),d.jsx("div",{className:"hidden sm:block w-[220px]",children:d.jsx(Ae,{to:_e.home,className:"btn-editorial inline-flex justify-center",children:"New Project"})})]}),d.jsxs("div",{className:"mt-6 flex flex-col gap-3 md:flex-row md:items-center md:gap-4",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx("input",{className:"input-clean toolbar-input",placeholder:"Search projects","aria-label":"Search projects",value:i,onChange:q=>o(q.target.value),disabled:!e||h}),d.jsx(PE,{className:"absolute left-3 top-1/2 -translate-y-1/2 opacity-60"})]}),d.jsx("div",{className:"sm:hidden",children:d.jsx(Ae,{to:_e.home,className:"btn-editorial inline-flex justify-center",children:"New Project"})})]}),d.jsx("div",{className:"mt-6",children:Y()})]})]})},dT=(e,t)=>e>=3?!1:t instanceof ua&&(!t.response||t.response.status>=500&&t.response.status<=599),fT=new tE({defaultOptions:{queries:{staleTime:30*1e3,gcTime:5*60*1e3,retry:dT,refetchOnWindowFocus:!0}}});function hT(){return d.jsx(Sk,{children:d.jsx(Rj,{children:d.jsx(Cj,{children:d.jsx(Ej,{children:d.jsxs(ZC,{children:[d.jsx(Ds,{path:Hn.home,element:d.jsx(Tj,{})}),d.jsx(Ds,{path:Hn.blueprint,element:d.jsx(nT,{})}),d.jsx(Ds,{path:Hn.login,element:d.jsx(rT,{})}),d.jsx(Ds,{path:Hn.register,element:d.jsx(sT,{})}),d.jsx(Ds,{path:Hn.dashboard,element:d.jsx(cT,{})})]})})})})})}const Og=document.getElementById("app");Og&&r0(Og).render(d.jsx(we.StrictMode,{children:d.jsxs(nE,{client:fT,children:[d.jsx(hT,{}),!1]})}));
